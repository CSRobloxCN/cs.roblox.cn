(this["webpackJsonpluobu-moderation-ui"]=this["webpackJsonpluobu-moderation-ui"]||[]).push([[0],{169:function(e,t,a){e.exports={header:"PageHeader_header__1eGyf",logo:"PageHeader_logo__3OQz4",header_nav:"PageHeader_header_nav__34vAH"}},183:function(e,t,a){e.exports={tableWrapper:"GameSortInfoDashBoard_tableWrapper__21G4-",table:"GameSortInfoDashBoard_table__26UCk"}},184:function(e,t,a){e.exports={site_layout_background:"SideBar_site_layout_background__3J5we",menu:"SideBar_menu__2C75D"}},217:function(e,t,a){e.exports={dashboard:"Dashboard_dashboard__39jKL","ant-row":"Dashboard_ant-row__30Z5X"}},226:function(e,t,a){e.exports={ticket_from_pool:"TicketDetail_ticket_from_pool__35z_P"}},229:function(e,t,a){e.exports={dashboard:"GameMetricsDashboard_dashboard__3liHv"}},230:function(e,t,a){e.exports={userManagement:"UserManagement_userManagement__2ZzFr",siteLayoutContent:"UserManagement_siteLayoutContent__b77Pl"}},231:function(e,t,a){e.exports={ModeratorReviewDataRequest:"ModeratorReviewDataRequest_ModeratorReviewDataRequest__20had",siteLayoutContent:"ModeratorReviewDataRequest_siteLayoutContent__1EKtp"}},232:function(e,t,a){e.exports={spin:"LoadingWindow_spin__1-Mw7"}},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){},368:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(41),i=a.n(c),s=(a(172),a(248),a(249),a(250),a(215));"undefined"===typeof window.TextEncoder&&(window.TextEncoder=s.TextEncoder);var o,l=a(35),d=a(38),u=a(121),b=a(12),j="".concat(window.location.origin,"/login/callback"),m={OKTA_DOMAIN:"https://dev-4124158.okta.com",ISSUER:"https://dev-4124158.okta.com/oauth2/default",CLIENT_ID:"0oa21z6yh6tuBVEvL5d6",OKTA_TESTING_DISABLEHTTPSCHECK:"false",UI_SERVICE:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LOCAL_UISERVICE_PORT?"http://localhost:"+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LOCAL_UISERVICE_PORT:"http://172.20.144.60:9001",API_GATEWAY:"https://cs-dev.roblox.cn"},h=null;/localhost/i.test(window.location.hostname)?(h=m,o={GAME_SORT_INFO:[{label:"\u8fc5\u901f\u5d1b\u8d77",value:265},{label:"\u5b66\u4e60\u4e0e\u63a2\u7d22",value:266},{label:"\u89d2\u8272\u626e\u6f14",value:267},{label:"\u63a2\u9669\u5947\u9047",value:268},{label:"\u4e92\u52a8\u6bd4\u62fc",value:269},{label:"\u969c\u788d\u8d5b\u8dd1",value:270},{label:"\u7ecf\u8425\u7ba1\u7406",value:271},{label:"\u517b\u6210\u63a2\u7d22",value:272},{label:"\u6240\u6709\u521b\u4f5c",value:273}]}):/cs-dev.roblox.cn/i.test(window.location.hostname)?(h={OKTA_DOMAIN:"https://luobu.okta.com",ISSUER:"https://luobu.okta.com/oauth2/default",CLIENT_ID:"0oa1jophxv7V8D6Dd4x7",OKTA_TESTING_DISABLEHTTPSCHECK:"false",UI_SERVICE:"https://cs-dev.roblox.cn",API_GATEWAY:"https://cs-dev.roblox.cn"},o={GAME_SORT_INFO:[{label:"\u8fc5\u901f\u5d1b\u8d77",value:265},{label:"\u5b66\u4e60\u4e0e\u63a2\u7d22",value:266},{label:"\u89d2\u8272\u626e\u6f14",value:267},{label:"\u63a2\u9669\u5947\u9047",value:268},{label:"\u4e92\u52a8\u6bd4\u62fc",value:269},{label:"\u969c\u788d\u8d5b\u8dd1",value:270},{label:"\u7ecf\u8425\u7ba1\u7406",value:271},{label:"\u517b\u6210\u63a2\u7d22",value:272},{label:"\u6240\u6709\u521b\u4f5c",value:273}]}):(h={OKTA_DOMAIN:"https://luobu.okta.com",ISSUER:"https://luobu.okta.com/oauth2/default",CLIENT_ID:"0oa1jophxv7V8D6Dd4x7",OKTA_TESTING_DISABLEHTTPSCHECK:"false",UI_SERVICE:"https://cs.roblox.cn",API_GATEWAY:"https://cs.roblox.cn"},o={GAME_SORT_INFO:[{label:"\u8fc5\u901f\u5d1b\u8d77",value:111},{label:"\u5b66\u4e60\u4e0e\u63a2\u7d22",value:105},{label:"\u89d2\u8272\u626e\u6f14",value:123},{label:"\u63a2\u9669\u5947\u9047",value:126},{label:"\u4e92\u52a8\u6bd4\u62fc",value:129},{label:"\u969c\u788d\u8d5b\u8dd1",value:132},{label:"\u7ecf\u8425\u7ba1\u7406",value:135},{label:"\u517b\u6210\u63a2\u7d22",value:138},{label:"\u6240\u6709\u521b\u4f5c",value:110}]});var p={oidc:{clientId:h.CLIENT_ID,issuer:h.ISSUER,redirectUri:j,scopes:["openid","profile","email","groups"],pkce:!0,disableHttpsCheck:h.OKTA_TESTING_DISABLEHTTPSCHECK},resourceServer:{GetTicketByID:"".concat(h.UI_SERVICE,"/api/ticket/"),GetTicketWithActionByID:function(e){return"".concat(h.UI_SERVICE,"/api/ticket/").concat(e,"/ticket-with-action")},UserInAppAbuseReport:"".concat(h.UI_SERVICE,"/api/event-with-tickets/user-in-app-abuse-report"),UserInGameAbuseReport:"".concat(h.UI_SERVICE,"/api/event-with-tickets/user-in-game-abuse-report"),PlaceInAppAbuseReport:"".concat(h.UI_SERVICE,"/api/event-with-tickets/place-in-app-abuse-report"),PlaceInGameAbuseReport:"".concat(h.UI_SERVICE,"/api/event-with-tickets/place-in-game-abuse-report"),GetTicketHistoryByID:function(e){return"".concat(h.UI_SERVICE,"/api/ticket/").concat(e,"/history")},GetRobloxUserInfoWithUserID:"".concat(h.API_GATEWAY,"/proxy/roblox-public/v1/users/"),GetRobloxGameInfoWithGameID:"".concat(h.UI_SERVICE,"/api/get-game-info-by-universe-id?universeIds="),GetGameIDWithPlaceID:"".concat(h.UI_SERVICE,"/api/get-game-info-by-place-id?placeIds="),GetTicketPoolsWithPriority:"".concat(h.UI_SERVICE,"/api/ticket-pools-with-priorities"),GetTicketFromPool:"".concat(h.UI_SERVICE,"/api/ticket-pool/most-urgent-ticket"),SubmitTicketResult:"".concat(h.UI_SERVICE,"/api/ticket/submit-result"),GetModeratorHistoryByID:"".concat(h.UI_SERVICE,"/api/moderator/history"),GetModeratorLockedTicketsByID:"".concat(h.UI_SERVICE,"/api/moderator/locked-tickets"),BatchUpdateTicketsStatus:"".concat(h.UI_SERVICE,"/api/ticket/batch-update-status"),GetModeratorIntID:"".concat(h.UI_SERVICE,"/api/moderator"),CreateModeratorWithEmail:"".concat(h.UI_SERVICE,"/api/moderator"),AssetsAllowlist:"".concat(h.UI_SERVICE,"/api/toolbox/allowlist"),AllowlistUpdateHistory:"".concat(h.UI_SERVICE,"/api/toolbox/allowlist-update-history"),GetLuobuGameStatusMetrics:"".concat(h.UI_SERVICE,"/api/luobu-game-metrics"),GetLuobuGameStatusHistoryByGameId:function(e){return"".concat(h.UI_SERVICE,"/api/luobu-game-whiteList-status-histories/").concat(e)},GetLuobuGamesStatusHistories:"".concat(h.UI_SERVICE,"/api/luobu-game-whiteList-status-histories"),GetUserInfo:"".concat(h.UI_SERVICE,"/api/user/info"),MultiGetByUserId:"".concat(h.UI_SERVICE,"/api/user/multi-get-by-user-id"),BanUser:"".concat(h.UI_SERVICE,"/api/user/ban"),UnbanUser:"".concat(h.UI_SERVICE,"/api/user/unban"),UpdateUserDisplayName:"".concat(h.UI_SERVICE,"/api/user/change-user-display-name"),GetActionHistoryByUserId:"".concat(h.UI_SERVICE,"/api/user/get-ban-user-history-by-userId"),GetRecentBanStatusByUserId:"".concat(h.UI_SERVICE,"/api/user/get-worst-unacknowledged-punishment-operation"),GetUserPresenceByIds:"".concat(h.UI_SERVICE,"/api/user/get-user-presence-by-ids"),GetUserManagementActionHistory:"".concat(h.UI_SERVICE,"/api/user/get-user-management-action-history"),GetGameIdList:"".concat(h.UI_SERVICE,"/api/luobu-game-whiteList-status/gameIds"),GetLuobuGameSortInfo:"".concat(h.UI_SERVICE,"/api/luobu-sort-info"),UpdateLuobuGameSortInfo:"".concat(h.UI_SERVICE,"/api/luobu-sort-info"),LuobuGameSortIdList:o.GAME_SORT_INFO,GetDeveloperEmail:function(e){return"".concat(h.UI_SERVICE,"/api/developer-email?gameId=").concat(e)},GetGameIcon:function(e){return"".concat(h.UI_SERVICE,"/api/get-game-icon?universeIds=").concat(e)},BatchLockTickets:"".concat(h.UI_SERVICE,"/api/ticket-pool/batch-lock"),GetBatchLockedTickets:"".concat(h.UI_SERVICE,"/api/tickets"),BatchSubmitTickets:"".concat(h.UI_SERVICE,"/api/tickets/submit-batch"),GetPlaceSnapshotResult:function(e){return"".concat(h.UI_SERVICE,"/api/place-snapshot-result/").concat(e)},SavePlaceSnapshotResult:"".concat(h.UI_SERVICE,"/api/place-snapshot-result"),GetAsset:function(e){return"".concat(h.UI_SERVICE,"/api/get-asset?assetId=").concat(e)},GetUserInAppAbuseReport:"".concat(h.UI_SERVICE,"/api/event/user-in-app-abuse-report"),GetUserInGameAbuseReport:"".concat(h.UI_SERVICE,"/api/event/user-in-game-abuse-report"),GetPlaceInAppAbuseReport:"".concat(h.UI_SERVICE,"/api/event/place-in-app-abuse-report"),GetPlaceInGameAbuseReport:"".concat(h.UI_SERVICE,"/api/event/place-in-game-abuse-report"),ApproveGame:"".concat(h.UI_SERVICE,"/api/allowlist/approve-game"),RejectGame:"".concat(h.UI_SERVICE,"/api/allowlist/reject-game"),CloseGame:"".concat(h.UI_SERVICE,"/api/allowlist/close-game"),GetPlacesUnderGameId:"".concat(h.UI_SERVICE,"/api/place-updated/get-places-version-numbers-by-game-id"),GetGameUpdateRecordByTicketId:"".concat(h.UI_SERVICE,"/api/place-updated/get-records-by-ticket-id"),GetGameUpdateMostUrgentTicket:"".concat(h.UI_SERVICE,"/api/place-updated/most-urgent-ticket"),GameUpdateRecordResultBatchSubmit:"".concat(h.UI_SERVICE,"/api/place-updated/submit-batch"),GetModeratorTicketReviewData:"".concat(h.UI_SERVICE,"/api/moderators/moderator-ticket-review-statistics"),GetModeratorSubmittedTicketData:"".concat(h.UI_SERVICE,"/api/moderators/submitted-ticket-info"),GetModeratorReopenedTicketData:"".concat(h.UI_SERVICE,"/api/moderators/reopened-ticket-info"),GetPlaceVersionPolicyLabels:"".concat(h.UI_SERVICE,"/api/place-updated/get-whitelist-status"),GetAssetDashboard:"".concat(h.UI_SERVICE,"/api/toolbox/asset-dashboard"),GetTicketsByTemplateIdsAndStatusPaged:"".concat(h.UI_SERVICE,"/api/tickets/get-ticket-by-templatetype-status")}},O=a(13),f=a.n(O),v=a(25),x=a(10),g=a(116),I=a(7),y=a(26),k=a(391),S=a(217),T=a.n(S),C=a(185),w=a(117),A=a(69),U=a(384),D=r.a.createContext(null),N=a(240);function E(e){var t=N.b.loading("",0);return e.then(t).catch((function(e){t(),N.b.error(e.toString()),console.error(e)}))}var R=!1;function G(e,t){if(!R){R=!0;var a=U.a.info({content:t("Waiting for request to complete, Please don't refresh the page"),closable:!1,maskClosable:!1,keyboard:!1,onOk:function(){return e}}),n=function(){a.destroy(),R=!1};return e.then(n).catch((function(e){n(),N.b.error(e.toString())}))}}var P,B,L,z,F,M="DynamicEvent",_="2",W="None",V="BanUser",H="Reopen",q="Close",K="ChangeDisplayName",J="ApproveUpdateAssetStatus",Y="RejectUpdateAssetStatus",Q={value:2,name:"PlaceInGameAbuseReport"},Z={value:3,name:"UserInGameAbuseReport"},X={value:4,name:"UserInAppAbuseReport"},$={value:7,name:"DisplayNameChangeEvent"},ee={value:9,name:"GameOptInEvent"},te={value:10,name:"DisplayNameRescanEvent"},ae={value:11,name:"PlaceSnapshotEvent"},ne={value:12,name:"GameInformationUpdateEvent"},re={value:13,name:"PlaceInAppAbuseReport"},ce={value:14,name:"DisplayNameOnlineRescanEvent"},ie={value:15,name:"PlaceUpdatedWhenOptInEvent"},se={value:16,name:"PlaceUpdatedAfterOptInEvent"},oe={value:17,name:"AssetStatusUpdateEvent_Avatar"},le={value:18,name:"AssetStatusUpdateEvent_Toolbox"},de=2,ue=a(9),be=a.n(ue),je=function(){var e=Object(v.a)(f.a.mark((function e(t,a,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign({},a),e.next=3,be()({method:"post",url:t,data:r,headers:{Authorization:"Bearer ".concat(n),"Content-Type":"Application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(v.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",be.a.get(t,{params:a,headers:{Authorization:"Bearer ".concat(n),"Content-Type":"Application/json"}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(v.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",be()({method:"PUT",url:t,data:a,headers:{Authorization:"Bearer ".concat(n),"Content-Type":"Application/json"}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),pe=a(48),Oe=a(381),fe=a(389),ve=a(386),xe=a(168),ge=a(1),Ie=Oe.a.Text,ye=function(e){var t=e.pool,a=e.picker,n=e.extra,r=e.onTicketQuery,c=Object(k.a)().t,i=t.poolId>6&&13!=t.poolId;return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(A.a,{children:Object(ge.jsx)(fe.a,{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("span",{children:c(t.poolName)})," ",t.priority===de&&Object(ge.jsx)(Ie,{type:"danger",children:c("High Priority")})]}),extra:n||(t.openTicketCount>0?Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return a(t)},children:c("Pick a Ticket")},"ticketPoolButton"):null),children:Object(ge.jsxs)(w.a,{children:[Object(ge.jsxs)(A.a,{span:12,children:[Object(ge.jsx)(ve.a,{title:c("Opened Ticket Count"),value:t.openTicketCount,valueStyle:{color:"#d4380d"}}),t.openTicketCount>0&&i&&Object(ge.jsx)(xe.a,{onClick:function(){return r(t.poolId,"Open")}})]}),Object(ge.jsxs)(A.a,{span:12,children:[Object(ge.jsx)(ve.a,{title:c("Locked Ticket Count"),value:t.lockedTicketCount,valueStyle:{color:"#52c41a"}}),t.lockedTicketCount>0&&i&&Object(ge.jsx)(xe.a,{onClick:function(){return r(t.poolId,"Locked")}})]}),Object(ge.jsx)(A.a,{span:12,children:Object(ge.jsx)(ve.a,{title:c("Finished Ticket Count"),value:t.finishedTicketCount})}),Object(ge.jsx)(A.a,{span:12,children:Object(ge.jsx)(ve.a,{title:c("Closed Ticket Count"),value:t.closedTicketCount})})]})},t.poolId)},t.poolId)})},ke=function(e){var t=e.pool,a=e.picker,n=e.onTicketQuery,r=Object(k.a)().t,c=Object(d.f)();return Object(ge.jsx)(ye,{pool:t,extra:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return c.push("/batch-update?templateType=".concat($.name))},children:r("Locked tickets")}),t.openTicketCount>0&&Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return a(t)},children:r("Pick Tickets")})]}),onTicketQuery:n})},Se=function(e){var t=e.pool,a=e.picker,n=e.onTicketQuery,r=Object(k.a)().t,c=Object(d.f)();return Object(ge.jsx)(ye,{pool:t,extra:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return c.push("/batch-update?templateType=".concat(te.name))},children:r("Locked tickets")}),t.openTicketCount>0&&Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return a(t)},children:r("Pick Tickets")})]}),onTicketQuery:n})},Te=function(e){var t=e.pool,a=e.picker,n=e.onTicketQuery,r=Object(k.a)().t,c=Object(d.f)();return Object(ge.jsx)(ye,{pool:t,extra:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return c.push("/batch-update?templateType=".concat(ce.name))},children:r("Locked tickets")}),t.openTicketCount>0&&Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return a(t)},children:r("Pick Tickets")})]}),onTicketQuery:n})},Ce=function(e){var t=e.pool,a=e.picker,n=e.onTicketQuery,r=Object(k.a)().t,c=Object(d.f)();return Object(ge.jsx)(ye,{pool:t,extra:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(pe.a,{type:"link",onClick:function(){var e=oe.name;c.push("/batch-update?templateType=".concat(e))},children:r("Locked tickets")}),t.openTicketCount>0&&Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return a(t)},children:r("Pick Tickets")})]}),onTicketQuery:n})},we=function(e){var t=e.pool,a=e.picker,n=e.onTicketQuery,r=Object(k.a)().t,c=Object(d.f)();return Object(ge.jsx)(ye,{pool:t,extra:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(pe.a,{type:"link",onClick:function(){var e=le.name;c.push("/batch-update?templateType=".concat(e))},children:r("Locked tickets")}),t.openTicketCount>0&&Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return a(t)},children:r("Pick Tickets")})]}),onTicketQuery:n})},Ae=a(18),Ue=a.n(Ae),De=a(377),Ne=function(e){var t=e.datas,a=e.pagination;if(console.log(t),!t||!t.length)return null;var n=Object(k.a)().t,r=[];return Object.keys(t[0]).forEach((function(e){r.push({title:n(e),key:e,dataIndex:e})})),Object(ge.jsx)(De.a,{dataSource:t,rowKey:Object.keys(t[0])[0],columns:r,pagination:a,bordered:!0,tableLayout:"fixed"})},Ee=C.a.TabPane,Re={Game:"Game",User:"User","Display Name":"Display Name","Game Info":"Game Info",Asset:"Asset"},Ge=function(e){return"/ticket?ticketId="+e.ticketId},Pe=p.resourceServer.GetTicketFromPool,Be=(P={},Object(y.a)(P,oe.name,Re.Asset),Object(y.a)(P,le.name,Re.Asset),Object(y.a)(P,ne.name,Re["Game Info"]),Object(y.a)(P,$.name,Re["Display Name"]),Object(y.a)(P,te.name,Re["Display Name"]),Object(y.a)(P,ce.name,Re["Display Name"]),Object(y.a)(P,Z.name,Re.User),Object(y.a)(P,X.name,Re.User),Object(y.a)(P,Q.name,Re.Game),Object(y.a)(P,re.name,Re.Game),Object(y.a)(P,ee.name,Re.Game),Object(y.a)(P,ae.name,Re.Game),Object(y.a)(P,se.name,Re.Game),P),Le=(B={},Object(y.a)(B,ee.name,p.resourceServer.GetGameUpdateMostUrgentTicket),Object(y.a)(B,se.name,p.resourceServer.GetGameUpdateMostUrgentTicket),Object(y.a)(B,$.name,p.resourceServer.BatchLockTickets),Object(y.a)(B,te.name,p.resourceServer.BatchLockTickets),Object(y.a)(B,ce.name,p.resourceServer.BatchLockTickets),Object(y.a)(B,oe.name,p.resourceServer.BatchLockTickets),Object(y.a)(B,le.name,p.resourceServer.BatchLockTickets),B),ze=(L={},Object(y.a)(L,ee.name,Ge),Object(y.a)(L,se.name,Ge),Object(y.a)(L,$.name,(function(e){return"/batch-update?templateType=".concat(e.poolName)})),Object(y.a)(L,te.name,(function(e){return"/batch-update?templateType=".concat(e.poolName)})),Object(y.a)(L,ce.name,(function(e){return"/batch-update?templateType=".concat(e.poolName)})),Object(y.a)(L,oe.name,(function(e){return"/batch-update?templateType=".concat(e.poolName)})),Object(y.a)(L,le.name,(function(e){return"/batch-update?templateType=".concat(e.poolName)})),L),Fe=(z={},Object(y.a)(z,$.name,ke),Object(y.a)(z,te.name,Se),Object(y.a)(z,ce.name,Te),Object(y.a)(z,oe.name,Ce),Object(y.a)(z,le.name,we),z),Me=Object(y.a)({},ee.name,(F={},Object(y.a)(F,ee.name,!0),Object(y.a)(F,ie.name,!0),F)),_e=function(){var e=Object(k.a)().t,t=Object(b.d)().authState,a=Object(d.f)(),r=Object(n.useState)(null),c=Object(I.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(0),l=Object(I.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)(!1),h=Object(I.a)(m,2),O=h[0],y=h[1],S=Object(n.useState)([]),N=Object(I.a)(S,2),R=N[0],P=N[1],B=Object(n.useState)(),L=Object(I.a)(B,2),z=L[0],F=L[1],M=Object(n.useState)(),_=Object(I.a)(M,2),W=_[0],V=_[1],H=Object(n.useContext)(D);if(Object(n.useEffect)((function(){var e=t.accessToken.value;E(me(p.resourceServer.GetTicketPoolsWithPriority,null,e).then((function(e){if(200==e.status){var t=[].concat(Object(g.a)(e.data.data.highPriorityTickets),Object(g.a)(e.data.data.normalPriorityTickets));t.forEach((function(e){e.type=Be[e.poolName],e.pickupUrl=Le[e.poolName]||Pe;var a=Me[e.poolName];if(a){var n=t.filter((function(e){return a[e.poolName]})).reduce((function(t,a){return{closedTicketCount:t.closedTicketCount+a.closedTicketCount,finishedTicketCount:t.finishedTicketCount+a.finishedTicketCount,lockedTicketCount:t.lockedTicketCount+a.lockedTicketCount,openTicketCount:t.openTicketCount+a.openTicketCount,poolId:e.poolId,poolName:e.poolName,priority:Math.max(t.priority,a.priority)}}));e.closedTicketCount=n.closedTicketCount,e.finishedTicketCount=n.finishedTicketCount,e.lockedTicketCount=n.lockedTicketCount,e.openTicketCount=n.openTicketCount,e.priority=n.priority}e.jumper=ze[e.poolName]||Ge,e.card=Fe[e.poolName]||ye}));var a=[];Object.keys(Re).forEach((function(e){var n=t.filter((function(t){return t.type===e})),r={tab:e,key:e,value:e,data:n};a.push(r)}));var n=a.map((function(e){var t=e.data.reduce((function(e,t){return e[t.poolName]=e[t.poolName]||[],e[t.poolName].push(t),e}),Object.create(null));return Object(x.a)(Object(x.a)({},e),{},{groupedData:t})}));s(n)}})))}),[H]),!H)return null;var q=function(){var e=Object(v.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.openTicketCount>0)){e.next=5;break}return e.next=3,je(n.pickupUrl||p.resourceServer.GetTicketFromPool,{ticketPoolId:n.poolId,priority:n.priority},t.accessToken.value);case 3:200===(r=e.sent).status&&r.data&&r.data.data&&a.push(n.jumper({ticketId:r.data.data.ticketId||r.data.data.ticketIds&&r.data.data.ticketIds[0],poolName:n.poolName}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(t){return G(q(t),e)},J=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;y(!0),F(e),V(a),be()({method:"post",url:p.resourceServer.GetTicketsByTemplateIdsAndStatusPaged,data:{templateTypes:[e],status:a,desc:!1,pageNum:n,pageSize:10},headers:{Authorization:"Bearer ".concat(t.accessToken.value)}}).then((function(e){200==e.status&&e.data&&!e.data.error&&(P(e.data.data.itemList),j(e.data.data.total))}))},Y=null===R||void 0===R?void 0:R.map((function(e){var t=JSON.parse(e.dynamicEvent.dataString);return"object"==typeof t?(t.ticketId=e.ticketId,t.createdUtc=Ue.a.utc(e.createdUtc).toDate().toLocaleString(),t.moderatorId=e.moderatorId,t):null})).filter((function(e){return e})),Q=function(){y(!1),P([]),j(0)};return Object(ge.jsxs)("div",{className:T.a.dashboard,children:[i&&Object(ge.jsx)(C.a,{defaultActiveKey:i[0].key,children:i.map((function(t){return Object(ge.jsx)(Ee,{tab:e(t.value),children:Object(ge.jsx)(w.a,{style:{margin:0},gutter:[20,20],children:Object.keys(t.groupedData).map((function(e){var a=t.groupedData[e];return Object(ge.jsx)(A.a,{children:Object(ge.jsx)(w.a,{children:a.map((function(e){var t=e.card;return Object(ge.jsx)(t,{pool:e,picker:K,onTicketQuery:J},e.poolName+Math.random())}))})},e)}))})},t.key)}))}),Object(ge.jsx)(U.a,{visible:O,onCancel:Q,onOk:Q,width:"90%",destroyOnClose:!0,children:Object(ge.jsx)(Ne,{datas:Y,pagination:{pageSize:10,total:u,onChange:function(e){J(z,W,e)}}})})]})},We=function(){return Object(ge.jsx)("div",{style:{padding:24},children:Object(ge.jsx)(_e,{})})},Ve=a(392),He=a(226),qe=a.n(He),Ke={placeId:"https://www.roblox.com/games/",creatorId:"https://www.roblox.com/users/",submitterUserId:"https://www.roblox.com/users/",accusedUserId:"https://www.roblox.com/users/",UserId:"https://www.roblox.com/users/"},Je={PlaceUpdated:{ticketId:"ticketId",eventType:["placeUpdatedEvent","eventType"],createdUtc:"createdUtc",gameId:["placeUpdatedEvent","gameId"],placeId:["placeUpdatedEvent","placeId"],creatorId:["placeUpdatedEvent","creatorId"],versionNumber:["placeUpdatedEvent","versionNumber"],status:"status",moderatorId:"moderatorId"},UserInGameAbuseReport:{ticketId:"ticketId",eventType:["userInGameAbuseReportEvent","eventType"],createdUtc:"createdUtc",placeId:["userInGameAbuseReportEvent","placeId"],submitterUserId:["userInGameAbuseReportEvent","submitterUserId"],accusedUserId:["userInGameAbuseReportEvent","accusedUserId"],versionNumber:["userInGameAbuseReportEvent","versionNumber"],status:"status",category:["userInGameAbuseReportEvent","category"],moderatorId:"moderatorId"},PlaceInGameAbuseReport:{ticketId:"ticketId",eventType:["placeInGameAbuseReportEvent","eventType"],createdUtc:"createdUtc",placeId:["placeInGameAbuseReportEvent","placeId"],submitterUserId:["placeInGameAbuseReportEvent","submitterUserId"],versionNumber:["placeInGameAbuseReportEvent","versionNumber"],status:"status",category:["placeInGameAbuseReportEvent","category"],moderatorId:"moderatorId"},UserInAppAbuseReport:{ticketId:"ticketId",eventType:["userInAppAbuseReportEvent","eventType"],createdUtc:"createdUtc",submitterUserId:["userInAppAbuseReportEvent","submitterUserId"],accusedUserId:["userInAppAbuseReportEvent","accusedUserId"],status:"status",category:["userInAppAbuseReportEvent","category"],moderatorId:"moderatorId"},PlaceInAppAbuseReport:{ticketId:"ticketId",eventType:["placeInAppAbuseReportEvent","eventType"],createdUtc:"createdUtc",placeId:["placeInAppAbuseReportEvent","placeId"],submitterUserId:["placeInAppAbuseReportEvent","submitterUserId"],status:"status",category:["placeInAppAbuseReportEvent","category"],moderatorId:"moderatorId"},DynamicEvent:{ticketId:"ticketId",eventType:["dynamicEvent","templateType"],createdUtc:"createdUtc",status:"status",moderatorId:"moderatorId"}},Ye={createdUtc:!0},Qe={eventType:!0},Ze={comment:!0},Xe={chatEntries:!0},$e={PlaceUpdated:{comment:["placeUpdatedEvent","comment"],chatEntries:["placeUpdatedEvent","chatEntries"]},UserInGameAbuseReport:{comment:["userInGameAbuseReportEvent","comment"],chatEntries:["userInGameAbuseReportEvent","chatEntries"]},PlaceInGameAbuseReport:{comment:["placeInGameAbuseReportEvent","comment"],chatEntries:["placeInGameAbuseReportEvent","chatEntries"]},UserInAppAbuseReport:{comment:["userInAppAbuseReportEvent","comment"],chatEntries:["userInAppAbuseReportEvent","chatEntries"]},PlaceInAppAbuseReport:{comment:["placeInAppAbuseReportEvent","comment"],chatEntries:["placeInAppAbuseReportEvent","chatEntries"]},DynamicEvent:{comment:["dynamicEvent","comment"],chatEntries:["dynamicEvent","chatEntries"]}},et=["placeUpdatedEvent","userInGameAbuseReportEvent","placeInGameAbuseReportEvent","userInAppAbuseReportEvent","placeInAppAbuseReportEvent","dynamicEvent"],tt=a(387),at=a(390),nt=a(393),rt=a(394);function ct(e){var t=e.href,a=e.children,n=e.simple,r=e.style;return n?Object(ge.jsxs)("a",{href:t,target:"_blank",rel:"noreferrer",style:r,children:[a," ",Object(ge.jsx)("span",{style:{color:"#8C8C8C"},children:">"})]}):Object(ge.jsxs)("a",{href:t,target:"_blank",rel:"noreferrer",style:r,children:[a,Object(ge.jsx)(rt.a,{rotate:90,style:{marginLeft:"1em"}})]})}function it(e,t){try{return t instanceof Array?t.reduce((function(e,t){return e[t]}),e):e[t]}catch(a){return console.error("Failed to read Key Path: ".concat(t instanceof Array?t.join(","):t)),null}}function st(e){var t=e.toLocaleString(),a=e.getTimezoneOffset(),n=a>0?"-":"+",r=a>0?a:-a,c=Math.floor(r/60),i=r-60*c;return t+" "+(n+ot(c,2)+":"+ot(i,2))}function ot(e,t){var a=""+e;if(a.length<t)for(var n=a.length;n<t;n++)a="0"+a;return a}var lt=Ke,dt=Je,ut=Ye,bt=Qe,jt=Ze,mt=Xe,ht=$e;function pt(e){return be.a.get(p.resourceServer.GetRobloxUserInfoWithUserID+e)}function Ot(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function ft(e,t){return be()({method:"get",url:p.resourceServer.GetDeveloperEmail(e),headers:{Authorization:"Bearer ".concat(t)}})}function vt(e,t,a,n){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:n("Game Information"),children:[Object(ge.jsx)(tt.b.Item,{label:n("Game ID"),children:Object(ge.jsx)(ct,{href:lt.placeId+e.rootPlaceId,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:n("Game Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:n("Creator Name"),children:e.creator.name}),Object(ge.jsx)(tt.b.Item,{label:n("Creator Type"),children:e.creator.type}),Object(ge.jsx)(tt.b.Item,{label:n("Creator ID"),children:e.creator.id}),Object(ge.jsx)(tt.b.Item,{label:n("Creator Contact Email"),children:t}),Object(ge.jsx)(tt.b.Item,{label:n("Accuse Count(past week)"),children:Object(ge.jsx)("span",{style:{color:a>=3?"#f00":"inherit"},children:a})})]}):null}function xt(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:t,children:[Object(ge.jsx)(tt.b.Item,{label:a("User ID"),children:Object(ge.jsx)(ct,{href:lt.creatorId+e.id,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("User Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Display Name"),children:e.displayName}),Object(ge.jsx)(tt.b.Item,{label:a("Account Create Date"),children:st(new Date(e.created))}),Object(ge.jsx)(tt.b.Item,{label:a("Ban Status"),children:e.isBanned?a("Banned"):a("Not Banned")})]}):null}var gt=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(k.a)().t,c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),d=Object(I.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(null),h=Object(I.a)(m,2),O=h[0],f=h[1],v=Object(n.useState)(null),g=Object(I.a)(v,2),S=g[0],T=g[1],C=Object(n.useState)(),w=Object(I.a)(C,2),A=w[0],U=w[1],D=Object(n.useState)(0),N=Object(I.a)(D,2),R=N[0],G=N[1],P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;try{var a=e.eventType,n={},r=dt[a];if(Object.keys(r).forEach((function(t){n[t]=it(e,r[t])})),a===M&&e.dynamicEvent&&e.dynamicEvent.dataString){var c=JSON.parse(e.dynamicEvent.dataString);if(e.dynamicEvent.templateType===$.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{NewDisplayName:c.NewDisplayName},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===te.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{DisplayName:c.DisplayName,ViolatingWords:c.ViolatingWords},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===ee.name&&c&&c.Message){var i=JSON.parse(c.Message);n=Object(x.a)(Object(x.a)({},n),{},{gameId:i&&i.universeId})}}return n}catch(s){return console.error(s),{}}}(t,Object(y.a)({},r("Current Display Name"),A)),B=function(e){try{var t={},a=ht[e.eventType];return Object.keys(a).forEach((function(n){t[n]=it(e,a[n])})),t}catch(n){return console.error(n),{}}}(t);return Object(n.useEffect)((function(){var e=P.creatorId||P.submitterUserId,t=P.accusedUserId,n=P.placeId,r=P.UserId,c=P.gameId;e&&E(pt(e).then((function(e){200==e.status&&o(e.data)}))),t&&E(pt(t).then((function(e){200==e.status&&f(e.data)}))),n&&(E(function(e,t){return be()({method:"get",url:p.resourceServer.GetGameIDWithPlaceID+e,headers:{Authorization:"Bearer ".concat(t)}})}(n,a.accessToken.value).then((function(e){if(200==e.status){if(!e.data||!e.data[0]||!e.data[0].universeId)return;return e.data[0].universeId}})).then((function(e){return Ot(e).then((function(e){200==e.status&&T(e.data.data[0])})).then((function(){return ft(e,a.accessToken.value)})).then((function(e){200==e.status&&j(e.data.data)}))}))),E(function(e,t,a,n){return be()({method:"get",url:p.resourceServer.GetPlaceInAppAbuseReport+"/place-id/"+e+"/count?startUtc="+t+"&endUtc="+a,headers:{Authorization:"Bearer ".concat(n)}})}(n,Ue()().subtract(7,"days").toISOString(),Ue()().toISOString(),a.accessToken.value).then((function(e){e&&200==e.status&&!e.data.error&&G(e.data.data)})))),c&&E(Ot(c).then((function(e){e&&200==e.status&&T(e.data.data[0])})).then((function(){return ft(c,a.accessToken.value)})).then((function(e){e&&200==e.status&&j(e.data.data)}))),r&&E(function(e,t){return be()({method:"post",url:p.resourceServer.GetUserInfo,data:{idType:_,id:e},headers:{Authorization:"Bearer ".concat(t)}})}(r,a.accessToken.value).then((function(e){if(200===e.status){var t=e.data,a=t&&t.data;U(a.displayName)}})))}),[t]),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%",padding:24},children:[Object(ge.jsx)(tt.b,{bordered:!0,column:4,title:r("Ticket Information"),size:"small",children:Object.keys(P).map((function(e){return lt[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:Object(ge.jsx)(ct,{href:lt[e]+P[e],children:P[e]})},e):null:ut[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:st(new Date(P[e]))},e):null:bt[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:r(P[e])},e):null:Object(ge.jsx)(tt.b.Item,{label:r(e),children:P[e]},e)}))}),P&&P.NewDisplayName&&A&&P.NewDisplayName!==A&&Object(ge.jsx)(at.a,{message:r("Current display name not equal to the pending review version. Please close the ticket."),type:"error"}),(P.placeId||P.gameId)&&vt(S,u,R,r),(P.creatorId||P.submitterUserId)&&xt(s,r("Submitter Information"),r),P.accusedUserId&&xt(O,r("Accused User Information"),r),Object.keys(B).map((function(e){if(jt[e]){var t=B[e];return t?Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("comment")}),Object(ge.jsx)(Oe.a.Paragraph,{children:t})]},t):null}if(mt[e]){var a=B[e];return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("chat")}),Object(ge.jsx)(nt.b,{bordered:!0,dataSource:a,size:"small",renderItem:function(e){var t=e.userId;return s&&e.userId==s.id&&(t="(".concat(r("Submitter User"),") ").concat(s.displayName)),O&&e.userId==O.id&&(t="(".concat(r("Accused User"),") ").concat(O.displayName)),Object(ge.jsxs)(nt.b.Item,{children:[Object(ge.jsx)(Oe.a.Text,{underline:!0,children:t}),":"," ",e.value]})}})]}):null}}))]})},It=Ke,yt=Je,kt=Ye,St=Qe,Tt=Ze,Ct=Xe,wt=$e;function At(e){return be.a.get(p.resourceServer.GetRobloxUserInfoWithUserID+e)}function Ut(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function Dt(e,t){return be()({method:"get",url:p.resourceServer.GetDeveloperEmail(e),headers:{Authorization:"Bearer ".concat(t)}})}function Nt(e,t,a,n){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:n("Game Information"),children:[Object(ge.jsx)(tt.b.Item,{label:n("Game ID"),children:Object(ge.jsx)(ct,{href:It.placeId+e.rootPlaceId,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:n("Game Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:n("Creator Name"),children:e.creator.name}),Object(ge.jsx)(tt.b.Item,{label:n("Creator Type"),children:e.creator.type}),Object(ge.jsx)(tt.b.Item,{label:n("Creator ID"),children:e.creator.id}),Object(ge.jsx)(tt.b.Item,{label:n("Creator Contact Email"),children:t}),Object(ge.jsx)(tt.b.Item,{label:n("Accuse Count(past week)"),children:Object(ge.jsx)("span",{style:{color:a>=3?"#f00":"inherit"},children:a})})]}):null}function Et(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:t,children:[Object(ge.jsx)(tt.b.Item,{label:a("User ID"),children:Object(ge.jsx)(ct,{href:It.creatorId+e.id,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("User Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Display Name"),children:e.displayName}),Object(ge.jsx)(tt.b.Item,{label:a("Account Create Date"),children:st(new Date(e.created))}),Object(ge.jsx)(tt.b.Item,{label:a("Ban Status"),children:e.isBanned?a("Banned"):a("Not Banned")})]}):null}var Rt=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(k.a)().t,c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),d=Object(I.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(null),h=Object(I.a)(m,2),O=h[0],f=h[1],v=Object(n.useState)(null),g=Object(I.a)(v,2),S=g[0],T=g[1],C=Object(n.useState)(),w=Object(I.a)(C,2),A=w[0],U=w[1],D=Object(n.useState)(0),N=Object(I.a)(D,2),R=N[0],G=N[1],P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;try{var a=e.eventType,n={},r=yt[a];if(Object.keys(r).forEach((function(t){n[t]=it(e,r[t])})),a===M&&e.dynamicEvent&&e.dynamicEvent.dataString){var c=JSON.parse(e.dynamicEvent.dataString);if(e.dynamicEvent.templateType===$.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{NewDisplayName:c.NewDisplayName},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===te.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{DisplayName:c.DisplayName,ViolatingWords:c.ViolatingWords},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===ee.name&&c&&c.Message){var i=JSON.parse(c.Message);n=Object(x.a)(Object(x.a)({},n),{},{gameId:i&&i.universeId})}}return n}catch(s){return console.error(s),{}}}(t,Object(y.a)({},r("Current Display Name"),A)),B=function(e){try{var t={},a=wt[e.eventType];return Object.keys(a).forEach((function(n){t[n]=it(e,a[n])})),t}catch(n){return console.error(n),{}}}(t);return Object(n.useEffect)((function(){var e=P.creatorId||P.submitterUserId,t=P.accusedUserId,n=P.placeId,r=P.UserId,c=P.gameId;e&&E(At(e).then((function(e){200==e.status&&o(e.data)}))),t&&E(At(t).then((function(e){200==e.status&&f(e.data)}))),n&&(E(function(e,t){return be()({method:"get",url:p.resourceServer.GetGameIDWithPlaceID+e,headers:{Authorization:"Bearer ".concat(t)}})}(n,a.accessToken.value).then((function(e){if(200==e.status){if(!e.data||!e.data[0]||!e.data[0].universeId)return;return e.data[0].universeId}})).then((function(e){return Ut(e).then((function(e){200==e.status&&T(e.data.data[0])})).then((function(){return Dt(e,a.accessToken.value)})).then((function(e){200==e.status&&j(e.data.data)}))}))),E(function(e,t,a,n){return be()({method:"get",url:p.resourceServer.GetPlaceInGameAbuseReport+"/place-id/"+e+"/count?startUtc="+t+"&endUtc="+a,headers:{Authorization:"Bearer ".concat(n)}})}(n,Ue()().subtract(7,"days").toISOString(),Ue()().toISOString(),a.accessToken.value).then((function(e){e&&200==e.status&&!e.data.error&&G(e.data.data)})))),c&&E(Ut(c).then((function(e){e&&200==e.status&&T(e.data.data[0])})).then((function(){return Dt(c,a.accessToken.value)})).then((function(e){e&&200==e.status&&j(e.data.data)}))),r&&E(function(e,t){return be()({method:"post",url:p.resourceServer.GetUserInfo,data:{idType:_,id:e},headers:{Authorization:"Bearer ".concat(t)}})}(r,a.accessToken.value).then((function(e){if(200===e.status){var t=e.data,a=t&&t.data;U(a.displayName)}})))}),[t]),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%",padding:24},children:[Object(ge.jsx)(tt.b,{bordered:!0,column:4,title:r("Ticket Information"),size:"small",children:Object.keys(P).map((function(e){return It[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:Object(ge.jsx)(ct,{href:It[e]+P[e],children:P[e]})},e):null:kt[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:st(new Date(P[e]))},e):null:St[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:r(P[e])},e):null:Object(ge.jsx)(tt.b.Item,{label:r(e),children:P[e]},e)}))}),P&&P.NewDisplayName&&A&&P.NewDisplayName!==A&&Object(ge.jsx)(at.a,{message:r("Current display name not equal to the pending review version. Please close the ticket."),type:"error"}),(P.placeId||P.gameId)&&Nt(S,u,R,r),(P.creatorId||P.submitterUserId)&&Et(s,r("Submitter Information"),r),P.accusedUserId&&Et(O,r("Accused User Information"),r),Object.keys(B).map((function(e){if(Tt[e]){var t=B[e];return t?Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("comment")}),Object(ge.jsx)(Oe.a.Paragraph,{children:t})]},t):null}if(Ct[e]){var a=B[e];return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("chat")}),Object(ge.jsx)(nt.b,{bordered:!0,dataSource:a,size:"small",renderItem:function(e){var t=e.userId;return s&&e.userId==s.id&&(t="(".concat(r("Submitter User"),") ").concat(s.displayName)),O&&e.userId==O.id&&(t="(".concat(r("Accused User"),") ").concat(O.displayName)),Object(ge.jsxs)(nt.b.Item,{children:[Object(ge.jsx)(Oe.a.Text,{underline:!0,children:t}),":"," ",e.value]})}})]}):null}}))]})},Gt=Ke,Pt=Je,Bt=Ye,Lt=Qe,zt=Ze,Ft=Xe,Mt=$e;function _t(e){return be.a.get(p.resourceServer.GetRobloxUserInfoWithUserID+e)}function Wt(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function Vt(e,t){return be()({method:"get",url:p.resourceServer.GetDeveloperEmail(e),headers:{Authorization:"Bearer ".concat(t)}})}function Ht(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:a("Game Information"),children:[Object(ge.jsx)(tt.b.Item,{label:a("Game ID"),children:Object(ge.jsx)(ct,{href:Gt.placeId+e.rootPlaceId,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("Game Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Name"),children:e.creator.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Type"),children:e.creator.type}),Object(ge.jsx)(tt.b.Item,{label:a("Creator ID"),children:e.creator.id}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Contact Email"),children:t})]}):null}function qt(e,t,a,n,r){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:t,children:[Object(ge.jsx)(tt.b.Item,{label:a("User ID"),children:Object(ge.jsx)(ct,{href:Gt.creatorId+e.id,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("User Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Display Name"),children:e.displayName}),Object(ge.jsx)(tt.b.Item,{label:a("Account Create Date"),children:st(new Date(e.created))}),Object(ge.jsx)(tt.b.Item,{label:a("Ban Status"),children:e.isBanned?a("Banned"):a("Not Banned")}),r&&Object(ge.jsx)(tt.b.Item,{label:a("Accuse Count(past week)"),children:Object(ge.jsx)("span",{style:{color:n>=3?"#f00":"inherit"},children:n})})]}):null}var Kt=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(k.a)().t,c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),d=Object(I.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(null),h=Object(I.a)(m,2),O=h[0],f=h[1],v=Object(n.useState)(null),g=Object(I.a)(v,2),S=g[0],T=g[1],C=Object(n.useState)(),w=Object(I.a)(C,2),A=w[0],U=w[1],D=Object(n.useState)(0),N=Object(I.a)(D,2),R=N[0],G=N[1],P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;try{var a=e.eventType,n={},r=Pt[a];if(Object.keys(r).forEach((function(t){n[t]=it(e,r[t])})),a===M&&e.dynamicEvent&&e.dynamicEvent.dataString){var c=JSON.parse(e.dynamicEvent.dataString);if(e.dynamicEvent.templateType===$.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{NewDisplayName:c.NewDisplayName},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===te.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{DisplayName:c.DisplayName,ViolatingWords:c.ViolatingWords},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===ee.name&&c&&c.Message){var i=JSON.parse(c.Message);n=Object(x.a)(Object(x.a)({},n),{},{gameId:i&&i.universeId})}}return n}catch(s){return console.error(s),{}}}(t,Object(y.a)({},r("Current Display Name"),A)),B=function(e){try{var t={},a=Mt[e.eventType];return Object.keys(a).forEach((function(n){t[n]=it(e,a[n])})),t}catch(n){return console.error(n),{}}}(t);return Object(n.useEffect)((function(){var e=P.creatorId||P.submitterUserId,t=P.accusedUserId,n=P.placeId,r=P.UserId,c=P.gameId;e&&E(_t(e).then((function(e){200==e.status&&o(e.data)}))),t&&(E(_t(t).then((function(e){200==e.status&&f(e.data)}))),E(function(e,t,a,n){return be()({method:"get",url:p.resourceServer.GetUserInAppAbuseReport+"/accused-user-id/"+e+"/count?startUtc="+t+"&endUtc="+a,headers:{Authorization:"Bearer ".concat(n)}})}(t,Ue()().subtract(7,"days").toISOString(),Ue()().toISOString(),a.accessToken.value).then((function(e){e&&200==e.status&&!e.data.error&&G(e.data.data)})))),n&&E(function(e,t){return be()({method:"get",url:p.resourceServer.GetGameIDWithPlaceID+e,headers:{Authorization:"Bearer ".concat(t)}})}(n,a.accessToken.value).then((function(e){if(200==e.status){if(!e.data||!e.data[0]||!e.data[0].universeId)return;return e.data[0].universeId}})).then((function(e){return Wt(e).then((function(e){200==e.status&&T(e.data.data[0])})).then((function(){return Vt(e,a.accessToken.value)})).then((function(e){200==e.status&&j(e.data.data)}))}))),c&&E(Wt(c).then((function(e){e&&200==e.status&&T(e.data.data[0])})).then((function(){return Vt(c,a.accessToken.value)})).then((function(e){e&&200==e.status&&j(e.data.data)}))),r&&E(function(e,t){return be()({method:"post",url:p.resourceServer.GetUserInfo,data:{idType:_,id:e},headers:{Authorization:"Bearer ".concat(t)}})}(r,a.accessToken.value).then((function(e){if(200===e.status){var t=e.data,a=t&&t.data;U(a.displayName)}})))}),[t]),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%",padding:24},children:[Object(ge.jsx)(tt.b,{bordered:!0,column:4,title:r("Ticket Information"),size:"small",children:Object.keys(P).map((function(e){return Gt[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:Object(ge.jsx)(ct,{href:Gt[e]+P[e],children:P[e]})},e):null:Bt[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:st(new Date(P[e]))},e):null:Lt[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:r(P[e])},e):null:Object(ge.jsx)(tt.b.Item,{label:r(e),children:P[e]},e)}))}),P&&P.NewDisplayName&&A&&P.NewDisplayName!==A&&Object(ge.jsx)(at.a,{message:r("Current display name not equal to the pending review version. Please close the ticket."),type:"error"}),(P.placeId||P.gameId)&&Ht(S,u,r),(P.creatorId||P.submitterUserId)&&qt(s,r("Submitter Information"),r),P.accusedUserId&&qt(O,r("Accused User Information"),r,R,!0),Object.keys(B).map((function(e){if(zt[e]){var t=B[e];return t?Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("comment")}),Object(ge.jsx)(Oe.a.Paragraph,{children:t})]},t):null}if(Ft[e]){var a=B[e];return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("chat")}),Object(ge.jsx)(nt.b,{bordered:!0,dataSource:a,size:"small",renderItem:function(e){var t=e.userId;return s&&e.userId==s.id&&(t="(".concat(r("Submitter User"),") ").concat(s.displayName)),O&&e.userId==O.id&&(t="(".concat(r("Accused User"),") ").concat(O.displayName)),Object(ge.jsxs)(nt.b.Item,{children:[Object(ge.jsx)(Oe.a.Text,{underline:!0,children:t}),":"," ",e.value]})}})]}):null}}))]})},Jt=Ke,Yt=Je,Qt=Ye,Zt=Qe,Xt=Ze,$t=Xe,ea=$e;function ta(e){return be.a.get(p.resourceServer.GetRobloxUserInfoWithUserID+e)}function aa(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function na(e,t){return be()({method:"get",url:p.resourceServer.GetDeveloperEmail(e),headers:{Authorization:"Bearer ".concat(t)}})}function ra(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:a("Game Information"),children:[Object(ge.jsx)(tt.b.Item,{label:a("Game ID"),children:Object(ge.jsx)(ct,{href:Jt.placeId+e.rootPlaceId,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("Game Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Name"),children:e.creator.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Type"),children:e.creator.type}),Object(ge.jsx)(tt.b.Item,{label:a("Creator ID"),children:e.creator.id}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Contact Email"),children:t})]}):null}function ca(e,t,a,n,r){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:t,children:[Object(ge.jsx)(tt.b.Item,{label:a("User ID"),children:Object(ge.jsx)(ct,{href:Jt.creatorId+e.id,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("User Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Display Name"),children:e.displayName}),Object(ge.jsx)(tt.b.Item,{label:a("Account Create Date"),children:st(new Date(e.created))}),Object(ge.jsx)(tt.b.Item,{label:a("Ban Status"),children:e.isBanned?a("Banned"):a("Not Banned")}),r&&Object(ge.jsx)(tt.b.Item,{label:a("Accuse Count(past week)"),children:Object(ge.jsx)("span",{style:{color:n>=3?"#f00":"inherit"},children:n})})]}):null}var ia=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(k.a)().t,c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),d=Object(I.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(null),h=Object(I.a)(m,2),O=h[0],f=h[1],v=Object(n.useState)(null),g=Object(I.a)(v,2),S=g[0],T=g[1],C=Object(n.useState)(),w=Object(I.a)(C,2),A=w[0],U=w[1],D=Object(n.useState)(0),N=Object(I.a)(D,2),R=N[0],G=N[1],P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;try{var a=e.eventType,n={},r=Yt[a];if(Object.keys(r).forEach((function(t){n[t]=it(e,r[t])})),a===M&&e.dynamicEvent&&e.dynamicEvent.dataString){var c=JSON.parse(e.dynamicEvent.dataString);if(e.dynamicEvent.templateType===$.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{NewDisplayName:c.NewDisplayName},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===te.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{DisplayName:c.DisplayName,ViolatingWords:c.ViolatingWords},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===ee.name&&c&&c.Message){var i=JSON.parse(c.Message);n=Object(x.a)(Object(x.a)({},n),{},{gameId:i&&i.universeId})}}return n}catch(s){return console.error(s),{}}}(t,Object(y.a)({},r("Current Display Name"),A)),B=function(e){try{var t={},a=ea[e.eventType];return Object.keys(a).forEach((function(n){t[n]=it(e,a[n])})),t}catch(n){return console.error(n),{}}}(t);return Object(n.useEffect)((function(){var e=P.creatorId||P.submitterUserId,t=P.accusedUserId,n=P.placeId,r=P.UserId,c=P.gameId;e&&E(ta(e).then((function(e){200==e.status&&o(e.data)}))),t&&(E(ta(t).then((function(e){200==e.status&&f(e.data)}))),E(function(e,t,a,n){return be()({method:"get",url:p.resourceServer.GetUserInGameAbuseReport+"/accused-user-id/"+e+"/count?startUtc="+t+"&endUtc="+a,headers:{Authorization:"Bearer ".concat(n)}})}(t,Ue()().subtract(7,"days").toISOString(),Ue()().toISOString(),a.accessToken.value).then((function(e){e&&200==e.status&&!e.data.error&&G(e.data.data)})))),n&&E(function(e,t){return be()({method:"get",url:p.resourceServer.GetGameIDWithPlaceID+e,headers:{Authorization:"Bearer ".concat(t)}})}(n,a.accessToken.value).then((function(e){if(200==e.status){if(!e.data||!e.data[0]||!e.data[0].universeId)return;return e.data[0].universeId}})).then((function(e){return aa(e).then((function(e){200==e.status&&T(e.data.data[0])})).then((function(){return na(e,a.accessToken.value)})).then((function(e){200==e.status&&j(e.data.data)}))}))),c&&E(aa(c).then((function(e){e&&200==e.status&&T(e.data.data[0])})).then((function(){return na(c,a.accessToken.value)})).then((function(e){e&&200==e.status&&j(e.data.data)}))),r&&E(function(e,t){return be()({method:"post",url:p.resourceServer.GetUserInfo,data:{idType:_,id:e},headers:{Authorization:"Bearer ".concat(t)}})}(r,a.accessToken.value).then((function(e){if(200===e.status){var t=e.data,a=t&&t.data;U(a.displayName)}})))}),[t]),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%",padding:24},children:[Object(ge.jsx)(tt.b,{bordered:!0,column:4,title:r("Ticket Information"),size:"small",children:Object.keys(P).map((function(e){return Jt[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:Object(ge.jsx)(ct,{href:Jt[e]+P[e],children:P[e]})},e):null:Qt[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:st(new Date(P[e]))},e):null:Zt[e]?P[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:r(P[e])},e):null:Object(ge.jsx)(tt.b.Item,{label:r(e),children:P[e]},e)}))}),P&&P.NewDisplayName&&A&&P.NewDisplayName!==A&&Object(ge.jsx)(at.a,{message:r("Current display name not equal to the pending review version. Please close the ticket."),type:"error"}),(P.placeId||P.gameId)&&ra(S,u,r),(P.creatorId||P.submitterUserId)&&ca(s,r("Submitter Information"),r),P.accusedUserId&&ca(O,r("Accused User Information"),r,R,!0),Object.keys(B).map((function(e){if(Xt[e]){var t=B[e];return t?Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("comment")}),Object(ge.jsx)(Oe.a.Paragraph,{children:t})]},t):null}if($t[e]){var a=B[e];return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("chat")}),Object(ge.jsx)(nt.b,{bordered:!0,dataSource:a,size:"small",renderItem:function(e){var t=e.userId;return s&&e.userId==s.id&&(t="(".concat(r("Submitter User"),") ").concat(s.displayName)),O&&e.userId==O.id&&(t="(".concat(r("Accused User"),") ").concat(O.displayName)),Object(ge.jsxs)(nt.b.Item,{children:[Object(ge.jsx)(Oe.a.Text,{underline:!0,children:t}),":"," ",e.value]})}})]}):null}}))]})};function sa(e,t,a,n){return t?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:n("Ticket Information"),children:[Object(ge.jsx)(tt.b.Item,{label:n("ticketId"),children:e.ticketId}),Object(ge.jsx)(tt.b.Item,{label:n("status"),children:e.status}),Object(ge.jsx)(tt.b.Item,{label:n("createdUtc"),children:e.createdUtc})]}),Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:n("Game Information"),children:[Object(ge.jsx)(tt.b.Item,{label:n("Game ID"),children:Object(ge.jsx)(ct,{href:"https://www.roblox.com/games/"+t.rootPlaceId,children:t.id})}),Object(ge.jsx)(tt.b.Item,{label:n("Creator Name"),children:t.creator.name}),Object(ge.jsx)(tt.b.Item,{label:n("Creator Type"),children:t.creator.type}),Object(ge.jsx)(tt.b.Item,{label:n("Creator ID"),children:t.creator.id}),Object(ge.jsx)(tt.b.Item,{label:n("Creator Contact Email"),children:a})]})]}):null}var oa=function(e){var t,a,r=e.ticket,c=Object(b.d)().authState,i=Object(k.a)().t,s=Object(n.useState)(null),o=Object(I.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(null),j=Object(I.a)(u,2),m=j[0],h=j[1],O=JSON.parse(r.dynamicEvent.dataString);Object(n.useEffect)((function(){var e=O.gameId;e&&E(function(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}(e).then((function(e){200==e.status&&d(e.data.data[0])})).then((function(){return function(e,t){return be()({method:"get",url:p.resourceServer.GetDeveloperEmail(e),headers:{Authorization:"Bearer ".concat(t)}})}(e,c.accessToken.value)})).then((function(e){200==e.status&&h(e.data.data)})))}),[r]);try{a=JSON.parse(O.gameThumbnail)}catch(f){console.error(f)}return l?Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%",padding:24},children:[sa(r,l,m,i),Object(ge.jsxs)("div",{style:{padding:20,display:"flex",flexDirection:"row",width:"100%",backgroundColor:"#fff"},children:[Object(ge.jsx)("div",{style:{width:120,height:120,borderRadius:12,marginRight:20},children:Object(ge.jsx)("img",{src:O.gameIcon,style:{width:"100%",height:"100%"}})}),Object(ge.jsxs)("div",{style:{flex:1},children:[Object(ge.jsx)("div",{style:{height:20,lineHeight:"20px",fontSize:"16px",color:"#1f1f1f",fontWeight:"bolder",marginBottom:4},children:Object(ge.jsx)(ct,{href:"https://www.roblox.com/games/".concat(l.rootPlaceId),children:O.gameTitle})}),Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"10px",color:"#8c8c8c",marginBottom:4},children:[l.playing,i(" Current Players")]}),Object(ge.jsx)("div",{style:{lineHeight:"20px",fontSize:"12px",color:"#262626",marginBottom:4,whiteSpace:"pre-wrap"},children:O.gameDescription})]})]}),Object(ge.jsx)("div",{children:null===(t=a)||void 0===t?void 0:t.map((function(e){return Object(ge.jsx)("img",{src:e.imageUrl,style:{display:"block",maxWidth:"100%",marginBottom:4,marginLeft:20}},e.imageUrl)}))})]}):null},la=a(385),da=a(129),ua=a(108),ba=a.n(ua),ja=la.a.TextArea,ma=da.a.Option;function ha(e){var t=e.result,a=e.onChange,r=e.onConfirm,c=e.isConfirmed,i=e.onRevert,s=e.placeId,o=e.placeName,l=e.placeVersion,d=e.disabled,u=Object(k.a)().t,b=Object(n.useRef)();return Object(n.useEffect)((function(){var e;return b.current&&(e=new ba.a(b.current)).on("success",(function(){N.b.success(u("Copied"))})),function(){e&&e.destroy()}})),Object(ge.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:8,marginBottom:12,padding:"24px 16px",display:"flex",alignItems:"center"},children:Object(ge.jsxs)("div",{children:[Object(ge.jsxs)("div",{style:{fontSize:12,marginBottom:17},children:[Object(ge.jsx)("span",{style:{fontSize:18,fontWeight:"bold",marginRight:32},children:o}),Object(ge.jsx)(xa,{name:u("Version"),value:u(l)}),Object(ge.jsx)(xa,{name:u("PlaceID"),value:s}),Object(ge.jsx)(xa,{name:u("Link"),value:"https://dev.roblox.cn/deeplink.html?placeid=".concat(s)}),Object(ge.jsx)(pe.a,{ref:b,size:"small","data-clipboard-text":"https://dev.roblox.cn/deeplink.html?placeid=".concat(s),children:u("Copy Link")})]}),!d&&Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(da.a,{value:t,onChange:a,size:"small",style:{width:200,marginRight:8},children:[Object(ge.jsxs)(ma,{value:!0,children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle"})}),u("Pass")]}),Object(ge.jsxs)(ma,{value:!1,children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy2"})}),u("Not Pass")]})]}),Object(ge.jsx)(pe.a,{style:{marginRight:8},size:"small",type:"primary",disabled:c,onClick:r,children:u("Confirm")}),c&&Object(ge.jsx)(pe.a,{size:"small",type:"link",onClick:i,children:u("Revert")})]})]})})}function pa(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function Oa(e,t){return be()({method:"get",url:p.resourceServer.GetDeveloperEmail(e),headers:{Authorization:"Bearer ".concat(t)}})}function fa(e){return be()({method:"get",url:p.resourceServer.GetGameIcon(e)})}function va(e,t){return be()({method:"get",url:p.resourceServer.GetGameUpdateRecordByTicketId,params:{ticketId:e},headers:{Authorization:"Bearer ".concat(t)}})}function xa(e){var t=e.name,a=e.value,n=e.url;return n?Object(ge.jsxs)(ct,{href:n,simple:!0,style:{marginRight:16},children:[Object(ge.jsxs)("span",{style:{color:"#8C8C8C"},children:[t," "]}),Object(ge.jsx)("span",{style:{color:"#000"},children:a})]}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("span",{style:{color:"#8C8C8C"},children:[t," "]}),Object(ge.jsx)("span",{style:{marginRight:16},children:a})]})}function ga(e){var t=e.title;return Object(ge.jsx)("span",{style:{fontWeight:"bold",marginRight:16},children:t})}var Ia=function(e){var t=e.ticket,a=Object(k.a)(),r=a.t,c=a.i18n,i=Object(b.d)().authState,s=Object(n.useState)(null),o=Object(I.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(null),j=Object(I.a)(u,2),m=j[0],h=j[1],O=Object(n.useState)(null),f=Object(I.a)(O,2),v=f[0],x=f[1],g=Object(n.useState)(""),y=Object(I.a)(g,2),S=y[0],T=y[1],C=Object(n.useState)([]),w=Object(I.a)(C,2),A=w[0],R=w[1],G=Object(n.useState)(null),P=Object(I.a)(G,2),B=P[0],L=P[1],z=Object(n.useContext)(D),F=JSON.parse(t.dynamicEvent.dataString),M=function(e){e&&R(e.map((function(e){return e})))};function _(){return A.find((function(e){if(e.isUpdated){if(void 0===e.result||null===e.result)return!0;if(!e.confirmed)return!0}return!1}))}function W(){return function(e,t){return be()({method:"get",url:p.resourceServer.GetPlacesUnderGameId,params:{gameId:e},headers:{Authorization:"Bearer ".concat(t)}})}(F.universeId,i.accessToken.value).then((function(e){if(200==e.status)return e.data.data})).then((function(e){return va(t.ticketId,i.accessToken.value).then((function(t){var a;200==t.status&&t.data.data&&!t.data.error?function(e,t){var a=e.map((function(e){var n={isUpdated:!1,version:"Unchanged",id:e.id,name:e.name,result:null,confirmed:!1,selected:!1,isFinished:!1,gameId:e.universeId,onChange:function(e){n.result=e,M(a)},onConfirm:function(){n.confirmed=!0,M(a)},onRevert:function(){n.confirmed=!1,M(a)},onSelectChange:function(e){n.selected=e,M(a)}};return t&&t.length&&(L(t[0].recordId),t.filter((function(t){return t.placeId==e.id})).forEach((function(e){(n.version<e.versionNumber||"Unchanged"==n.version)&&(n.version=e.versionNumber,n.isFinished=e.isFinished,n.isUpdated=!0,n.ticketId=e.ticketId)}))),n}));R(a)}(e,null===(a=t.data.data)||void 0===a?void 0:a.moderationRecords):t.data.error&&N.b.error(JSON.stringify(t.data.error))}))}))}var V=function(){va(t.ticketId,i.accessToken.value).then((function(e){if(200==e.status&&e.data.data&&!e.data.error){var t=e.data.data.moderationRecords;R((function(e){return e.map((function(e){if(t&&t.length){var a=0;t.filter((function(t){return t.placeId==e.id})).forEach((function(t){(e.version<t.versionNumber||"Unchanged"==e.version)&&(a++,e.version=t.versionNumber,e.isFinished=t.isFinished,e.result=null,e.confirmed=!1,e.isUpdated=!0)})),a&&U.a.info({content:"".concat(a," ").concat(r("place(s) has been updated"))})}return e}))}))}else e.data.error&&N.b.error(JSON.stringify(e.data.error))}))};return Object(n.useEffect)((function(){var e=F.universeId;if(e){var t=[pa(e).then((function(e){200==e.status&&d(e.data.data[0])})),fa(e).then((function(e){var t;200==e.status&&x(null===(t=e.data.data[0])||void 0===t?void 0:t.imageUrl)})),Oa(e,i.accessToken.value).then((function(e){200==e.status&&h(e.data.data)})),W()];E(Promise.all(t))}var a=setInterval(V,6e4);return function(){return clearInterval(a)}}),[t]),z&&l?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",backgroundColor:"#fff",position:"relative",padding:"0 24px"},className:"place-update-ticket",children:[Object(ge.jsx)("div",{style:{width:120,height:120,borderRadius:12,marginRight:20},children:Object(ge.jsx)("img",{src:v,style:{width:"100%",height:"100%"}})}),Object(ge.jsxs)("div",{style:{flex:1},children:[Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"16px",color:"#1f1f1f",fontWeight:"bolder",marginBottom:4},children:[r("GameOptIn")," #",t.ticketId]}),Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"12px",marginBottom:4},children:[Object(ge.jsx)(ga,{title:r("Ticket")}),Object(ge.jsx)(xa,{name:r("createdUtc"),value:st(Ue.a.utc(t.dynamicEvent.createdUtc).toDate())}),Object(ge.jsx)(xa,{name:r("status"),value:t.status}),Object(ge.jsx)(xa,{name:r("ticketId"),value:t.ticketId})]}),Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"12px",marginBottom:4},children:[Object(ge.jsx)(ga,{title:r("Game")}),Object(ge.jsx)(xa,{name:r("gameId"),value:F.universeId,url:"https://www.roblox.com/games/".concat(l.rootPlaceId)}),Object(ge.jsx)(xa,{name:r("name"),value:l.name}),Object(ge.jsx)(xa,{name:r("Updated Time"),value:st(Ue.a.utc(l.updated).toDate())})]}),Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"12px",marginBottom:4},children:[Object(ge.jsx)(ga,{title:r("Creator")}),Object(ge.jsx)(xa,{name:r("Creator ID"),value:l.creator.id,url:"User"==l.creator.type?"https://www.roblox.com/users/".concat(l.creator.id,"/profile/"):"https://www.roblox.com/groups/".concat(l.creator.id)}),Object(ge.jsx)(xa,{name:r("Creator Name"),value:l.creator.name}),Object(ge.jsx)(xa,{name:r("Creator Type"),value:l.creator.type}),m&&Object(ge.jsx)(xa,{name:r("Creator Email"),value:m})]}),Object(ge.jsxs)("div",{style:{lineHeight:"20px",fontSize:"12px",marginBottom:4,display:"flex"},children:[Object(ge.jsx)(ga,{title:r("Comment")}),Object(ge.jsx)(ja,{rows:2,onChange:function(e){return T(e.target.value)},placeholder:r("Leave a comment"),style:{width:"100%"},maxLength:1e3,showCount:!0})]})]}),A.find((function(e){return!e.isFinished}))&&Object(ge.jsxs)("div",{className:"btns",style:{position:"absolute",top:0,right:24},children:[Object(ge.jsx)(pe.a,{onClick:function(){be()({method:"POST",url:p.resourceServer.GameUpdateRecordResultBatchSubmit,data:{recordId:B,placeUpdatedType:1,submitType:3,placeModerationResults:null,comment:S},headers:{Authorization:"Bearer ".concat(i.accessToken.value)}}).then((function(e){200==e.status&&e.data&&!e.data.error&&(window.location="/")}))},type:"primary",danger:!0,size:"small",style:{marginRight:8},children:r("Repoen This Ticket With Comment")}),Object(ge.jsx)(pe.a,{onClick:function(){if(!_()){var e=null,t=A.filter((function(e){return e.isUpdated})).map((function(t){return e=t.gameId,{ticketId:t.ticketId,placeId:t.id,versionNumber:t.version,moderationResult:t.result?1:2}})),a="\n"+t.map((function(e){return"zh"==c.language?"\u573a\u666fID ".concat(e.placeId," \u7684\u7248\u672c\u53f7 ").concat(e.versionNumber," \u7684\u767d\u540d\u5355\u72b6\u6001\u88ab\u8bbe\u7f6e\u4e3a ").concat(1==e.moderationResult?"\u901a\u8fc7":"\u62d2\u7edd"):"Place ID ".concat(e.placeId," with Version Number ").concat(e.versionNumber," 's whitelist status is set to ").concat(1==e.moderationResult?"Approved":"Rejected")})).join("\n");be()({method:"post",url:p.resourceServer.GameUpdateRecordResultBatchSubmit,data:{recordId:B,gameId:e,placeUpdatedType:1,submitType:2,placeModerationResults:t,comment:S+a},headers:{Authorization:"Bearer ".concat(i.accessToken.value)}}).then((function(e){200==e.status&&e.data&&!e.data.error&&(window.location="/")}))}},type:"primary",size:"small",disabled:_(),children:r("Submit")})]})]}),Object(ge.jsx)("div",{className:"place-list",style:{backgroundColor:"#F4F5F6",padding:24},children:A&&A.map((function(e){return Object(ge.jsx)(ha,{placeId:e.id,placeName:e.name,placeVersion:e.version,result:e.result,onChange:e.onChange,onConfirm:e.onConfirm,isConfirmed:e.confirmed,onRevert:e.onRevert,disabled:!e.isUpdated},e.id)}))})]}):null},ya=Ke,ka=Je,Sa=Ye,Ta=Qe,Ca=Ze,wa=Xe,Aa=$e;function Ua(e){return be.a.get(p.resourceServer.GetRobloxUserInfoWithUserID+e)}function Da(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function Na(e,t){return be()({method:"get",url:p.resourceServer.GetDeveloperEmail(e),headers:{Authorization:"Bearer ".concat(t)}})}function Ea(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:a("Game Information"),children:[Object(ge.jsx)(tt.b.Item,{label:a("Game ID"),children:Object(ge.jsx)(ct,{href:ya.placeId+e.rootPlaceId,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("Game Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Name"),children:e.creator.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Type"),children:e.creator.type}),Object(ge.jsx)(tt.b.Item,{label:a("Creator ID"),children:e.creator.id}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Contact Email"),children:t})]}):null}function Ra(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:t,children:[Object(ge.jsx)(tt.b.Item,{label:a("User ID"),children:Object(ge.jsx)(ct,{href:ya.creatorId+e.id,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("User Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Display Name"),children:e.displayName}),Object(ge.jsx)(tt.b.Item,{label:a("Account Create Date"),children:st(Ue.a.utc(e.created).toDate())}),Object(ge.jsx)(tt.b.Item,{label:a("Ban Status"),children:e.isBanned?a("Banned"):a("Not Banned")})]}):null}var Ga=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(k.a)().t,c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),d=Object(I.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(null),h=Object(I.a)(m,2),O=h[0],f=h[1],v=Object(n.useState)(null),g=Object(I.a)(v,2),S=g[0],T=g[1],C=Object(n.useState)(),w=Object(I.a)(C,2),A=w[0],U=w[1],D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;try{var a=e.eventType,n={},r=ka[a];if(Object.keys(r).forEach((function(t){n[t]=it(e,r[t])})),a===M&&e.dynamicEvent&&e.dynamicEvent.dataString){var c=JSON.parse(e.dynamicEvent.dataString);if(e.dynamicEvent.templateType===$.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{NewDisplayName:c.NewDisplayName},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===te.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{DisplayName:c.DisplayName,ViolatingWords:c.ViolatingWords},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===ee.name&&c&&c.Message){var i=JSON.parse(c.Message);n=Object(x.a)(Object(x.a)({},n),{},{gameId:i&&i.universeId})}}return n}catch(s){return console.error(s),{}}}(t,Object(y.a)({},r("Current Display Name"),A)),N=function(e){try{var t={},a=Aa[e.eventType];return Object.keys(a).forEach((function(n){t[n]=it(e,a[n])})),t}catch(n){return console.error(n),{}}}(t);return Object(n.useEffect)((function(){var e=D.creatorId||D.submitterUserId,t=D.accusedUserId,n=D.placeId,r=D.UserId,c=D.gameId;e&&E(Ua(e).then((function(e){200==e.status&&o(e.data)}))),t&&E(Ua(t).then((function(e){200==e.status&&f(e.data)}))),n&&E(function(e,t){return be()({method:"get",url:p.resourceServer.GetGameIDWithPlaceID+e,headers:{Authorization:"Bearer ".concat(t)}})}(n,a.accessToken.value).then((function(e){if(200==e.status){if(!e.data||!e.data[0]||!e.data[0].universeId)return;return e.data[0].universeId}})).then((function(e){return Da(e).then((function(e){200==e.status&&T(e.data.data[0])})).then((function(){return Na(e,a.accessToken.value)})).then((function(e){200==e.status&&j(e.data.data)}))}))),c&&E(Da(c).then((function(e){e&&200==e.status&&T(e.data.data[0])})).then((function(){return Na(c,a.accessToken.value)})).then((function(e){e&&200==e.status&&j(e.data.data)}))),r&&E(function(e,t){return be()({method:"post",url:p.resourceServer.GetUserInfo,data:{idType:_,id:e},headers:{Authorization:"Bearer ".concat(t)}})}(r,a.accessToken.value).then((function(e){if(200===e.status){var t=e.data,a=t&&t.data;U(a.displayName)}})))}),[t]),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%",padding:24},children:[Object(ge.jsx)(tt.b,{bordered:!0,column:4,title:r("Ticket Information"),size:"small",children:Object.keys(D).map((function(e){return ya[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:Object(ge.jsx)(ct,{href:ya[e]+D[e],children:D[e]})},e):null:Sa[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:st(Ue.a.utc(D[e]).toDate())},e):null:Ta[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:r(D[e])},e):null:Object(ge.jsx)(tt.b.Item,{label:r(e),children:D[e]},e)}))}),D&&D.NewDisplayName&&A&&D.NewDisplayName!==A&&Object(ge.jsx)(at.a,{message:r("Current display name not equal to the pending review version. Please close the ticket."),type:"error"}),(D.placeId||D.gameId)&&Ea(S,u,r),(D.creatorId||D.submitterUserId)&&Ra(s,r("Submitter Information"),r),D.accusedUserId&&Ra(O,r("Accused User Information"),r),Object.keys(N).map((function(e){if(Ca[e]){var t=N[e];return t?Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("comment")}),Object(ge.jsx)(Oe.a.Paragraph,{children:t})]},t):null}if(wa[e]){var a=N[e];return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("chat")}),Object(ge.jsx)(nt.b,{bordered:!0,dataSource:a,size:"small",renderItem:function(e){var t=e.userId;return s&&e.userId==s.id&&(t="(".concat(r("Submitter User"),") ").concat(s.displayName)),O&&e.userId==O.id&&(t="(".concat(r("Accused User"),") ").concat(O.displayName)),Object(ge.jsxs)(nt.b.Item,{children:[Object(ge.jsx)(Oe.a.Text,{underline:!0,children:t}),":"," ",e.value]})}})]}):null}}))]})},Pa=Ke,Ba=Je,La=Ye,za=Qe,Fa=Ze,Ma=Xe,_a=$e;function Wa(e){return be.a.get(p.resourceServer.GetRobloxUserInfoWithUserID+e)}function Va(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function Ha(e,t){return be()({method:"get",url:p.resourceServer.GetDeveloperEmail(e),headers:{Authorization:"Bearer ".concat(t)}})}function qa(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:a("Game Information"),children:[Object(ge.jsx)(tt.b.Item,{label:a("Game ID"),children:Object(ge.jsx)(ct,{href:Pa.placeId+e.rootPlaceId,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("Game Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Name"),children:e.creator.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Type"),children:e.creator.type}),Object(ge.jsx)(tt.b.Item,{label:a("Creator ID"),children:e.creator.id}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Contact Email"),children:t})]}):null}function Ka(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:t,children:[Object(ge.jsx)(tt.b.Item,{label:a("User ID"),children:Object(ge.jsx)(ct,{href:Pa.creatorId+e.id,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("User Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Display Name"),children:e.displayName}),Object(ge.jsx)(tt.b.Item,{label:a("Account Create Date"),children:st(Ue.a.utc(e.created).toDate())}),Object(ge.jsx)(tt.b.Item,{label:a("Ban Status"),children:e.isBanned?a("Banned"):a("Not Banned")})]}):null}var Ja=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(k.a)().t,c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),d=Object(I.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(null),h=Object(I.a)(m,2),O=h[0],f=h[1],v=Object(n.useState)(null),g=Object(I.a)(v,2),S=g[0],T=g[1],C=Object(n.useState)(),w=Object(I.a)(C,2),A=w[0],U=w[1],D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;try{var a=e.eventType,n={},r=Ba[a];if(Object.keys(r).forEach((function(t){n[t]=it(e,r[t])})),a===M&&e.dynamicEvent&&e.dynamicEvent.dataString){var c=JSON.parse(e.dynamicEvent.dataString);if(e.dynamicEvent.templateType===$.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{NewDisplayName:c.NewDisplayName},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===te.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{DisplayName:c.DisplayName,ViolatingWords:c.ViolatingWords},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===ee.name&&c&&c.Message){var i=JSON.parse(c.Message);n=Object(x.a)(Object(x.a)({},n),{},{gameId:i&&i.universeId})}}return n}catch(s){return console.error(s),{}}}(t,Object(y.a)({},r("Current Display Name"),A)),N=function(e){try{var t={},a=_a[e.eventType];return Object.keys(a).forEach((function(n){t[n]=it(e,a[n])})),t}catch(n){return console.error(n),{}}}(t);return Object(n.useEffect)((function(){var e=D.creatorId||D.submitterUserId,t=D.accusedUserId,n=D.placeId,r=D.UserId,c=D.gameId;e&&E(Wa(e).then((function(e){200==e.status&&o(e.data)}))),t&&E(Wa(t).then((function(e){200==e.status&&f(e.data)}))),n&&E(function(e,t){return be()({method:"get",url:p.resourceServer.GetGameIDWithPlaceID+e,headers:{Authorization:"Bearer ".concat(t)}})}(n,a.accessToken.value).then((function(e){if(200==e.status){if(!e.data||!e.data[0]||!e.data[0].universeId)return;return e.data[0].universeId}})).then((function(e){return Va(e).then((function(e){200==e.status&&T(e.data.data[0])})).then((function(){return Ha(e,a.accessToken.value)})).then((function(e){200==e.status&&j(e.data.data)}))}))),c&&E(Va(c).then((function(e){e&&200==e.status&&T(e.data.data[0])})).then((function(){return Ha(c,a.accessToken.value)})).then((function(e){e&&200==e.status&&j(e.data.data)}))),r&&E(function(e,t){return be()({method:"post",url:p.resourceServer.GetUserInfo,data:{idType:_,id:e},headers:{Authorization:"Bearer ".concat(t)}})}(r,a.accessToken.value).then((function(e){if(200===e.status){var t=e.data,a=t&&t.data;U(a.displayName)}})))}),[t]),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%",padding:24},children:[Object(ge.jsx)(tt.b,{bordered:!0,column:4,title:r("Ticket Information"),size:"small",children:Object.keys(D).map((function(e){return Pa[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:Object(ge.jsx)(ct,{href:Pa[e]+D[e],children:D[e]})},e):null:La[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:st(Ue.a.utc(D[e]).toDate())},e):null:za[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:r(D[e])},e):null:Object(ge.jsx)(tt.b.Item,{label:r(e),children:D[e]},e)}))}),D&&D.NewDisplayName&&A&&D.NewDisplayName!==A&&Object(ge.jsx)(at.a,{message:r("Current display name not equal to the pending review version. Please close the ticket."),type:"error"}),(D.placeId||D.gameId)&&qa(S,u,r),(D.creatorId||D.submitterUserId)&&Ka(s,r("Submitter Information"),r),D.accusedUserId&&Ka(O,r("Accused User Information"),r),Object.keys(N).map((function(e){if(Fa[e]){var t=N[e];return t?Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("comment")}),Object(ge.jsx)(Oe.a.Paragraph,{children:t})]},t):null}if(Ma[e]){var a=N[e];return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("chat")}),Object(ge.jsx)(nt.b,{bordered:!0,dataSource:a,size:"small",renderItem:function(e){var t=e.userId;return s&&e.userId==s.id&&(t="(".concat(r("Submitter User"),") ").concat(s.displayName)),O&&e.userId==O.id&&(t="(".concat(r("Accused User"),") ").concat(O.displayName)),Object(ge.jsxs)(nt.b.Item,{children:[Object(ge.jsx)(Oe.a.Text,{underline:!0,children:t}),":"," ",e.value]})}})]}):null}}))]})},Ya=Ke,Qa=Je,Za=Ye,Xa=Qe,$a=Ze,en=Xe,tn=$e;function an(e){return be.a.get(p.resourceServer.GetRobloxUserInfoWithUserID+e)}function nn(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function rn(e){return be.a.get(p.resourceServer.GetDeveloperEmail(e))}function cn(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:a("Game Information"),children:[Object(ge.jsx)(tt.b.Item,{label:a("Game ID"),children:Object(ge.jsx)(ct,{href:Ya.placeId+e.rootPlaceId,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("Game Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Name"),children:e.creator.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Type"),children:e.creator.type}),Object(ge.jsx)(tt.b.Item,{label:a("Creator ID"),children:e.creator.id}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Contact Email"),children:t})]}):null}function sn(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:t,children:[Object(ge.jsx)(tt.b.Item,{label:a("User ID"),children:Object(ge.jsx)(ct,{href:Ya.creatorId+e.id,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("User Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Display Name"),children:e.displayName}),Object(ge.jsx)(tt.b.Item,{label:a("Account Create Date"),children:st(Ue.a.utc(e.created).toDate())}),Object(ge.jsx)(tt.b.Item,{label:a("Ban Status"),children:e.isBanned?a("Banned"):a("Not Banned")})]}):null}var on=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(k.a)().t,c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),d=Object(I.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(null),h=Object(I.a)(m,2),O=h[0],f=h[1],v=Object(n.useState)(null),g=Object(I.a)(v,2),S=g[0],T=g[1],C=Object(n.useState)(),w=Object(I.a)(C,2),A=w[0],U=w[1],D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;try{var a=e.eventType,n={},r=Qa[a];if(Object.keys(r).forEach((function(t){n[t]=it(e,r[t])})),a===M&&e.dynamicEvent&&e.dynamicEvent.dataString){var c=JSON.parse(e.dynamicEvent.dataString);if(e.dynamicEvent.templateType===oe.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{NewDisplayName:c.NewDisplayName},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===te.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{DisplayName:c.DisplayName,ViolatingWords:c.ViolatingWords},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===ee.name&&c&&c.Message){var i=JSON.parse(c.Message);n=Object(x.a)(Object(x.a)({},n),{},{gameId:i&&i.universeId})}}return n}catch(s){return console.error(s),{}}}(t,Object(y.a)({},r("Current Display Name"),A)),N=function(e){try{var t={},a=tn[e.eventType];return Object.keys(a).forEach((function(n){t[n]=it(e,a[n])})),t}catch(n){return console.error(n),{}}}(t);return Object(n.useEffect)((function(){var e=D.creatorId||D.submitterUserId,t=D.accusedUserId,n=D.placeId,r=D.UserId,c=D.gameId;e&&E(an(e).then((function(e){200==e.status&&o(e.data)}))),t&&E(an(t).then((function(e){200==e.status&&f(e.data)}))),n&&E(function(e,t){return be()({method:"get",url:p.resourceServer.GetGameIDWithPlaceID+e,headers:{Authorization:"Bearer ".concat(t)}})}(n,a.accessToken.value).then((function(e){if(200==e.status){if(!e.data||!e.data[0]||!e.data[0].universeId)return;return e.data[0].universeId}})).then((function(e){return nn(e).then((function(e){200==e.status&&T(e.data.data[0])})).then((function(){return rn(e)})).then((function(e){200==e.status&&j(e.data.data)}))}))),c&&E(nn(c).then((function(e){e&&200==e.status&&T(e.data.data[0])})).then((function(){return rn(c)})).then((function(e){e&&200==e.status&&j(e.data.data)}))),r&&E(function(e,t){return be()({method:"post",url:p.resourceServer.GetUserInfo,data:{idType:_,id:e},headers:{Authorization:"Bearer ".concat(t)}})}(r,a.accessToken.value).then((function(e){if(200===e.status){var t=e.data,a=t&&t.data;U(a.displayName)}})))}),[t]),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%"},children:[Object(ge.jsx)(tt.b,{bordered:!0,column:4,title:r("Ticket Information"),size:"small",children:Object.keys(D).map((function(e){return Ya[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:Object(ge.jsx)(ct,{href:Ya[e]+D[e],children:D[e]})},e):null:Za[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:st(Ue.a.utc(D[e]).toDate())},e):null:Xa[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:r(D[e])},e):null:Object(ge.jsx)(tt.b.Item,{label:r(e),children:D[e]},e)}))}),D&&D.NewDisplayName&&A&&D.NewDisplayName!==A&&Object(ge.jsx)(at.a,{message:r("Current display name not equal to the pending review version. Please close the ticket."),type:"error"}),(D.placeId||D.gameId)&&cn(S,u,r),(D.creatorId||D.submitterUserId)&&sn(s,r("Submitter Information"),r),D.accusedUserId&&sn(O,r("Accused User Information"),r),Object.keys(N).map((function(e){if($a[e]){var t=N[e];return t?Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("comment")}),Object(ge.jsx)(Oe.a.Paragraph,{children:t})]},t):null}if(en[e]){var a=N[e];return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("chat")}),Object(ge.jsx)(nt.b,{bordered:!0,dataSource:a,size:"small",renderItem:function(e){var t=e.userId;return s&&e.userId==s.id&&(t="(".concat(r("Submitter User"),") ").concat(s.displayName)),O&&e.userId==O.id&&(t="(".concat(r("Accused User"),") ").concat(O.displayName)),Object(ge.jsxs)(nt.b.Item,{children:[Object(ge.jsx)(Oe.a.Text,{underline:!0,children:t}),":"," ",e.value]})}})]}):null}}))]})},ln=Ke,dn=Je,un=Ye,bn=Qe,jn=Ze,mn=Xe,hn=$e;function pn(e){return be.a.get(p.resourceServer.GetRobloxUserInfoWithUserID+e)}function On(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function fn(e){return be.a.get(p.resourceServer.GetDeveloperEmail(e))}function vn(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:a("Game Information"),children:[Object(ge.jsx)(tt.b.Item,{label:a("Game ID"),children:Object(ge.jsx)(ct,{href:ln.placeId+e.rootPlaceId,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("Game Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Name"),children:e.creator.name}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Type"),children:e.creator.type}),Object(ge.jsx)(tt.b.Item,{label:a("Creator ID"),children:e.creator.id}),Object(ge.jsx)(tt.b.Item,{label:a("Creator Contact Email"),children:t})]}):null}function xn(e,t,a){return e?Object(ge.jsxs)(tt.b,{bordered:!0,size:"small",title:t,children:[Object(ge.jsx)(tt.b.Item,{label:a("User ID"),children:Object(ge.jsx)(ct,{href:ln.creatorId+e.id,children:e.id})}),Object(ge.jsx)(tt.b.Item,{label:a("User Name"),children:e.name}),Object(ge.jsx)(tt.b.Item,{label:a("Display Name"),children:e.displayName}),Object(ge.jsx)(tt.b.Item,{label:a("Account Create Date"),children:st(Ue.a.utc(e.created).toDate())}),Object(ge.jsx)(tt.b.Item,{label:a("Ban Status"),children:e.isBanned?a("Banned"):a("Not Banned")})]}):null}var gn=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(k.a)().t,c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),d=Object(I.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(null),h=Object(I.a)(m,2),O=h[0],f=h[1],v=Object(n.useState)(null),g=Object(I.a)(v,2),S=g[0],T=g[1],C=Object(n.useState)(),w=Object(I.a)(C,2),A=w[0],U=w[1],D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;try{var a=e.eventType,n={},r=dn[a];if(Object.keys(r).forEach((function(t){n[t]=it(e,r[t])})),a===M&&e.dynamicEvent&&e.dynamicEvent.dataString){var c=JSON.parse(e.dynamicEvent.dataString);if(e.dynamicEvent.templateType===le.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{NewDisplayName:c.NewDisplayName},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===te.name&&(n=Object(x.a)(Object(x.a)(Object(x.a)({},n),{},{DisplayName:c.DisplayName,ViolatingWords:c.ViolatingWords},t),{},{UserId:c.UserId})),e.dynamicEvent.templateType===ee.name&&c&&c.Message){var i=JSON.parse(c.Message);n=Object(x.a)(Object(x.a)({},n),{},{gameId:i&&i.universeId})}}return n}catch(s){return console.error(s),{}}}(t,Object(y.a)({},r("Current Display Name"),A)),N=function(e){try{var t={},a=hn[e.eventType];return Object.keys(a).forEach((function(n){t[n]=it(e,a[n])})),t}catch(n){return console.error(n),{}}}(t);return Object(n.useEffect)((function(){var e=D.creatorId||D.submitterUserId,t=D.accusedUserId,n=D.placeId,r=D.UserId,c=D.gameId;e&&E(pn(e).then((function(e){200==e.status&&o(e.data)}))),t&&E(pn(t).then((function(e){200==e.status&&f(e.data)}))),n&&E(function(e,t){return be()({method:"get",url:p.resourceServer.GetGameIDWithPlaceID+e,headers:{Authorization:"Bearer ".concat(t)}})}(n,a.accessToken.value).then((function(e){if(200==e.status){if(!e.data||!e.data[0]||!e.data[0].universeId)return;return e.data[0].universeId}})).then((function(e){return On(e).then((function(e){200==e.status&&T(e.data.data[0])})).then((function(){return fn(e)})).then((function(e){200==e.status&&j(e.data.data)}))}))),c&&E(On(c).then((function(e){e&&200==e.status&&T(e.data.data[0])})).then((function(){return fn(c)})).then((function(e){e&&200==e.status&&j(e.data.data)}))),r&&E(function(e,t){return be()({method:"post",url:p.resourceServer.GetUserInfo,data:{idType:_,id:e},headers:{Authorization:"Bearer ".concat(t)}})}(r,a.accessToken.value).then((function(e){if(200===e.status){var t=e.data,a=t&&t.data;U(a.displayName)}})))}),[t]),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%"},children:[Object(ge.jsx)(tt.b,{bordered:!0,column:4,title:r("Ticket Information"),size:"small",children:Object.keys(D).map((function(e){return ln[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:Object(ge.jsx)(ct,{href:ln[e]+D[e],children:D[e]})},e):null:un[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:st(Ue.a.utc(D[e]).toDate())},e):null:bn[e]?D[e]?Object(ge.jsx)(tt.b.Item,{label:r(e),children:r(D[e])},e):null:Object(ge.jsx)(tt.b.Item,{label:r(e),children:D[e]},e)}))}),D&&D.NewDisplayName&&A&&D.NewDisplayName!==A&&Object(ge.jsx)(at.a,{message:r("Current display name not equal to the pending review version. Please close the ticket."),type:"error"}),(D.placeId||D.gameId)&&vn(S,u,r),(D.creatorId||D.submitterUserId)&&xn(s,r("Submitter Information"),r),D.accusedUserId&&xn(O,r("Accused User Information"),r),Object.keys(N).map((function(e){if(jn[e]){var t=N[e];return t?Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("comment")}),Object(ge.jsx)(Oe.a.Paragraph,{children:t})]},t):null}if(mn[e]){var a=N[e];return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Oe.a.Title,{level:5,children:r("chat")}),Object(ge.jsx)(nt.b,{bordered:!0,dataSource:a,size:"small",renderItem:function(e){var t=e.userId;return s&&e.userId==s.id&&(t="(".concat(r("Submitter User"),") ").concat(s.displayName)),O&&e.userId==O.id&&(t="(".concat(r("Accused User"),") ").concat(O.displayName)),Object(ge.jsxs)(nt.b.Item,{children:[Object(ge.jsx)(Oe.a.Text,{underline:!0,children:t}),":"," ",e.value]})}})]}):null}}))]})};var In=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(k.a)().t,c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=JSON.parse(t&&t.dynamicEvent&&t.dynamicEvent.dataString);return Object(n.useEffect)((function(){var e,t,n=l.UserId;n&&E((e=n,t=a.accessToken.value,be()({method:"post",url:p.resourceServer.GetUserInfo,data:{idType:_,id:e},headers:{Authorization:"Bearer ".concat(t)}})).then((function(e){if(200===e.status){var t=e.data,a=t&&t.data;o(a)}})))}),[t]),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%",padding:24},children:[Object(ge.jsxs)(tt.b,{bordered:!0,column:4,title:r("Ticket Information"),size:"small",children:[Object(ge.jsx)(tt.b.Item,{label:r("ticketId"),children:t.ticketId}),Object(ge.jsx)(tt.b.Item,{label:r("eventType"),children:r(l.Type)}),Object(ge.jsx)(tt.b.Item,{label:r("createdUtc"),children:st(Ue.a.utc(t.createdUtc).toDate())}),Object(ge.jsx)(tt.b.Item,{label:r("status"),children:t.status}),Object(ge.jsx)(tt.b.Item,{label:r("moderatorId"),children:t.moderatorId}),Object(ge.jsx)(tt.b.Item,{label:r("User ID"),children:Object(ge.jsx)(ct,{href:"https://www.roblox.com/users/".concat(l.UserId),children:l.UserId})}),Object(ge.jsx)(tt.b.Item,{label:r("Current Display Name"),children:s&&s.displayName}),Object(ge.jsx)(tt.b.Item,{label:r("Display Name Pending Review"),children:l.DisplayName}),Object(ge.jsx)(tt.b.Item,{label:r("Violating Words"),children:l.ViolatingWords.join(", ")}),Object(ge.jsx)(tt.b.Item,{label:r("Filter Type"),children:l.FilterType})]}),l&&s&&l.DisplayName!==s.displayName&&Object(ge.jsx)(at.a,{message:r("Current display name not equal to the pending review version. Please close the ticket."),type:"error"})]})},yn=la.a.TextArea,kn=da.a.Option;function Sn(e){var t=e.result,a=e.onChange,r=e.onConfirm,c=e.isConfirmed,i=e.onRevert,s=e.placeId,o=e.placeName,l=e.placeVersion,d=e.disabled,u=Object(k.a)().t,b=Object(n.useRef)();return Object(n.useEffect)((function(){var e;return b.current&&(e=new ba.a(b.current)).on("success",(function(){N.b.success(u("Copied"))})),function(){e&&e.destroy()}})),Object(ge.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:8,marginBottom:12,padding:"24px 16px",display:"flex",alignItems:"center"},children:Object(ge.jsxs)("div",{children:[Object(ge.jsxs)("div",{style:{fontSize:12,marginBottom:17},children:[Object(ge.jsx)("span",{style:{fontSize:18,fontWeight:"bold",marginRight:32},children:o}),Object(ge.jsx)(Un,{name:u("Version"),value:u(l)}),Object(ge.jsx)(Un,{name:u("PlaceID"),value:s}),Object(ge.jsx)(Un,{name:u("Link"),value:"https://dev.roblox.cn/deeplink.html?placeid=".concat(s)}),Object(ge.jsx)(pe.a,{ref:b,size:"small","data-clipboard-text":"https://dev.roblox.cn/deeplink.html?placeid=".concat(s),children:u("Copy Link")})]}),!d&&Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(da.a,{value:t,onChange:a,size:"small",style:{width:200,marginRight:8},children:[Object(ge.jsxs)(kn,{value:!0,children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle"})}),u("Pass")]}),Object(ge.jsxs)(kn,{value:!1,children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy2"})}),u("Not Pass")]})]}),Object(ge.jsx)(pe.a,{style:{marginRight:8},size:"small",type:"primary",disabled:c,onClick:r,children:u("Confirm")}),c&&Object(ge.jsx)(pe.a,{size:"small",type:"link",onClick:i,children:u("Revert")})]})]})})}function Tn(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function Cn(e,t){return be()({method:"get",url:p.resourceServer.GetDeveloperEmail(e),headers:{Authorization:"Bearer ".concat(t)}})}function wn(e){return be()({method:"get",url:p.resourceServer.GetGameIcon(e)})}function An(e,t){return be()({method:"get",url:p.resourceServer.GetGameUpdateRecordByTicketId,params:{ticketId:e},headers:{Authorization:"Bearer ".concat(t)}})}function Un(e){var t=e.name,a=e.value,n=e.url;return n?Object(ge.jsxs)(ct,{href:n,simple:!0,style:{marginRight:16},children:[Object(ge.jsxs)("span",{style:{color:"#8C8C8C"},children:[t," "]}),Object(ge.jsx)("span",{style:{color:"#000"},children:a})]}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("span",{style:{color:"#8C8C8C"},children:[t," "]}),Object(ge.jsx)("span",{style:{marginRight:16},children:a})]})}function Dn(e){var t=e.title;return Object(ge.jsx)("span",{style:{fontWeight:"bold",marginRight:16},children:t})}var Nn=function(e){var t=e.ticket,a=Object(k.a)(),r=a.t,c=a.i18n,i=Object(b.d)().authState,s=Object(n.useState)(null),o=Object(I.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(null),j=Object(I.a)(u,2),m=j[0],h=j[1],O=Object(n.useState)(null),f=Object(I.a)(O,2),v=f[0],x=f[1],g=Object(n.useState)(""),y=Object(I.a)(g,2),S=y[0],T=y[1],C=Object(n.useState)([]),w=Object(I.a)(C,2),A=w[0],R=w[1],G=Object(n.useState)(null),P=Object(I.a)(G,2),B=P[0],L=P[1],z=Object(n.useContext)(D),F=JSON.parse(t.dynamicEvent.dataString),M=function(e){e&&R(e.map((function(e){return e})))};function _(){return A.find((function(e){if(e.isUpdated){if(void 0===e.result||null===e.result)return!0;if(!e.confirmed)return!0}return!1}))}function W(){return function(e,t){return be()({method:"get",url:p.resourceServer.GetPlacesUnderGameId,params:{gameId:e},headers:{Authorization:"Bearer ".concat(t)}})}(F.gameId,i.accessToken.value).then((function(e){if(200==e.status)return e.data.data})).then((function(e){return An(t.ticketId,i.accessToken.value).then((function(t){var a;200==t.status&&t.data.data&&!t.data.error?function(e,t){var a=e.map((function(e){var n={isUpdated:!1,version:"Unchanged",id:e.id,name:e.name,result:null,confirmed:!1,selected:!1,isFinished:!1,gameId:e.universeId,onChange:function(e){n.result=e,M(a)},onConfirm:function(){n.confirmed=!0,M(a)},onRevert:function(){n.confirmed=!1,M(a)},onSelectChange:function(e){n.selected=e,M(a)}};return t&&t.length&&(L(t[0].recordId),t.filter((function(t){return t.placeId==e.id})).forEach((function(e){(n.version<e.versionNumber||"Unchanged"==n.version)&&(n.version=e.versionNumber,n.isFinished=e.isFinished,n.isUpdated=!0,n.ticketId=e.ticketId)}))),n}));R(a)}(e,null===(a=t.data.data)||void 0===a?void 0:a.moderationRecords):t.data.error&&N.b.error(JSON.stringify(t.data.error))}))}))}var V=function(){An(t.ticketId,i.accessToken.value).then((function(e){if(200==e.status&&e.data.data&&!e.data.error){var t=e.data.data.moderationRecords;R((function(e){return e.map((function(e){if(t&&t.length){var a=0;t.filter((function(t){return t.placeId==e.id})).forEach((function(t){(e.version<t.versionNumber||"Unchanged"==e.version)&&(a++,e.version=t.versionNumber,e.isFinished=t.isFinished,e.result=null,e.confirmed=!1,e.isUpdated=!0)})),a&&U.a.info({content:"".concat(a," ").concat(r("place(s) has been updated"))})}return e}))}))}else e.data.error&&N.b.error(JSON.stringify(e.data.error))}))};return Object(n.useEffect)((function(){var e=F.gameId;if(e){var t=[Tn(e).then((function(e){200==e.status&&d(e.data.data[0])})),wn(e).then((function(e){var t;200==e.status&&x(null===(t=e.data.data[0])||void 0===t?void 0:t.imageUrl)})),Cn(e,i.accessToken.value).then((function(e){200==e.status&&h(e.data.data)})),W()];E(Promise.all(t))}var a=setInterval(V,6e4);return function(){return clearInterval(a)}}),[t]),z&&l?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",backgroundColor:"#fff",position:"relative",padding:"0 24px"},className:"place-update-ticket",children:[Object(ge.jsx)("div",{style:{width:120,height:120,borderRadius:12,marginRight:20},children:Object(ge.jsx)("img",{src:v,style:{width:"100%",height:"100%"}})}),Object(ge.jsxs)("div",{style:{flex:1},children:[Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"16px",color:"#1f1f1f",fontWeight:"bolder",marginBottom:4},children:[r("PlaceUpdated")," #",t.ticketId]}),Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"12px",marginBottom:4},children:[Object(ge.jsx)(Dn,{title:r("Ticket")}),Object(ge.jsx)(Un,{name:r("createdUtc"),value:st(Ue.a.utc(t.dynamicEvent.createdUtc).toDate())}),Object(ge.jsx)(Un,{name:r("status"),value:t.status}),Object(ge.jsx)(Un,{name:r("ticketId"),value:t.ticketId})]}),Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"12px",marginBottom:4},children:[Object(ge.jsx)(Dn,{title:r("Game")}),Object(ge.jsx)(Un,{name:r("gameId"),value:F.gameId,url:"https://www.roblox.com/games/".concat(F.placeId)}),Object(ge.jsx)(Un,{name:r("name"),value:l.name}),Object(ge.jsx)(Un,{name:r("Updated Time"),value:st(Ue.a.utc(l.updated).toDate())})]}),Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"12px",marginBottom:4},children:[Object(ge.jsx)(Dn,{title:r("Creator")}),Object(ge.jsx)(Un,{name:r("Creator ID"),value:l.creator.id,url:"User"==l.creator.type?"https://www.roblox.com/users/".concat(l.creator.id,"/profile/"):"https://www.roblox.com/groups/".concat(l.creator.id)}),Object(ge.jsx)(Un,{name:r("Creator Name"),value:l.creator.name}),Object(ge.jsx)(Un,{name:r("Creator Type"),value:l.creator.type}),m&&Object(ge.jsx)(Un,{name:r("Creator Email"),value:m})]}),Object(ge.jsxs)("div",{style:{lineHeight:"20px",fontSize:"12px",marginBottom:4,display:"flex"},children:[Object(ge.jsx)(Dn,{title:r("Comment")}),Object(ge.jsx)(yn,{rows:2,onChange:function(e){return T(e.target.value)},placeholder:r("Leave a comment"),style:{width:"100%"},maxLength:1e3,showCount:!0})]})]}),A.find((function(e){return!e.isFinished}))&&Object(ge.jsxs)("div",{className:"btns",style:{position:"absolute",top:0,right:24},children:[Object(ge.jsx)(pe.a,{onClick:function(){be()({method:"POST",url:p.resourceServer.GameUpdateRecordResultBatchSubmit,data:{recordId:B,placeUpdatedType:"PlaceUpdatedWhenOptInEvent"==t.dynamicEvent.templateType?1:2,submitType:3,placeModerationResults:null,comment:S},headers:{Authorization:"Bearer ".concat(i.accessToken.value)}}).then((function(e){200==e.status&&e.data&&!e.data.error&&(window.location="/")}))},type:"primary",danger:!0,size:"small",style:{marginRight:8},children:r("Repoen This Ticket With Comment")}),Object(ge.jsx)(pe.a,{onClick:function(){if(!_()){var e=null,a=A.filter((function(e){return e.isUpdated})).map((function(t){return e=t.gameId,{ticketId:t.ticketId,placeId:t.id,versionNumber:t.version,moderationResult:t.result?1:2}})),n="\n"+a.map((function(e){return"zh"==c.language?"\u573a\u666fID ".concat(e.placeId," \u7684\u7248\u672c\u53f7 ").concat(e.versionNumber," \u7684\u767d\u540d\u5355\u72b6\u6001\u88ab\u8bbe\u7f6e\u4e3a ").concat(1==e.moderationResult?"\u901a\u8fc7":"\u62d2\u7edd"):"Place ID ".concat(e.placeId," with Version Number ").concat(e.versionNumber," 's whitelist status is set to ").concat(1==e.moderationResult?"Approved":"Rejected")})).join("\n");be()({method:"post",url:p.resourceServer.GameUpdateRecordResultBatchSubmit,data:{recordId:B,gameId:e,placeUpdatedType:"PlaceUpdatedWhenOptInEvent"==t.dynamicEvent.templateType?1:2,submitType:2,placeModerationResults:a,comment:S+n},headers:{Authorization:"Bearer ".concat(i.accessToken.value)}}).then((function(e){200==e.status&&e.data&&!e.data.error&&(window.location="/")}))}},type:"primary",size:"small",disabled:_(),children:r("Submit")})]})]}),Object(ge.jsx)("div",{className:"place-list",style:{backgroundColor:"#F4F5F6",padding:24},children:A&&A.map((function(e){return Object(ge.jsx)(Sn,{placeId:e.id,placeName:e.name,placeVersion:e.version,result:e.result,onChange:e.onChange,onConfirm:e.onConfirm,isConfirmed:e.confirmed,onRevert:e.onRevert,disabled:!e.isUpdated},e.id)}))})]}):null},En=a(227),Rn=a(373),Gn=(a(361),p.resourceServer);var Pn=function(e){var t=e.placeId,a=Object(k.a)().t,r=Object(n.useState)(null),c=Object(I.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(null),l=Object(I.a)(o,2),d=l[0],u=l[1];return Object(n.useEffect)((function(){E(function(e){return be.a.get(p.resourceServer.GetGameIDWithPlaceID+e)}(t).then((function(e){var t;if(200==e.status)return null===e||void 0===e||null===(t=e.data[0])||void 0===t?void 0:t.universeId})).then((function(e){var t=function(e){return be()({method:"get",url:Gn.GetRobloxGameInfoWithGameID+e})}(e).then((function(e){200==e.status&&s(e.data.data[0])})),a=function(e){return be()({method:"get",url:Gn.GetGameIcon(e)})}(e).then((function(e){200==e.status&&u(e.data.data[0].imageUrl)}));return Promise.all([t,a])})))}),[t]),i?Object(ge.jsxs)("div",{style:{padding:20,display:"flex",flexDirection:"row",width:"100%",backgroundColor:"#fff"},children:[Object(ge.jsx)("div",{style:{width:120,height:120,borderRadius:12,marginRight:20},children:Object(ge.jsx)("img",{src:d,style:{width:"100%",height:"100%"}})}),Object(ge.jsxs)("div",{style:{flex:1},children:[Object(ge.jsx)("div",{style:{height:20,lineHeight:"20px",fontSize:"16px",color:"#1f1f1f",fontWeight:"bolder",marginBottom:4},children:Object(ge.jsx)(ct,{href:"https://www.roblox.com/games/".concat(i.rootPlaceId),children:i.name})}),Object(ge.jsxs)("div",{style:{height:20,lineHeight:"20px",fontSize:"10px",color:"#8c8c8c",marginBottom:4},children:[i.playing,a(" Current Players")]}),Object(ge.jsx)("div",{style:{lineHeight:"20px",fontSize:"12px",color:"#262626",marginBottom:4,whiteSpace:"pre-wrap"},children:i.description})]})]}):Object(ge.jsx)("div",{style:{height:48}})},Bn=a(130),Ln=a(162),zn=a(379),Fn=[{title:Object(ge.jsxs)(ge.Fragment,{children:["0.\u65e0\u98ce\u9669",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle"})})]}),value:"0"},{title:"1.\u65f6\u653f\u76f8\u5173",value:"1",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["1.\u65f6\u653f\u76f8\u5173",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy3"})}),"P0"]}),value:"1.0"},{title:Object(ge.jsxs)(ge.Fragment,{children:["1.\u65f6\u653f\u76f8\u5173",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy2"})}),"P1"]}),value:"1.1"}]},{title:"2.\u6deb\u79fd\u8272\u60c5",value:"2",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["2.\u6deb\u79fd\u8272\u60c5",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy3"})}),"P0"]}),value:"2.0"},{title:Object(ge.jsxs)(ge.Fragment,{children:["2.\u6deb\u79fd\u8272\u60c5",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"2.2"}]},{title:"3.\u5b97\u6559\u4e0e\u79cd\u65cf",value:"3",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["3.\u5b97\u6559\u4e0e\u79cd\u65cf",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy2"})}),"P1"]}),value:"3.1"}]},{title:"4.\u8fdd\u6cd5\u72af\u7f6a",value:"4",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["4.\u8fdd\u6cd5\u72af\u7f6a",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy3"})}),"P0"]}),value:"4.0"},{title:Object(ge.jsxs)(ge.Fragment,{children:["4.\u8fdd\u6cd5\u72af\u7f6a",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy2"})}),"P1"]}),value:"4.1"},{title:Object(ge.jsxs)(ge.Fragment,{children:["4.\u8fdd\u6cd5\u72af\u7f6a",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"4.2"}]},{title:"5.\u8840\u8165\u66b4\u529b",value:"5",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["5.\u8840\u8165\u66b4\u529b",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"5.2"}]},{title:"6.\u6050\u6016\u4e0e\u60ca\u5413",value:"6",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["6.\u6050\u6016\u4e0e\u60ca\u5413",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"6.2"},{title:Object(ge.jsxs)(ge.Fragment,{children:["6.\u6050\u6016\u4e0e\u60ca\u5413",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy"})}),"P3"]}),value:"6.3"}]},{title:"7.\u8d4c\u535a",value:"7",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["7.\u8d4c\u535a",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"7.2"},{title:Object(ge.jsxs)(ge.Fragment,{children:["7.\u8d4c\u535a",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy"})}),"P3"]}),value:"7.3"},{title:Object(ge.jsxs)(ge.Fragment,{children:["7.\u8d4c\u535a",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy1"})}),"P4"]}),value:"7.4"}]},{title:"8.\u6587\u5316\u4e0e\u9053\u5fb7",value:"8",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["8.\u6587\u5316\u4e0e\u9053\u5fb7",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"8.2"},{title:Object(ge.jsxs)(ge.Fragment,{children:["8.\u6587\u5316\u4e0e\u9053\u5fb7",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy"})}),"P3"]}),value:"8.3"}]},{title:"9.\u4fb5\u6743",value:"9",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["9.\u4fb5\u6743",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"9.2"},{title:Object(ge.jsxs)(ge.Fragment,{children:["9.\u4fb5\u6743",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy"})}),"P3"]}),value:"9.3"},{title:Object(ge.jsxs)(ge.Fragment,{children:["9.\u4fb5\u6743",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy1"})}),"P4"]}),value:"9.4"}]},{title:"10.\u793e\u4ea4\u5a92\u4f53",value:"10",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["10.\u793e\u4ea4\u5a92\u4f53",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy1"})}),"P4"]}),value:"10.4"}]},{title:"11.\u7ffb\u8bd1",value:"11",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:["11.\u7ffb\u8bd1",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy1"})}),"P4"]}),value:"11.4"}]},{title:Object(ge.jsx)(ge.Fragment,{children:"\u5ba1\u6838\u8d44\u6e90\u65e0\u6cd5\u52a0\u8f7d"}),value:"-1"}],Mn=/http:\/\/www.roblox.com\/asset\/?\?id=/i,_n=/rbxassetid:\/\//;function Wn(e,t){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",Promise.resolve("https://assetdelivery.roblox.qq.com/v1/asset?id=".concat(t)));case 2:return e.next=4,be()({url:p.resourceServer.GetAsset(t),params:{Accept:"application/json","Accept-Encoding":"json"}}).then((function(e){return 200==e.status&&e.data.location?e.data.location:""}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(e){return Mn.test(e)?e.replace(Mn,"").replace(/\s/g,""):_n.test(e)?e.replace(_n,"").replace(/\s/g,""):e}function qn(e){return e&&(_n.test(e)||Mn.test(e))}C.a.TabPane;function Kn(e){var t=e.media,a=e.mediaType,r=e.openFocusModeOnCurrentMedia,c=Object(n.useState)(""),i=Object(I.a)(c,2),s=i[0],o=i[1];Object(n.useEffect)((function(){t.assetUrl?qn(t.assetUrl)&&Wn(Hn(t.assetUrl),"sound"==a||"video"==a).then((function(e){o(e),t.url=e})):o(t.url)}),[t.url,t.assetUrl]);var l=function(){r(t)};switch(a){case"text":return Object(ge.jsx)(Zn,{text:t.text,path:t.path,onDetail:l});case"image":case"snapshot":case"screenshots":return Object(ge.jsx)(Qn,{image:s,path:t.path,onDetail:l,showTitle:"screenshots"==a});case"video":return Object(ge.jsx)(Xn,{video:s,path:t.path,onDetail:l});case"audio":case"sound":return Object(ge.jsx)($n,{audio:s,path:t.path,onDetail:l})}}var Jn=function(e){var t=e.result,a=e.ratingMap,r=e.onChange,c=Object(k.a)().t,i=Object(n.useState)(null),s=Object(I.a)(i,2),o=s[0],l=s[1];Object(n.useEffect)((function(){l(t)}),[t]);var d=o===t&&o&&t,u=Object(ge.jsx)(zn.a,{treeData:a,treeDefaultExpandAll:!0,onChange:function(e){l(e)},style:{width:"100%"},showSearch:!0,allowClear:!0,filterTreeNode:function(e,t){var a=e.replace(/[^\d]/g,""),n=new RegExp("^".concat(a,".*")),r=t.value.replace(/[^\d]/g,"");return n.test(r)},value:o,size:"medium",virtual:!1,multiple:!0}),b={height:28,padding:"4px 8px",fontSize:"12px",marginTop:8},j=Object(ge.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:"100%"},children:[!d&&Object(ge.jsx)(pe.a,{style:b,type:"primary",onClick:function(){r(o)},children:c("Confirm")}),d&&Object(ge.jsx)(pe.a,{style:b,disabled:!0,children:c("Confirmed")})]});return Object(ge.jsxs)("div",{style:{width:"100%",marginTop:8},children:[u,j]})};function Yn(e,t,a){var n=e.replace(/.*\//,"").replace(/\..*/,"");return t.replace(/.*;/,"").replace(/:::/,".")+" - "+a(n)}var Qn=function(e){var t=e.image,a=e.path,r=e.onDetail,c=e.showTitle,i=Object(n.useState)(!1),s=Object(I.a)(i,2),o=s[0],l=s[1],d=Object(n.useState)(!0),u=Object(I.a)(d,2),b=u[0],j=u[1],m=Object(k.a)().t;return Object(n.useEffect)((function(){l(!1),j(!0)}),[t,a]),Object(ge.jsxs)("div",{style:{position:"relative",width:216,height:162,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:8,cursor:"pointer",overflow:"hidden"},className:"transparent-bg",onClick:o||b?null:r,children:[c&&Object(ge.jsx)("div",{className:"title",style:{position:"absolute",top:0,left:0,width:"100%",height:40,display:"flex",justifyContent:"left",alignItems:"center",background:"linear-gradient(180deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 100%)",color:"#fff",zIndex:2,paddingLeft:12,fontSize:10},children:Yn(t,a,m)}),o?Object(ge.jsxs)("div",{style:{flex:"0 1 auto",height:"100%",width:"100%",position:"relative",overflow:"hidden"},children:[Object(ge.jsxs)("svg",{width:"216",height:"216",viewBox:"0 0 216 216",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:0,left:0,zIndex:1},children:[Object(ge.jsxs)("g",{clipPath:"url(#clip0)",children:[Object(ge.jsx)("rect",{width:"216",height:"216",fill:"white"}),Object(ge.jsx)("rect",{width:"480",height:"480",fill:"#434343"}),Object(ge.jsx)("g",{clipPath:"url(#clip1)",children:Object(ge.jsx)("g",{filter:"url(#filter0_d)",children:Object(ge.jsx)("path",{d:"M138.464 81.2877L87.2958 65.6312C85.8694 65.1951 84.3162 65.3441 82.9969 66.0455L17.0811 101.094C14.3339 102.554 13.2946 105.954 14.7553 108.701L83.4155 237.832C84.8762 240.579 88.2757 241.619 91.0229 240.158L190.354 187.342C193.102 185.882 194.141 182.482 192.68 179.735L141.788 84.0196C141.086 82.7004 139.89 81.7238 138.464 81.2877ZM77.2571 136.388C80.6871 134.564 84.9425 135.865 86.7663 139.295C88.59 142.725 87.2891 146.981 83.859 148.804C80.429 150.628 76.1736 149.327 74.3498 145.897C72.526 142.467 73.827 138.212 77.2571 136.388ZM147.46 157.591L90.3444 187.96C89.3045 188.513 88.0948 187.623 88.302 186.478L93.2945 158.5C93.3317 158.29 93.4163 158.091 93.5418 157.918C93.6673 157.746 93.8305 157.604 94.019 157.504C94.2074 157.403 94.4162 157.347 94.6295 157.34C94.8428 157.332 95.055 157.373 95.2501 157.46L105.953 162.201L109.842 140.384C109.879 140.174 109.964 139.975 110.089 139.803C110.215 139.63 110.378 139.488 110.566 139.388C110.755 139.288 110.964 139.232 111.177 139.224C111.39 139.217 111.602 139.258 111.797 139.345L147.342 155.086C148.439 155.538 148.484 157.047 147.46 157.591ZM102.337 107.923L86.8057 78.7128L131.546 92.3914L102.337 107.923Z",fill:"#474747"})})})]}),Object(ge.jsxs)("defs",{children:[Object(ge.jsxs)("filter",{id:"filter0_d",x:"-11.8855",y:"25.6367",width:"231.207",height:"245.161",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(ge.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(ge.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Object(ge.jsx)("feOffset",{dy:"4"}),Object(ge.jsx)("feGaussianBlur",{stdDeviation:"12"}),Object(ge.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.09 0"}),Object(ge.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(ge.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),Object(ge.jsx)("clipPath",{id:"clip0",children:Object(ge.jsx)("rect",{width:"216",height:"216",fill:"white"})}),Object(ge.jsx)("clipPath",{id:"clip1",children:Object(ge.jsx)("rect",{width:"180",height:"180",fill:"white",transform:"translate(-18 107.006) rotate(-28)"})})]})]}),Object(ge.jsxs)("div",{onClick:function(){l(!1),j(!0)},style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",height:"100%",position:"relative",zIndex:2,color:"#fff"},children:[Object(ge.jsx)("svg",{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(ge.jsx)("path",{d:"M32.9552 4.83795L30.6892 6.60982C27.5994 2.66027 22.7941 0.125 17.3981 0.125C8.08069 0.125 0.539168 7.65848 0.527114 16.9799C0.51506 26.3094 8.07265 33.875 17.3981 33.875C24.6825 33.875 30.8901 29.2545 33.2526 22.7817C33.3128 22.6129 33.2244 22.4241 33.0557 22.3679L30.7776 21.5844C30.6981 21.5571 30.6112 21.5621 30.5354 21.5981C30.4595 21.6342 30.4008 21.6985 30.3718 21.7772C30.2994 21.9781 30.2191 22.179 30.1347 22.3759C29.4396 24.0232 28.4432 25.5018 27.1735 26.7714C25.9141 28.0332 24.423 29.04 22.782 29.7366C21.0825 30.4558 19.2704 30.8214 17.4061 30.8214C15.5378 30.8214 13.7298 30.4558 12.0302 29.7366C10.3876 29.0429 8.89599 28.0358 7.63872 26.7714C6.37591 25.5122 5.37017 24.0193 4.67756 22.3759C3.95836 20.6723 3.59274 18.8643 3.59274 16.996C3.59274 15.1277 3.95836 13.3196 4.67756 11.6161C5.37265 9.96875 6.36908 8.49018 7.63872 7.22054C8.90836 5.95089 10.3869 4.95446 12.0302 4.25536C13.7298 3.53616 15.5418 3.17054 17.4061 3.17054C19.2744 3.17054 21.0825 3.53616 22.782 4.25536C24.4246 4.94902 25.9163 5.95619 27.1735 7.22054C27.5713 7.6183 27.945 8.04018 28.2905 8.48214L25.8718 10.3705C25.8239 10.4076 25.7875 10.4573 25.7666 10.5141C25.7458 10.571 25.7414 10.6325 25.754 10.6917C25.7666 10.7508 25.7957 10.8053 25.8378 10.8487C25.88 10.8921 25.9335 10.9227 25.9923 10.9371L33.0477 12.6647C33.2485 12.7129 33.4454 12.5603 33.4454 12.3554L33.4776 5.08705C33.4735 4.82188 33.1642 4.67321 32.9552 4.83795Z",fill:"white"})}),Object(ge.jsx)("div",{children:m("Reload")})]})]}):Object(ge.jsx)("img",{src:t,style:{flex:"0 1 auto",height:"100%",width:"100%"},onError:function(){return l(!0)},onLoad:function(){return j(!1)}})]})},Zn=function(e){var t=e.text,a=e.onDetail;return Object(ge.jsx)("p",{style:{width:"100%",padding:32,borderRadius:8,backgroundColor:"#f5f5f5",margin:0,cursor:"pointer"},onClick:a,children:t})},Xn=function(e){var t=e.video,a=e.path;return t?Object(ge.jsx)("video",{src:t,controls:!0,style:{width:216}}):Object(ge.jsx)("div",{style:{width:216},children:a})},$n=function(e){var t=e.audio,a=e.path;return t?Object(ge.jsx)("audio",{src:t,controls:!0,style:{width:216}}):Object(ge.jsx)("div",{style:{width:216},children:a})},er=function(e){var t=e.mediaData,a=e.mediaType,r=e.onFinish,c=e.onMediaUpdate,i=e.openFocusModeOnCurrentMedia,s=e.currentMedia,o=Object(k.a)().t,l=Object(n.useState)(null),d=Object(I.a)(l,2),u=d[0],b=d[1],j=Object(n.useState)("all"),m=Object(I.a)(j,2),h=m[0],p=(m[1],Object(n.useState)(1)),O=Object(I.a)(p,2),f=O[0],v=O[1],x=Object(n.useState)(!1),g=Object(I.a)(x,2),y=g[0],S=g[1],T=Object(n.useState)([]),C=Object(I.a)(T,2),w=C[0],A=C[1],U=Object(n.useState)([]),D=Object(I.a)(U,2),N=D[0],E=D[1],R=function(e,t){switch(t){case"all":return e;default:return e.filter((function(e){var a;return(null===e||void 0===e||null===(a=e.aiMeta)||void 0===a?void 0:a.flag)==t}))}};return Object(n.useEffect)((function(){if(b(t),t){var e=t.filter((function(e){return!e.result})),n=t.filter((function(e){return e.result})),c=y?e.concat(n):t,i=R(c,h),s=i.slice(60*(f-1),60*f);0===e.length&&r(a),A(i),E(s)}}),[t,y,f,h,u]),Object(n.useEffect)((function(){if(s){var e=w.indexOf(s);console.log(e),-1!=e&&v(Math.ceil((e+1)/60))}}),[s]),u?Object(ge.jsx)("div",{style:{backgroundColor:"#F0F0F0",padding:24},children:Object(ge.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:8},children:[Object(ge.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:20},children:[!1,Object(ge.jsx)(Bn.a,{style:{marginLeft:16,lineHeight:"32px"},checked:y,onChange:function(){return S(!y)},children:o("Sort by completion status")})]}),Object(ge.jsx)("div",{style:{display:"flex",flexDirection:"text"===a?"column":"row",alignItems:"stretch",justifyContent:"left",flexWrap:"wrap"},children:N.map((function(e){return Object(ge.jsxs)("div",{style:{margin:"0 16px 20px",width:"text"==a?"auto":216},children:[Object(ge.jsx)(Kn,{media:e,mediaType:a,openFocusModeOnCurrentMedia:i}),Object(ge.jsx)(Jn,{result:e.result,ratingMap:Fn,onChange:function(t){return function(e,t){e.result=t,b(u.filter((function(e){return e}))),c(e)}(e,t)}})]},e.path+e.url)}))}),Object(ge.jsx)(Ln.a,{current:f,pageSize:60,hideOnSinglePage:!1,showQuickJumper:!0,showSizeChanger:!1,total:w.length,onChange:v,style:{float:"right"}}),Object(ge.jsx)("div",{style:{clear:"both"}})]})}):null},tr=a(382),ar=a(241),nr=a(74),rr=[{title:Object(ge.jsxs)(ge.Fragment,{children:["0.\u65e0\u98ce\u9669",Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle"})})]}),value:"0"},{title:"1.\u65f6\u653f\u76f8\u5173",value:"1",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy3"})}),"P0"]}),value:"1.0"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy2"})}),"P1"]}),value:"1.1"}]},{title:"2.\u6deb\u79fd\u8272\u60c5",value:"2",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy3"})}),"P0"]}),value:"2.0"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"2.2"}]},{title:"3.\u5b97\u6559\u4e0e\u79cd\u65cf",value:"3",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy2"})}),"P1"]}),value:"3.1"}]},{title:"4.\u8fdd\u6cd5\u72af\u7f6a",value:"4",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy3"})}),"P0"]}),value:"4.0"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy2"})}),"P1"]}),value:"4.1"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"4.2"}]},{title:"5.\u8840\u8165\u66b4\u529b",value:"5",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"5.2"}]},{title:"6.\u6050\u6016\u4e0e\u60ca\u5413",value:"6",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"6.2"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy"})}),"P3"]}),value:"6.3"}]},{title:"7.\u8d4c\u535a",value:"7",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"7.2"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy"})}),"P3"]}),value:"7.3"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy1"})}),"P4"]}),value:"7.4"}]},{title:"8.\u6587\u5316\u4e0e\u9053\u5fb7",value:"8",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"8.2"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy"})}),"P3"]}),value:"8.3"}]},{title:"9.\u4fb5\u6743",value:"9",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy4"})}),"P2"]}),value:"9.2"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy"})}),"P3"]}),value:"9.3"},{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy1"})}),"P4"]}),value:"9.4"}]},{title:"10.\u793e\u4ea4\u5a92\u4f53",value:"10",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy1"})}),"P4"]}),value:"10.4"}]},{title:"11.\u7ffb\u8bd1",value:"11",disabled:!0,children:[{title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(ge.jsx)("use",{href:"#icon-circle-copy1"})}),"P4"]}),value:"11.4"}]},{title:Object(ge.jsx)(ge.Fragment,{children:"12.\u5ba1\u6838\u8d44\u6e90\u65e0\u6cd5\u52a0\u8f7d"}),value:"12"}],cr=[256,192];function ir(e){var t=e.value,a=e.type,n=e.width,r=e.height,c=e.onChange;switch(a){case"text":return Object(ge.jsx)("p",{style:{color:"#fff",padding:"128px 64px",width:n,height:r,fontSize:24},children:t});case"sound":return Object(ge.jsx)("audio",{src:t,style:{width:n-96,margin:"0 48px"},controls:!0});case"video":return Object(ge.jsx)("video",{src:t,style:{width:n,height:r},controls:!0});case"image":case"screenshots":return Object(ge.jsx)(sr,{src:t,width:n,height:r,onChange:c})}return null}function sr(e){var t=e.src,a=e.width,r=e.height,c=e.onChange,i=Object(n.useState)(!1),s=Object(I.a)(i,2),o=s[0],l=s[1],d=Object(n.useState)(0),u=Object(I.a)(d,2),b=u[0],j=u[1],m=Object(n.useState)(0),h=Object(I.a)(m,2),p=h[0],O=h[1],f=Object(n.useState)(1),v=Object(I.a)(f,2),x=v[0],g=v[1],y=Object(n.useState)(0),S=Object(I.a)(y,2),T=S[0],C=S[1],w=Object(n.useState)(0),A=Object(I.a)(w,2),U=A[0],D=A[1],N=Object(n.useState)([0,0]),E=Object(I.a)(N,2),R=E[0],G=E[1],P=Object(n.useState)(!1),B=Object(I.a)(P,2),L=B[0],z=B[1],F=Object(n.useState)(null),M=Object(I.a)(F,2),_=M[0],W=M[1],V=Object(k.a)().t,H=Object(n.useRef)(),q=function(){var e=b>0?0:-b,t=a-b<0?0:Math.min(a-b,T*x),n=p>0?0:-p,i=r-p<0?0:Math.min(r-p,U*x),s=T*x,o=U*x;c({offsetX:b,offsetY:p,scale:x,imageWidth:T,imageHeight:U,view:[e/s,n/o,t/s,i/o]})};return Object(n.useEffect)((function(){var e,n,c,i;j((a-((null===(e=H.current)||void 0===e?void 0:e.naturalWidth)||100))/2),O((r-((null===(n=H.current)||void 0===n?void 0:n.naturalHeight)||100))/2),g(1),C((null===(c=H.current)||void 0===c?void 0:c.naturalWidth)||100),D((null===(i=H.current)||void 0===i?void 0:i.naturalHeight)||100),W(t),l(!1)}),[t]),Object(ge.jsxs)("div",{className:"image-container",style:{width:a,height:r,position:"relative"},onWheel:function(e){var t=x,a=[((t=e.deltaY>0?.8*x:x/.8)-x)*T,(t-x)*U],n=(R[0]-b)/T/x,r=(R[1]-p)/U/x;g(t),j(b-a[0]*n),O(p-a[1]*r),q()},onMouseDown:function(){z(!0)},onMouseUp:function(){z(!1)},onMouseMove:function(e){if(L){var t=[e.movementX,e.movementY];j(b+t[0]),O(p+t[1]),G([e.nativeEvent.offsetX,e.nativeEvent.offsetY]),q()}else G([e.nativeEvent.offsetX,e.nativeEvent.offsetY])},children:[Object(ge.jsx)("div",{style:{position:"absolute",top:p,left:b,width:T*x,height:U*x,pointerEvents:"none"},className:"transparent-bg"}),o?Object(ge.jsxs)("div",{onClick:function(){l(!1)},style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",position:"absolute",top:p,left:b,width:T*x,height:U*x,cursor:"pointer"},children:[Object(ge.jsx)("svg",{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(ge.jsx)("path",{d:"M32.9552 4.83795L30.6892 6.60982C27.5994 2.66027 22.7941 0.125 17.3981 0.125C8.08069 0.125 0.539168 7.65848 0.527114 16.9799C0.51506 26.3094 8.07265 33.875 17.3981 33.875C24.6825 33.875 30.8901 29.2545 33.2526 22.7817C33.3128 22.6129 33.2244 22.4241 33.0557 22.3679L30.7776 21.5844C30.6981 21.5571 30.6112 21.5621 30.5354 21.5981C30.4595 21.6342 30.4008 21.6985 30.3718 21.7772C30.2994 21.9781 30.2191 22.179 30.1347 22.3759C29.4396 24.0232 28.4432 25.5018 27.1735 26.7714C25.9141 28.0332 24.423 29.04 22.782 29.7366C21.0825 30.4558 19.2704 30.8214 17.4061 30.8214C15.5378 30.8214 13.7298 30.4558 12.0302 29.7366C10.3876 29.0429 8.89599 28.0358 7.63872 26.7714C6.37591 25.5122 5.37017 24.0193 4.67756 22.3759C3.95836 20.6723 3.59274 18.8643 3.59274 16.996C3.59274 15.1277 3.95836 13.3196 4.67756 11.6161C5.37265 9.96875 6.36908 8.49018 7.63872 7.22054C8.90836 5.95089 10.3869 4.95446 12.0302 4.25536C13.7298 3.53616 15.5418 3.17054 17.4061 3.17054C19.2744 3.17054 21.0825 3.53616 22.782 4.25536C24.4246 4.94902 25.9163 5.95619 27.1735 7.22054C27.5713 7.6183 27.945 8.04018 28.2905 8.48214L25.8718 10.3705C25.8239 10.4076 25.7875 10.4573 25.7666 10.5141C25.7458 10.571 25.7414 10.6325 25.754 10.6917C25.7666 10.7508 25.7957 10.8053 25.8378 10.8487C25.88 10.8921 25.9335 10.9227 25.9923 10.9371L33.0477 12.6647C33.2485 12.7129 33.4454 12.5603 33.4454 12.3554L33.4776 5.08705C33.4735 4.82188 33.1642 4.67321 32.9552 4.83795Z",fill:"black"})}),Object(ge.jsx)("div",{children:V("Reload")})]}):Object(ge.jsx)("img",{src:_,onLoad:function(e){C(e.target.naturalWidth),D(e.target.naturalHeight),j((a-e.target.naturalWidth)/2),O((r-e.target.naturalHeight)/2),q(),console.log("load")},ref:H,style:{position:"absolute",top:p,left:b,width:T*x,height:U*x,pointerEvents:"none"},title:"Preview",onError:function(){return l(!0)}})]})}function or(e,t){if(!t)return!0;var a=t.replace(/\D/g,"");if(!a)return!1;var n=new RegExp("^".concat(a,".*")),r=e.replace(/\D/g,"");return n.test(r)}function lr(e,t){var a=e.split("."),n=t[a[0]].title;if(a[1]){var r,c=null===(r=t[a[0]].children.filter((function(t){return t.value==e}))[0])||void 0===r?void 0:r.title;return Object(ge.jsxs)("span",{children:[n,c]})}return n}function dr(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var a=e.concat().sort(),n=t.concat().sort(),r=0;r<a.length;r++)if(a[r]!==n[r])return!1;return!0}function ur(e,t,a){var n=e.replace(/.*\//,"").replace(/\..*/,"");return t.replace(/.*;/,"").replace(/:::/,".")+" - "+a(n)}var br=function(e){var t,a,r,c,i=e.visible,s=e.onChange,o=e.media,l=e.count,d=e.close,u=e.onMoveForward,b=e.onMoveBackward,j=Object(k.a)().t,m=Object(n.useState)(0),h=Object(I.a)(m,2),p=h[0],O=h[1],f=Object(n.useState)(0),v=Object(I.a)(f,2),x=v[0],g=v[1],y=Object(n.useState)([]),S=Object(I.a)(y,2),T=S[0],C=S[1],w=Object(n.useState)(""),A=Object(I.a)(w,2),U=A[0],D=A[1],N=Object(n.useState)([]),E=Object(I.a)(N,2),R=E[0],G=E[1],P=Object(n.useState)(null),B=Object(I.a)(P,2),L=B[0],z=B[1],F=Object(n.useState)({offsetX:0,offsetY:0,scale:1,imageWidth:1,imageHeight:1,view:[0,0,0,0]}),M=Object(I.a)(F,2),_=M[0],W=M[1],V=Object(n.useState)(""),H=Object(I.a)(V,2),q=H[0],K=H[1],J=Object(n.useState)(!1),Y=Object(I.a)(J,2),Q=Y[0],Z=Y[1],X=Object(n.useRef)(),$=Object(n.useRef)(),ee=function(){var e;null===(e=X.current)||void 0===e||e.focus()};if(Object(n.useEffect)((function(){K(""),(null===o||void 0===o?void 0:o.assetUrl)&&!(null===o||void 0===o?void 0:o.url)&&qn(o.assetUrl)&&Wn(Hn(o.assetUrl),"sound"==o.type||"video"==o.type).then((function(e){o.url=e,K(e)})),(null===o||void 0===o?void 0:o.result)&&C(o.result)}),[o]),Object(n.useEffect)((function(){var e;(O(window.document.documentElement.offsetWidth),g(window.document.documentElement.offsetHeight),ee(),Q)&&(null===(e=$.current)||void 0===e||e.focus())})),!o||!i||!l)return null;var te=function(e){C(T.filter((function(t){return t!=e})))},ae=o.url||q||o.text,ne=0,re=rr.map((function(e){if(e.children){var t=Object.assign({},e,{children:e.children.map((function(e){if(or(e.value,U))return e})).filter((function(e){return e}))});if(t.children.length)return t}else if(or(e.value,U))return e})).filter((function(e){return e})),ce=U?re.filter((function(e){return e.children})).map((function(e){return e.value})):R;_&&(ne=Math.min(cr[1]/_.imageHeight,cr[0]/_.imageWidth));var ie=function(){C([]),D(""),L&&(L.focused=!1),z(null),Z(!1),G([]),u()},se=function(){C([]),D(""),L&&(L.focused=!1),z(null),Z(!1),G([]),b()},oe=function(e){if(L){var t=parseInt(L.value.split(".")[0]),a=re.find((function(e){return e.value==t}));if(null===a||void 0===a?void 0:a.children){var n=a.children.findIndex((function(e){return e==L})),r=a.children[n+e];if(!r){var c=re.indexOf(a)+e;re[c]&&(G(R.filter((function(e){return e!=a.value})).concat([re[c].value])),r=re[c].children?re[c].children[e>0?0:re[c].children.length-1]:re[c])}if(!r)return L.focused=!1,e;L.focused=!1,r.focused=!0,z(r)}else{var i,s=re.indexOf(a)+e;if(re[s]&&(G(R.filter((function(e){return e!=a.value})).concat([re[s].value])),i=re[s].children?re[s].children[0]:re[s]),!i)return L.focused=!1,e;L.focused=!1,i.focused=!0,z(i)}}else{if(!re||!re[0])return 0;var o;e>0?o=re[0].children?re[0].children[0]:re[0]:(o=re[re.length-1].children?re[re.length-1].children[re[re.length-1].children.length-1]:re[re.length-1],G(R.concat([re[re.length-1].value]))),o.focused=!0,z(o)}};return Object(ge.jsxs)("div",{style:{width:p,height:x,position:"fixed",top:0,left:0,backgroundColor:"#000",display:"flex",flexDirection:"row"},onMouseUp:ee,onKeyDown:function(e){switch(e.key){case"ArrowDown":Q||(1==oe(1)?(z(null),Z(!0)):Z(!1));break;case"ArrowUp":oe(-1),Z(!1);break;case"ArrowRight":ie();break;case"ArrowLeft":se()}},children:[Object(ge.jsxs)("div",{className:"image-viewer",style:{width:p-304,height:x,position:"relative",backgroundColor:"#111",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(ge.jsx)(ir,{value:ae,type:o.type,width:p-304,height:x,onChange:W}),Object(ge.jsx)("div",{onClick:se,style:{position:"absolute",top:"50%",left:27,marginTop:-21,width:42,height:42,cursor:"pointer"},children:Object(ge.jsx)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(ge.jsx)("path",{d:"M21 0C9.40313 0 0 9.40313 0 21C0 32.5969 9.40313 42 21 42C32.5969 42 42 32.5969 42 21C42 9.40313 32.5969 0 21 0ZM25.875 14.8547C25.875 15.3328 25.6453 15.7875 25.2562 16.0687L18.4406 21L25.2562 25.9313C25.6453 26.2125 25.875 26.6625 25.875 27.1453V29.3438C25.875 29.6484 25.5281 29.8266 25.2797 29.6484L13.7484 21.3047C13.7005 21.2702 13.6615 21.2247 13.6346 21.1722C13.6077 21.1196 13.5936 21.0614 13.5936 21.0023C13.5936 20.9433 13.6077 20.8851 13.6346 20.8325C13.6615 20.7799 13.7005 20.7345 13.7484 20.7L25.2797 12.3563C25.3357 12.3156 25.4019 12.2912 25.471 12.2858C25.54 12.2805 25.6092 12.2943 25.6709 12.3259C25.7325 12.3574 25.7842 12.4054 25.8202 12.4646C25.8563 12.5237 25.8752 12.5917 25.875 12.6609V14.8547Z",fill:"white"})})}),Object(ge.jsx)("div",{onClick:ie,style:{position:"absolute",top:"50%",right:27,marginTop:-21,width:42,height:42,transform:"rotate(180deg)",cursor:"pointer"},children:Object(ge.jsx)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(ge.jsx)("path",{d:"M21 0C9.40313 0 0 9.40313 0 21C0 32.5969 9.40313 42 21 42C32.5969 42 42 32.5969 42 21C42 9.40313 32.5969 0 21 0ZM25.875 14.8547C25.875 15.3328 25.6453 15.7875 25.2562 16.0687L18.4406 21L25.2562 25.9313C25.6453 26.2125 25.875 26.6625 25.875 27.1453V29.3438C25.875 29.6484 25.5281 29.8266 25.2797 29.6484L13.7484 21.3047C13.7005 21.2702 13.6615 21.2247 13.6346 21.1722C13.6077 21.1196 13.5936 21.0614 13.5936 21.0023C13.5936 20.9433 13.6077 20.8851 13.6346 20.8325C13.6615 20.7799 13.7005 20.7345 13.7484 20.7L25.2797 12.3563C25.3357 12.3156 25.4019 12.2912 25.471 12.2858C25.54 12.2805 25.6092 12.2943 25.6709 12.3259C25.7325 12.3574 25.7842 12.4054 25.8202 12.4646C25.8563 12.5237 25.8752 12.5917 25.875 12.6609V14.8547Z",fill:"white"})})})]}),Object(ge.jsxs)("div",{className:"result-submitter",style:{width:304,height:x,color:"white",position:"relative",paddingBottom:80,backgroundColor:"#000"},children:[Object(ge.jsxs)("div",{style:{width:"100%",height:"100%",overflow:"auto",padding:24},children:[Object(ge.jsxs)("div",{className:"progress",style:{display:"flex",flexDirection:"row",height:30,lineHeight:"30px",alignItems:"center"},children:[Object(ge.jsx)("div",{className:"close",onClick:d,style:{cursor:"pointer",marginRight:20,fontSize:20,textAlign:"center"},children:"\xd7"}),Object(ge.jsx)(tr.a,{percent:(null===(t=l[o.type])||void 0===t?void 0:t.confirmed)/(null===(a=l[o.type])||void 0===a?void 0:a.total)*100,showInfo:!1,style:{height:30,flexDirection:"row",display:"flex",alignItems:"center"}}),Object(ge.jsx)("span",{style:{marginLeft:20},children:(null===(r=l[o.type])||void 0===r?void 0:r.confirmed)+"/"+(null===(c=l[o.type])||void 0===c?void 0:c.total)})]}),("image"==o.type||"screenshots"==o.type)&&Object(ge.jsxs)("div",{className:"overview",style:{width:cr[0],height:cr[1],borderRadius:8,overflow:"hidden",position:"relative",backgroundColor:"#111"},children:[Object(ge.jsx)("div",{className:"path",style:{position:"absolute",padding:10,top:0,overflow:"hidden",textOverflow:"ellipsis",width:"100%",pointerEvents:"none",zIndex:2,background:"linear-gradient(180deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 100%)"},children:ur(o.url,o.path,j)}),_&&Object(ge.jsx)("img",{src:ae,style:{position:"absolute",top:(cr[1]-ne*_.imageHeight)/2,left:(cr[0]-ne*_.imageWidth)/2,width:ne*_.imageWidth,height:ne*_.imageHeight}}),_&&Object(ge.jsx)("div",{className:"frame",style:{position:"absolute",top:_.view[1]*ne*_.imageHeight+(cr[1]-ne*_.imageHeight)/2,left:_.view[0]*ne*_.imageWidth+(cr[0]-ne*_.imageWidth)/2,width:(_.view[2]-_.view[0])*ne*_.imageWidth,height:(_.view[3]-_.view[1])*ne*_.imageHeight,border:"2px solid #fff"}})]}),Object(ge.jsx)("div",{className:"selections",style:{margin:"16px 0"},children:T.map((function(e){return Object(ge.jsx)(ar.a,{closable:!0,onClose:function(){return te(e)},color:"rgba(153,153,153,0.4)",children:lr(e,rr)},e)}))}),Object(ge.jsx)("div",{className:"multi-input",children:Object(ge.jsx)(la.a,{style:{width:"100%",backgroundColor:"transparent",color:"#fff"},onChange:function(e){return D(e.target.value)},onPressEnter:function(){var e,t;(L&&(e=L.value),e)&&(-1==T.indexOf(e)?(t=e,C(T.concat([t]))):te(e))},ref:X,value:U,onKeyDown:function(e){switch(e.key){case"ArrowDown":case"ArrowUp":case"ArrowRight":case"ArrowLeft":e.preventDefault()}}})}),Object(ge.jsx)("div",{className:"options"}),Object(ge.jsx)(nr.a,{mode:"inline",theme:"dark",multiple:!0,onSelect:function(e){return C(e.selectedKeys)},onDeselect:function(e){return C(e.selectedKeys)},selectedKeys:T,openKeys:ce,onOpenChange:G,children:re.map((function(e){return e.children?Object(ge.jsx)(nr.a.SubMenu,{title:e.title,children:e.children.map((function(e){return Object(ge.jsxs)(nr.a.Item,{style:e.focused?{backgroundColor:"rgba(153, 153, 153, 0.2)",color:"#fff"}:{},children:[Object(ge.jsx)("input",{readOnly:!0,type:"checkbox",style:{width:20,pointerEvents:"none"},checked:-1!=T.indexOf(e.value)}),e.title]},e.value)}))},e.value):Object(ge.jsxs)(nr.a.Item,{style:e.focused?{backgroundColor:"rgba(153, 153, 153, 0.2)",color:"#fff"}:{},children:[Object(ge.jsx)("input",{readOnly:!0,type:"checkbox",style:{width:20,pointerEvents:"none"},checked:-1!=T.indexOf(e.value)}),e.title]},e.value)}))})]}),Object(ge.jsx)("div",{style:{width:"100%",height:80,padding:24,position:"absolute",bottom:0,left:0,backgroundColor:"#000"},children:Object(ge.jsx)(pe.a,{className:"confirm-btn",onClick:function(){console.log(T),T&&T.length&&(o.result=T.map((function(e){return e})),C([]),D(""),L&&(L.focused=!1),z(null),Z(!1),G([]),s(o))},type:"primary",ref:$,disabled:dr(o.result,T)||!T.length,style:{width:"100%"},children:j("Confirm")})})]})]})};var jr=C.a.TabPane;function mr(e,t,a,n){try{if(!t)return e[a[0]][0];var r=e[t.type].indexOf(t);if(r==e[t.type].length-1){var c=a.indexOf(t.type),i=a[c+1];return n(i),e[i][0]}return e[t.type][r+1]}catch(s){return t}}var hr=function(e){var t=e.mediaData,a=e.placeId,r=e.versionNumber,c=e.ticketId,i=e.isLocked,s=Object(k.a)().t,o=Object(b.d)().authState,l=Object(n.useState)({}),d=Object(I.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(!1),h=Object(I.a)(m,2),O=h[0],f=h[1],v=Object(n.useState)({}),x=Object(I.a)(v,2),g=x[0],y=x[1],S=Object(n.useState)(!1),T=Object(I.a)(S,2),w=T[0],A=T[1],U=Object(n.useState)(null),R=Object(I.a)(U,2),G=R[0],P=R[1],B=Object(n.useState)(null),L=Object(I.a)(B,2),z=L[0],F=L[1],M=Object(n.useContext)(D),_=Object.keys(t).filter((function(e){return t[e]})).sort(),W=function(e){u[e]=!0,j(u),console.log(u),Object.keys(u).length===_.length?f(!0):f(!1)},V=function(e){var n,c,i={};_.forEach((function(e){i[e]={confirmed:t[e].filter((function(e){return e.result})).length,total:t[e].length},i[e].confirmed==i[e].total&&W(e)})),y(i),P(mr(t,e,_,F)),n="".concat(a,"_").concat(r),c=JSON.stringify({placeId:a,placeVersion:r,data:t}),window.localStorage.setItem(n,c)};Object(n.useEffect)((function(){V(),F(_[0])}),[]);var H=function(e){P(e),A(!0)};return M?Object(ge.jsxs)(ge.Fragment,{children:[i&&Object(ge.jsxs)("div",{style:{position:"absolute",top:20,right:20},children:[Object(ge.jsx)(pe.a,{style:{marginRight:8},danger:!0,onClick:function(){E(be()({method:"POST",url:p.resourceServer.SubmitTicketResult,data:{ticketId:c,result:"Reopen",comment:null,actionLength:0,placeId:a,bypassWhitelistActions:!0},headers:{Authorization:"Bearer ".concat(o.accessToken.value)}}).then((function(e){var t;200==e.status&&e.data.data&&!e.data.error?(N.b.success(""),setTimeout((function(){return window.location.reload()}),2e3)):N.b.error(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)})))},children:s("Repoen This Ticket")}),Object(ge.jsx)(pe.a,{type:"primary",disabled:!O,onClick:function(){O&&E(be()({method:"POST",url:p.resourceServer.SavePlaceSnapshotResult,data:{placeId:a,versionNumber:r,dataString:JSON.stringify({placeId:a,placeVersion:r,data:t})},headers:{Authorization:"Bearer ".concat(o.accessToken.value)}}).then((function(e){if(200==e.status&&e.data.data&&!e.data.error)return e.data.data;throw"Failed to save result"})).then((function(e){return be()({method:"POST",url:p.resourceServer.SubmitTicketResult,data:{ticketId:c,result:"None",comment:JSON.stringify({id:e}),actionLength:0,placeId:a,bypassWhitelistActions:!0},headers:{Authorization:"Bearer ".concat(o.accessToken.value)}})})).then((function(e){var t;200==e.status&&e.data.data&&!e.data.error?(N.b.success(""),setTimeout((function(){return window.location.href="/"}),2e3)):N.b.error(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)})))},children:s("Complete and Submit")})]}),Object(ge.jsxs)("div",{style:{marginTop:12,position:"relative"},children:[Object(ge.jsxs)("div",{style:{position:"absolute",top:4,right:20,zIndex:999},children:[Object(ge.jsx)(pe.a,{onClick:function(){return A(!0)},style:{backgroundColor:"#000",color:"#fff",borderRadius:10},children:s("Focus Mode")}),Object(ge.jsx)(br,{visible:w,media:G,onChange:V,count:g,close:function(){return A(!1)},onMoveForward:function(){P(mr(t,G,_,F))},onMoveBackward:function(){P(function(e,t,a,n){try{if(!t)return e[a[0]][0];var r=e[t.type].indexOf(t);if(0==r){var c=a.indexOf(t.type),i=a[c-1];return n(i),e[i][e[i].length-1]}return e[t.type][r-1]}catch(s){return t}}(t,G,_,F))}})]}),Object(ge.jsx)(C.a,{onChange:function(e){F(e),P(t[e][0])},activeKey:z,children:_.map((function(e){var a,n;return Object(ge.jsx)(jr,{tab:Object(ge.jsxs)(ge.Fragment,{children:[s(e)," ",((null===(a=g[e])||void 0===a?void 0:a.confirmed)||0)+"/"+((null===(n=g[e])||void 0===n?void 0:n.total)||0)]}),children:Object(ge.jsx)(er,{mediaType:e,mediaData:t[e],onFinish:W,onMediaUpdate:V,openFocusModeOnCurrentMedia:H,currentMedia:G})},e)}))})]})]}):null},pr=p.resourceServer;function Or(e){return fr.apply(this,arguments)}function fr(){return(fr=Object(v.a)(f.a.mark((function e(t){var a,n,r,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.preloadImages=[],a=Object.keys(t).map((function(e){return t[e]})).reduce((function(e,t){return t?e.concat(t):e}),[]),n=Object(En.a)(a),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=32;break}if(c=r.value,i=void 0,c){e.next=10;break}return e.abrupt("continue",30);case 10:if(!c.assetUrl||!/(image)|(screenshots)/i.test(c.type)){e.next=17;break}if(!qn(c.assetUrl)){e.next=15;break}return e.next=14,Wn(Hn(c.assetUrl));case 14:i=e.sent;case 15:e.next=18;break;case 17:i=c.url;case 18:if(!i){e.next=30;break}return e.prev=19,e.t0=window.preloadImages,e.next=23,vr(i);case 23:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=30;break;case 27:e.prev=27,e.t2=e.catch(19),console.log(e.t2);case 30:e.next=5;break;case 32:e.next=37;break;case 34:e.prev=34,e.t3=e.catch(3),n.e(e.t3);case 37:return e.prev=37,n.f(),e.finish(37);case 40:case"end":return e.stop()}}),e,null,[[3,34,37,40],[19,27]])})))).apply(this,arguments)}function vr(e){return new Promise((function(t,a){var n=new Image;n.onload=function(){return t(n)},n.onerror=function(e){return a(e)},n.src=e,setTimeout((function(){return a()}),15e3)}))}var xr=function(e){var t=e.ticket,a=Object(b.d)().authState,r=Object(n.useState)(null),c=Object(I.a)(r,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){var e,n=null===t||void 0===t||null===(e=t.dynamicEvent)||void 0===e?void 0:e.dataString;if(t.moderatorActions&&t.moderatorActions[0])try{n=JSON.parse(t.moderatorActions[0].comment).id}catch(c){console.error(c)}if(n){var r=a.accessToken.value;E(be()({method:"get",url:pr.GetPlaceSnapshotResult(n),headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){if(200==e.status){var a=JSON.parse(e.data.data.dataString);if("Locked"==t.status){var n=(r="".concat(a.placeId,"_").concat(a.placeVersion),window.localStorage.getItem(r));if(n)return s(JSON.parse(n)),void Or(JSON.parse(n).data)}!function(e){Object.keys(e).forEach((function(t){e[t]&&(e[t]=e[t].map((function(e){return e.assetUrl?qn(e.assetUrl)?(e.type=t,e):null:e.url||e.text?(e.type=t,e):void 0})).filter((function(e){return e})))})),console.log(e)}(a.data),s(a),Or(a.data)}var r})))}}),[t]),i?Object(ge.jsx)(Ve.b,{size:12,direction:"vertical",style:{width:"100%"},className:"ai-ticket",children:Object(ge.jsxs)(Rn.a.Content,{style:{width:"100%",position:"relative"},children:[Object(ge.jsx)(Pn,{placeId:i.placeId}),Object(ge.jsx)(hr,{mediaData:i.data,placeId:i.placeId,versionNumber:i.placeVersion,ticketId:t.ticketId,isLocked:"Locked"==t.status})]})}):null},gr=function(e){var t=e.ticket;return"GameInformationUpdateEvent"==t.dynamicEvent.templateType?Object(ge.jsx)(oa,{ticket:t}):"GameOptInEvent"==t.dynamicEvent.templateType?Object(ge.jsx)(Ia,{ticket:t}):"PlaceSnapshotEvent"==t.dynamicEvent.templateType?Object(ge.jsx)(xr,{ticket:t}):"DisplayNameChangeEvent"==t.dynamicEvent.templateType?Object(ge.jsx)(Ja,{ticket:t}):"AssetStatusUpdateEvent_Avatar"==t.dynamicEvent.templateType?Object(ge.jsx)(on,{ticket:t}):"AssetStatusUpdateEvent_Toolbox"==t.dynamicEvent.templateType?Object(ge.jsx)(gn,{ticket:t}):"DisplayNameRescanEvent"==t.dynamicEvent.templateType?Object(ge.jsx)(Ga,{ticket:t}):"DisplayNameOnlineRescanEvent"==t.dynamicEvent.templateType?Object(ge.jsx)(In,{ticket:t}):"PlaceUpdatedAfterOptInEvent"==t.dynamicEvent.templateType||"PlaceUpdatedWhenOptInEvent"==t.dynamicEvent.templateType?Object(ge.jsx)(Nn,{ticket:t}):null},Ir=(a(362),{userInGameAbuseReportEvent:ia,placeInGameAbuseReportEvent:Rt,userInAppAbuseReportEvent:Kt,placeInAppAbuseReportEvent:gt,dynamicEvent:gr});var yr=function(e){var t=e.ticket,a=et.find((function(e){return t[e]})),n=Ir[a];return Object(ge.jsx)(n,{ticket:t})},kr=a(374);var Sr=function(e){var t=e.results,a=Object(k.a)().t;return t=function(e,t){var a={};return e.filter((function(e){var n=t(e);return!a[n]&&(a[n]=!0)}))}(t,JSON.stringify),Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(tt.b,{bordered:!0,title:a("Ticket Result List"),size:"small"}),Object(ge.jsx)(nt.b,{bordered:!0,dataSource:t,renderItem:function(e){return Object(ge.jsx)(nt.b.Item,{children:Object(ge.jsx)(kr.a,{author:"".concat(a("Moderator ID"),": ").concat(e.moderatorId,", ").concat(a("Action Type"),": ").concat(a(e.actionType)),content:Object(ge.jsx)("p",{children:e.comment}),datetime:Ue.a.utc(e.createdUtc).toDate().toLocaleString()})})}})]})},Tr="None",Cr="BanUser",wr="RemoveGameFromWhitelist",Ar="AddGameToWhitelist",Ur="Reopen";function Dr(e,t,a){var n={ticketId:e.ticketId,result:e.result,comment:e.comment,actionLength:e.actionLength};return a&&(n=Object.assign({},n,a)),be()({method:"POST",url:p.resourceServer.SubmitTicketResult,data:n,headers:{Authorization:"Bearer ".concat(t)}})}var Nr=la.a.TextArea;function Er(e,t,a,n,r,c,i){E(Dr({ticketId:e,result:t,comment:a,actionLength:0},n,{placeId:c,bypassWhitelistActions:!i}).then((function(e){200==e.status&&(e.data.data||/Successfully submitted result for ticket/.test(e.data))&&r(e.data.data)})))}var Rr=function(e){var t=e.ticketId,a=e.placeId,r=e.onTicketChange,c=e.doWhitelistAction,i=void 0!==c&&c,s=Object(k.a)().t,o=Object(b.d)().authState,l=Object(n.useState)(""),d=Object(I.a)(l,2),u=d[0],j=d[1];return Object(n.useContext)(D)?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(tt.b,{bordered:!0,title:s("Ticket Result"),size:"small"}),Object(ge.jsx)(Nr,{rows:4,onChange:function(e){return j(e.target.value)},placeholder:s("Add some comment"),style:{marginBottom:20}}),Object(ge.jsxs)(Ve.b,{size:20,children:[Object(ge.jsx)(pe.a,{onClick:function(){Er(t,wr,u,o.accessToken.value,r,a,i)},type:"primary",danger:!0,children:s("Remove Game From Whitelist")}),Object(ge.jsx)(pe.a,{onClick:function(){Er(t,Ar,u,o.accessToken.value,r,a,i)},type:"primary",children:s("Add Game to Whitelist")}),Object(ge.jsx)(pe.a,{onClick:function(){Er(t,Ur,u,o.accessToken.value,r)},children:s("Repoen This Ticket With Comment")})]})]}):null},Gr=da.a.Option,Pr=function(e){var t=e.handleBanUser,a=e.userId,r=e.size,c=Object(k.a)().t,i=Object(n.useState)(),s=Object(I.a)(i,2),o=s[0],l=s[1];return Object(ge.jsxs)("span",{children:[Object(ge.jsx)(pe.a,{onClick:function(){t({banLength:o,userId:a})},type:"primary",size:r,danger:!0,children:c("Ban User For")}),Object(ge.jsxs)(da.a,{onChange:l,size:r,style:{width:"100px"},children:[Object(ge.jsx)(Gr,{value:0,children:c("Warning")}),Object(ge.jsx)(Gr,{value:86400,children:c("1 day")}),Object(ge.jsx)(Gr,{value:259200,children:c("3 days")}),Object(ge.jsx)(Gr,{value:604800,children:c("7 days")}),Object(ge.jsx)(Gr,{value:1209600,children:c("14 days")})]})]})},Br=la.a.TextArea;function Lr(e,t,a,n,r,c){E(Dr({ticketId:e,result:t,comment:a,actionLength:n},r,{bypassWhitelistActions:!0}).then((function(e){200==e.status&&(e.data.data||/Successfully submitted result for ticket/.test(e.data))&&c(e.data.data)})))}var zr=function(e){var t=e.ticketId,a=e.onTicketChange,r=Object(k.a)().t,c=Object(b.d)().authState,i=Object(n.useState)(""),s=Object(I.a)(i,2),o=s[0],l=s[1];return Object(n.useContext)(D)?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(tt.b,{bordered:!0,title:r("Ticket Result"),size:"small"}),Object(ge.jsx)(Br,{rows:4,onChange:function(e){return l(e.target.value)},placeholder:r("Add some comment"),style:{marginBottom:20}}),Object(ge.jsxs)(Ve.b,{size:20,children:[Object(ge.jsx)(Pr,{handleBanUser:function(e){var n=e.banLength;Lr(t,Cr,o,n,c.accessToken.value,a)}}),Object(ge.jsx)(pe.a,{onClick:function(){Lr(t,Tr,o,0,c.accessToken.value,a)},type:"primary",children:r("Don't Ban User")}),Object(ge.jsx)(pe.a,{onClick:function(){Lr(t,Ur,o,0,c.accessToken.value,a)},children:r("Repoen This Ticket With Comment")})]})]}):null},Fr=la.a.TextArea;function Mr(e){var t=e.ticketId,a=e.result,n=e.comment,r=e.actionLength,c=e.accessToken,i=e.onTicketChange;E(Dr({ticketId:t,result:a,comment:n,actionLength:r},c,{}).then((function(e){200==e.status&&(e.data.data||/Successfully submitted result for ticket/.test(e.data))&&i(e.data.data)})))}var _r=function(e){var t=e.ticketId,a=e.onTicketChange,r=Object(k.a)().t,c=Object(b.d)().authState,i=Object(n.useState)(""),s=Object(I.a)(i,2),o=s[0],l=s[1],d=Object(n.useContext)(D),u=Object(n.useCallback)((function(){if(d){var e=c.accessToken.value;be()({method:"PUT",url:p.resourceServer.ChangeTicketStatus,data:{ticketId:t,status:"Closed"},headers:{Authorization:"Bearer ".concat(e)}}).then((function(){window.location.reload()}))}}),[t,d]);return d?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(tt.b,{bordered:!0,title:r("Ticket Result"),size:"small"}),Object(ge.jsx)(Fr,{rows:4,onChange:function(e){return l(e.target.value)},placeholder:r("Add some comment"),style:{marginBottom:20}}),Object(ge.jsxs)(Ve.b,{size:20,children:[Object(ge.jsx)(Pr,{handleBanUser:function(e){var n=e.banLength;Mr({ticketId:t,result:V,comment:o,actionLength:n,accessToken:c.accessToken.value,onTicketChange:a})}}),Object(ge.jsx)(pe.a,{onClick:function(){Mr({ticketId:t,result:K,comment:o,actionLength:0,accessToken:c.accessToken.value,onTicketChange:a})},type:"primary",children:r("Change display name to default user name")}),Object(ge.jsx)(pe.a,{onClick:function(){Mr({ticketId:t,result:H,comment:o,actionLength:0,accessToken:c.accessToken.value,onTicketChange:a})},children:r("Repoen This Ticket With Comment")}),Object(ge.jsx)(pe.a,{danger:!0,onClick:u,children:r("Close This Ticket")})]})]}):null},Wr=["Politics-related","Vulgarity and pornograpy","Religion and Racism","Criminality","Violence and Gore","Horror","Gambling","Culture and Ethics","IP Infringement","Platform Safety","Social Media","Translation","Unavailable Asset"],Vr=da.a.Option,Hr=la.a.TextArea,qr={PlaceUpdated:{submitter:"GameTicketResultSubmitter",placeId:["placeUpdatedEvent","placeId"]},UserInGameAbuseReport:{submitter:"UserTicketResultSubmitter",placeId:["userInGameAbuseReportEvent","placeId"]},PlaceInGameAbuseReport:{submitter:"GameTicketResultSubmitter",placeId:["placeInGameAbuseReportEvent","placeId"]},UserInAppAbuseReport:{submitter:"UserTicketResultSubmitter"},PlaceInAppAbuseReport:{submitter:"GameTicketResultSubmitter",placeId:["placeInAppAbuseReportEvent","placeId"]},DisplayNameChangeEvent:{submitter:"DisplayNameChangeResultSubmitter"},AssetStatusUpdateEvent_Avatar:{submitter:"AssetStatusUpdateResultSubmitter"},AssetStatusUpdateEvent_Toolbox:{submitter:"AssetStatusUpdateResultSubmitter"},DisplayNameRescanEvent:{submitter:"DisplayNameChangeResultSubmitter"},GameOptInEvent:{submitter:"GameTicketResultSubmitter"},GameInformationUpdateEvent:{submitter:"GameTicketResultSubmitter"},DisplayNameOnlineRescanEvent:{submitter:"DisplayNameChangeResultSubmitter"}},Kr={GameTicketResultSubmitter:Rr,UserTicketResultSubmitter:zr,DisplayNameChangeResultSubmitter:_r,AssetStatusUpdateResultSubmitter:function(e){var t=e.ticketId,a=e.dataString,r=e.onTicketChange,c=Object(k.a)().t,i=Object(b.d)().authState,s=Object(n.useState)(""),o=Object(I.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(""),j=Object(I.a)(u,2),m=j[0],h=j[1],O=Object(n.useContext)(D),x=0;try{x=JSON.parse(a).AssetId}catch(y){return console.error(y),null}if(!O||!x)return null;var g=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,s,o,l,d,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.ticketId,n=t.actionTargetId,r=t.result,s=t.violationType,o=t.comment,l=t.onTicketChange,r!=J&&r!=W){e.next=5;break}s="",e.next=8;break;case 5:if(r!=Y||void 0!=s&&""!=s){e.next=8;break}return N.b.error(c("reject asset update must select the violationtype")),e.abrupt("return");case 8:return d=N.b.loading("",10),e.next=11,je(p.resourceServer.SubmitTicketResult,{ticketId:a,moderatorId:O.ModID,actionTargetId:n,result:r,violationType:s,comment:o},i.accessToken.value);case 11:if(u=e.sent,d(),!(200!==u.status||u.data&&u.data.errors)){e.next=16;break}return N.b.error(c("Handle Asset Status failed")),e.abrupt("return");case 16:l(u.data.data);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(tt.b,{bordered:!0,title:c("Ticket Result"),size:"small"}),Object(ge.jsx)(Hr,{rows:4,onChange:function(e){return d(e.target.value)},placeholder:c("comment placeholder"),style:{marginBottom:20}}),Object(ge.jsxs)(Ve.b,{size:20,children:[Object(ge.jsxs)("span",{children:[Object(ge.jsx)(pe.a,{onClick:function(){g({ticketId:t,actionTargetId:x,result:J,violationType:m,comment:l,onTicketChange:r})},type:"primary",children:c("Approve Asset Update")}),Object(ge.jsx)(pe.a,{onClick:function(){g({ticketId:t,actionTargetId:x,result:Y,violationType:m,comment:l,onTicketChange:r})},type:"primary",danger:!0,children:c("Reject Asset Update")}),Object(ge.jsx)(da.a,{placeholder:c("set violationType placeholder"),dropdownMatchSelectWidth:!0,onChange:h,children:Wr.map((function(e){return Object(ge.jsx)(Vr,{value:e,children:c(e)},e)}))})]}),Object(ge.jsx)(pe.a,{onClick:function(){g({ticketId:t,actionTargetId:x,result:H,violationType:m,comment:l,onTicketChange:r})},children:c("Repoen This Ticket With Comment")}),Object(ge.jsx)(pe.a,{onClick:function(){g({ticketId:t,actionTargetId:x,result:W,violationType:m,comment:l,onTicketChange:r})},children:c("Ignore Asset Update")})]})]})}},Jr=function(e){var t=e.ticketData,a=e.onTicketChange,n=e.doWhitelistAction;if(!t)return null;var r=t.eventType;if(r===M){var c=t.dynamicEvent,i=c&&c.templateType,s=Kr[qr[i].submitter];return c.dataString?Object(ge.jsx)(s,{ticketId:t.ticketId,dataString:t.dynamicEvent.dataString,onTicketChange:a,doWhitelistAction:n}):null}var o=Kr[qr[r].submitter],l=it(t,qr[r].placeId);return Object(ge.jsx)(o,{ticketId:t.ticketId,onTicketChange:a,placeId:l})},Yr=Oe.a.Text,Qr=Oe.a.Paragraph,Zr=function(e){var t=e.ticketId,a=e.visible,r=Object(k.a)().t,c=Object(b.d)().authState,i=Object(n.useState)(null),s=Object(I.a)(i,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(){if(o)l(null);else{var e=c.accessToken.value;E(be()({method:"get",url:p.resourceServer.GetTicketHistoryByID(t),headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){200==e.status&&l(e.data.data.itemList)})))}}),[o,t]);return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(pe.a,{type:"default",onClick:d,children:r(o?"Hide Ticket History":"Show Ticket History")}),o&&Object(ge.jsx)(nt.b,{dataSource:o,renderItem:function(e){return Object(ge.jsx)(nt.b.Item,{children:Object(ge.jsxs)(Qr,{children:[Object(ge.jsxs)(Yr,{children:[r("Moderator ID"),": "]}),Object(ge.jsx)(Yr,{code:!0,children:e.moderatorId}),Object(ge.jsxs)(Yr,{children:[r("Changed Ticket Status To"),": "]}),Object(ge.jsx)(Yr,{code:!0,children:e.status}),Object(ge.jsx)("br",{}),Object(ge.jsx)(Yr,{type:"secondary",children:new Date(e.createdUtc).toLocaleString()})]})})}})]}):null},Xr=p.resourceServer,$r=function(e){var t,a,r,c,i=e.hasSubmitter,s=e.ticketId,o=Object(b.d)().authState,l=Object(n.useState)(),d=Object(I.a)(l,2),u=d[0],j=d[1];if(Object(n.useEffect)((function(){if(s){var e=o.accessToken.value;E(be()({method:"get",url:Xr.GetTicketWithActionByID(s),headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){200==e.status&&j(e.data.data)})))}}),[s]),!u)return null;var m=u.moderatorActions&&u.moderatorActions.length,h=u.moderatorId&&u.moderatorId!=u.currentModeratorId,p=i&&"Locked"==u.status&&!h,O=!0;"PlaceUpdatedAfterOptInEvent"!=(null===(t=u.dynamicEvent)||void 0===t?void 0:t.templateType)&&"GameOptInEvent"!=(null===(a=u.dynamicEvent)||void 0===a?void 0:a.templateType)&&"PlaceUpdatedWhenOptInEvent"!=(null===(r=u.dynamicEvent)||void 0===r?void 0:r.templateType)||(p=!1,O=!1),"PlaceSnapshotEvent"==(null===(c=u.dynamicEvent)||void 0===c?void 0:c.templateType)&&(p=!1,m=!1,O=!1);var f=m||p||O;return Object(ge.jsxs)(Ve.b,{size:24,direction:"vertical",className:qe.a.ticket_from_pool,children:[Object(ge.jsx)(yr,{ticket:u}),f&&Object(ge.jsxs)("div",{style:{padding:"0 24px 24px"},children:[p&&Object(ge.jsx)(Jr,{ticketData:u,onTicketChange:function(){return window.location.reload()},doWhitelistAction:!1}),m>0&&Object(ge.jsx)(Sr,{results:u.moderatorActions}),O&&Object(ge.jsx)(Zr,{ticketId:u.ticketId,visible:!0})]})]})},ec=a(236);var tc=function(e){var t={};return e.split("?")[1].split("&").forEach((function(e){var a=e.split("=");t[a[0]]=a[1]})),t},ac=function(){var e=Object(k.a)().t,t=Object(d.g)().search,a=tc(t).ticketId,n=Object(d.f)();return a?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Rn.a.Content,{style:{background:"#fff",padding:"12px 24px"},children:Object(ge.jsxs)(ec.a,{children:[Object(ge.jsx)(ec.a.Item,{children:Object(ge.jsx)(l.b,{to:n.location.state&&n.location.state.pageNum?"/mytickets?pageNum=".concat(n.location.state.pageNum):"/mytickets",children:e("My Tickets")})}),Object(ge.jsx)(ec.a.Item,{children:e("Ticket Detail")})]})}),Object(ge.jsx)($r,{hasSubmitter:!0,ticketId:a})]}):"Error: No Ticket"},nc={UserInGameAbuseReport:{desc:["true","false"]},PlaceInGameAbuseReport:{desc:["true","false"]},UserInAppAbuseReport:{desc:["true","false"]},PlaceInAppAbuseReport:{desc:["true","false"]}},rc=a(380),cc=a(378),ic=da.a.Option,sc=Object.keys(nc),oc=function(e){var t=e.onChange,a=Object(k.a)().t,r=Object(n.useState)({eventType:sc[0],desc:"false"}),c=Object(I.a)(r,2),i=c[0],s=c[1],o=nc[i.eventType],l=Object(n.useCallback)((function(e){s(Object.assign({},e)),t(e)}),[s]);return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsxs)(rc.a,{initialValues:i,onFinish:l,layout:"inline",children:[Object(ge.jsxs)(w.a,{gutter:24,style:{width:"100%"},children:[Object(ge.jsx)(A.a,{style:{marginBottom:12},children:Object(ge.jsx)(rc.a.Item,{label:a("eventType"),name:"eventType",required:!0,children:Object(ge.jsx)(da.a,{dropdownMatchSelectWidth:!1,children:sc.map((function(e){return Object(ge.jsx)(ic,{value:e,children:a(e)},e)}))})})}),o&&Object.keys(o).map((function(e){return"string input"==o[e]?Object(ge.jsx)(A.a,{span:6,style:{marginBottom:12},children:Object(ge.jsx)(rc.a.Item,{label:a(e),name:e,children:Object(ge.jsx)(la.a,{})})},e):"timestamp"==o[e]?Object(ge.jsx)(A.a,{span:6,style:{marginBottom:12},children:Object(ge.jsx)(rc.a.Item,{label:a(e),name:e,children:Object(ge.jsx)(cc.a,{showTime:!0})})},e):o[e]instanceof Array?Object(ge.jsx)(A.a,{span:6,style:{marginBottom:12},children:Object(ge.jsx)(rc.a.Item,{label:a(e),name:e,children:Object(ge.jsx)(da.a,{dropdownMatchSelectWidth:!1,children:o[e].map((function(t){return Object(ge.jsx)(ic,{value:t,children:a(e+t)},t)}))})})},e):void 0}))]}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:Object(ge.jsx)(pe.a,{type:"primary",htmlType:"submit",children:a("Search")})})]})})},lc={PlaceUpdated:{eventType:["eventType"],gameId:["gameId"],placeId:["placeId"],creatorId:["creatorId"],versionNumber:["versionNumber"]},UserInGameAbuseReport:{eventType:["eventType"],placeId:["placeId"],submitterUserId:["submitterUserId"],accusedUserId:["accusedUserId"],category:["category"],comment:["comment"]},PlaceInGameAbuseReport:{eventType:["eventType"],placeId:["placeId"],submitterUserId:["submitterUserId"],category:["category"],comment:["comment"]},UserInAppAbuseReport:{eventType:["eventType"],submitterUserId:["submitterUserId"],accusedUserId:["accusedUserId"],category:["category"],comment:["comment"]},PlaceInAppAbuseReport:{eventType:["eventType"],placeId:["placeId"],submitterUserId:["submitterUserId"],category:["category"],comment:["comment"]}},dc={eventType:!0},uc=Oe.a.Text;var bc=function(e){var t=e.events,a=e.eventType,n=e.total,r=e.currentPage,c=e.onPageChange,i=Object(k.a)().t,s=function(e,t){var a=lc[e];return Object.keys(a).map((function(e){return dc[e]?{dataIndex:a[e],key:e,title:t(e),render:function(e){return t(e)}}:{dataIndex:a[e],key:e,title:t(e)}}))}(a,i);return s.push({title:i("Created Time"),key:["event","createdUtc"],render:function(e){return st(new Date(e.createdUtc))}}),s.push({title:i("Ticket Information"),fixed:"right",width:200,render:function(e){return Object(ge.jsx)(nt.b,{dataSource:e.tickets,renderItem:function(e){return Object(ge.jsxs)(nt.b.Item,{children:[Object(ge.jsx)(uc,{children:i("Ticket ID")}),":",Object(ge.jsx)(uc,{children:e.ticketId}),Object(ge.jsx)("br",{}),Object(ge.jsx)(uc,{children:i("Status")}),":",Object(ge.jsx)(uc,{children:e.status}),Object(ge.jsx)(l.b,{to:"/ticket?ticketId=".concat(e.ticketId),target:"_blank",children:Object(ge.jsx)(pe.a,{type:"link",children:i("View")})})]})}})}}),Object(ge.jsx)(De.a,{columns:s,dataSource:t,bordered:!0,rowKey:"eventId",size:"small",style:{marginTop:24},pagination:{total:n,current:r,pageSize:10,onChange:c,hideOnSinglePage:!0,showSizeChanger:!1}})},jc=p.resourceServer;function mc(e,t,a){var n=Object.assign({},e);return n.startUtc&&(n.startUtc=n.startUtc.format("x")),n.endUtc&&(n.endUtc=n.endUtc.format("x")),n.eventType=void 0,n.pageNum=a,n.pageSize=10,be()({method:"get",url:jc[e.eventType],params:n,headers:{Authorization:"Bearer ".concat(t)}})}var hc=function(){var e=Object(b.d)().authState,t=Object(n.useState)(null),a=Object(I.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(null),s=Object(I.a)(i,2),o=s[0],l=s[1],d=Object(n.useState)(1),u=Object(I.a)(d,2),j=u[0],m=u[1],h=Object(n.useState)(null),p=Object(I.a)(h,2),O=p[0],f=p[1];return Object(ge.jsxs)("div",{style:{padding:24},children:[Object(ge.jsx)(oc,{onChange:function(t){f(t),m(1),E(mc(t,e.accessToken.value,j).then((function(e){if(200==e.status){if(e.data.error)return void N.b.error(e.data.error);c(e.data.data.itemList),l(e.data.data.total)}else N.b.error("Request Failed")})))}}),r&&Object(ge.jsx)(bc,{events:r,eventType:O.eventType,total:o,currentPage:j,onPageChange:function(t){m(t);var a=e.accessToken.value;E(mc(O,a,t).then((function(e){if(200==e.status){if(e.data.error)return void N.b.error(e.data.error);c(e.data.data.itemList),l(e.data.data.total)}else N.b.error("Request Failed")})))}})]})},pc=function(e){var t=e.dataList,a=e.total,n=e.currentPage,r=e.onPageChange,c=Object(k.a)().t,i=[{title:c("Ticket ID"),key:"ticketId",render:function(e){return Object(ge.jsx)(l.b,{to:{pathname:"/ticket",search:"?ticketId=".concat(e.ticketId),state:{pageNum:n}},children:Object(ge.jsx)(pe.a,{type:"link",children:e.ticketId})})}},{title:c("Moderator ID"),key:"ticketId",dataIndex:"moderatorId"},{title:c("Status"),key:"ticketId",dataIndex:"status"},{title:c("Created Time"),key:"ticketId",render:function(e){return Ue.a.utc(e.createdUtc).toDate().toLocaleString()}}];return Object(ge.jsx)(De.a,{columns:i,dataSource:t,bordered:!0,rowKey:"ticketId",size:"small",style:{marginTop:24},pagination:{total:a,current:n,pageSize:10,onChange:r,hideOnSinglePage:!0}})},Oc=p.resourceServer;var fc=function(){var e=Object(k.a)().t,t=Object(b.d)().authState,a=Object(d.g)(),r=Object(d.f)(),c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),u=Object(I.a)(l,2),j=u[0],m=u[1],h=Object(n.useState)(1),p=Object(I.a)(h,2),O=p[0],f=p[1],v=Object(n.useContext)(D);Object(n.useEffect)((function(){if(v){var e=1;if(a.search)e=+a.search.split("?")[1].split("=")[1]||1;f(e),E(function(e,t){var a={pageNum:t,pageSize:10,desc:!0};return be()({method:"get",url:Oc.GetModeratorHistoryByID,params:a,headers:{Authorization:"Bearer ".concat(e)}})}(t.accessToken.value,e).then(x))}}),[v,a.search]);var x=function(e){if(200==e.status){if(e.data.error)return void N.b.error(e.data.error);o(e.data.data.itemList),m(e.data.data.total)}else N.b.error("Request Failed")};return Object(ge.jsxs)("div",{style:{padding:24},children:[Object(ge.jsx)(Rn.a.Content,{style:{background:"#fff",padding:"10px 28px",marginBottom:12},children:Object(ge.jsx)(ec.a,{children:Object(ge.jsx)(ec.a.Item,{children:e("My Tickets")})})}),s&&Object(ge.jsx)(pc,{dataList:s,total:j,currentPage:O,onPageChange:function(e){r.push("/mytickets?pageNum=".concat(e))}})]})},vc=p.resourceServer;var xc=function(){var e=Object(k.a)().t,t=Object(b.d)().authState,a=Object(d.g)(),r=Object(d.f)(),c=Object(n.useState)(null),i=Object(I.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),u=Object(I.a)(l,2),j=u[0],m=u[1],h=Object(n.useState)(1),p=Object(I.a)(h,2),O=p[0],f=p[1],v=Object(n.useContext)(D);Object(n.useEffect)((function(){if(v){var e=1;if(a.search)e=+a.search.split("?")[1].split("=")[1]||1;f(e),E(function(e,t){var a={pageNum:t,pageSize:10,desc:!0};return be()({method:"get",url:vc.GetModeratorLockedTicketsByID,params:a,headers:{Authorization:"Bearer ".concat(e)}})}(t.accessToken.value,e).then(x))}}),[v,a.search]);var x=function(e){if(200==e.status){if(e.data.error)return void N.b.error(e.data.error);o(e.data.data.itemList),m(e.data.data.total)}else N.b.error("Request Failed")};return Object(ge.jsxs)("div",{style:{padding:24},children:[Object(ge.jsx)(Rn.a.Content,{style:{background:"#fff",padding:"10px 28px",marginBottom:12},children:Object(ge.jsx)(ec.a,{children:Object(ge.jsx)(ec.a.Item,{children:e("My Locked Tickets")})})}),s&&Object(ge.jsx)(pc,{dataList:s,total:j,currentPage:O,onPageChange:function(e){r.push("/mylockedtickets?pageNum=".concat(e))}})]})},gc=function(e){if(e)return[{title:e("Toolbox Asset"),value:"ToolboxAsset",disabled:!0,children:[{title:e("Image"),value:"Image"},{title:e("Audio"),value:"Audio"},{title:e("Mesh"),value:"Mesh",children:[{title:e("MeshPart"),value:"MeshPart"}]},{title:e("Model"),value:"Model"},{title:e("Decal"),value:"Decal"},{title:e("Plugin"),value:"Video"}]},{title:e("Bundle"),value:"Bundle"},{title:e("Avatar"),value:"Avatar",children:[{title:e("Package"),value:"Package"},{title:e("Animation"),value:"Animation",children:[{title:e("Climb Animation"),value:"ClimbAnimation"},{title:e("Death Animation"),value:"DeathAnimation"},{title:e("Fall Animation"),value:"FallAnimation"},{title:e("Idle Animation"),value:"IdleAnimation"},{title:e("Jump Animation"),value:"JumpAnimation"},{title:e("Run Animation"),value:"RunAnimation"},{title:e("Swim Animation"),value:"SwimAnimation"},{title:e("Walk Animation"),value:"WalkAnimation"},{title:e("Pose Animation"),value:"PoseAnimation"},{title:e("Emote Animation"),value:"EmoteAnimation"}]},{title:e("Clothing"),value:"Clothing",disabled:!0,children:[{title:e("T-Shirt"),value:"TShirt"},{title:e("Shirt"),value:"Shirt"},{title:e("Pants"),value:"Pants"}]},{title:e("Body parts"),value:"Body parts",disabled:!0,children:[{title:e("Head"),value:"Head"},{title:e("Face"),value:"Face"},{title:e("Arms"),value:"Arms",children:[{title:e("Left Arm"),value:"LeftArm"},{title:e("Right Arm"),value:"RightArm"}]},{title:e("Legs"),value:"Legs",children:[{title:e("Left Leg"),value:"LeftLeg"},{title:e("Right Leg"),value:"RightLeg"}]},{title:e("Torso"),value:"Torso"}]},{title:e("Accessory"),value:"Accessory",disabled:!0,children:[{title:e("Hat"),value:"Hat"},{title:e("Gear"),value:"Gear"},{title:e("Hair Accessory"),value:"HairAccessory"},{title:e("Face Accessory"),value:"FaceAccessory"},{title:e("Neck Accessory"),value:"NeckAccessory"},{title:e("Shoulder Accessory"),value:"ShoulderAccessory"},{title:e("Front Accessory"),value:"FrontAccessory"},{title:e("Back Accessory"),value:"BackAccessory"},{title:e("Waist Accessory"),value:"WaistAccessory"},{title:e("T-Shirt Accessory"),value:"TShirtAccessory"},{title:e("Shirt Accessory"),value:"ShirtAccessory"},{title:e("Pants Accessory"),value:"PantsAccessory"},{title:e("Jacket Accessory"),value:"JacketAccessory"},{title:e("Sweater Accessory"),value:"SweaterAccessory"},{title:e("Shorts Accessory"),value:"ShortsAccessory"},{title:e("Left Shoe Accessory"),value:"LeftShoeAccessory"},{title:e("Right Shoe Accessory"),value:"RightShoeAccessory"},{title:e("Dress Skirt Accessory"),value:"DressSkirtAccessory"}]}]}]},Ic=["Approved","Rejected","CreateTickets"],yc=a(383),kc=a(375),Sc=p.resourceServer,Tc=da.a.Option,Cc=function(e){var t=e.refresh,a=Object(b.d)().authState,r=rc.a.useForm(),c=Object(I.a)(r,1)[0],i=Object(k.a)().t,s=gc(i),o=Object(n.useState)(""),l=Object(I.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(""),m=Object(I.a)(j,2),h=m[0],p=m[1],O=Object(n.useState)(""),x=Object(I.a)(O,2),g=x[0],y=x[1],S=Object(n.useState)(""),T=Object(I.a)(S,2),C=T[0],U=T[1],D=function(){var e=Object(v.a)(f.a.mark((function e(){var n,r,s,o,l,b;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.accessToken.value,(r={}).Type=h,r.PolicyLabel="ChinaWhitelist",r.Action=g,r.Comment=C,s=d.split(/[,|\n|\s]/).filter((function(e){return e})),r.Ids=s,""!=r.Type&&""!=r.PolicyLabel&&""!=r.Comment&&""!=r.Action&&0!=r.Ids.length){e.next=11;break}return N.b.warn(i("Please fill in the required items")),e.abrupt("return");case 11:return o=Sc.AssetsAllowlist,e.next=14,je(o,r,n);case 14:if(!(200!==(l=e.sent).status||l.data&&l.data.error)){e.next=18;break}return N.b.error(i("Handle Asset Status failed")+": "+i(l.data.error.description)),e.abrupt("return");case 18:c.resetFields(),u(""),y(""),p(""),U(""),t(),b="CreateTickets"===r.Action?i("Successfully Created Asset Tickets")+": "+l.data.data.createTicketSuccessCount+"/"+l.data.data.total:i("Successfully Update Asset Status")+": "+l.data.data.updateStatusSuccessCount+"/"+l.data.data.total,N.b.info(b);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsxs)(rc.a,{form:c,layout:"inline",children:[Object(ge.jsx)(yc.a,{title:i("MASS SET POLICY LABEL")}),Object(ge.jsx)(kc.a,{}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:Object(ge.jsx)(A.a,{span:5,style:{marginBottom:12},children:Object(ge.jsx)(rc.a.Item,{label:i("AssetType"),name:"idType",required:!0,children:Object(ge.jsx)(zn.a,{style:{width:"100%"},treeData:s,placeholder:i("Please Select AssetType"),dropdownStyle:{maxHeight:400,overflow:"auto"},onChange:p,treeDefaultExpandedKeys:[s[0].value]})})})}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:i("Note Please enter IDs separated by spaces, commas, or new lines")}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:Object(ge.jsx)(A.a,{span:20,style:{marginBottom:12,marginTop:24},children:Object(ge.jsx)(rc.a.Item,{name:"ids",required:!0,children:Object(ge.jsx)(la.a.TextArea,{rows:10,value:d,onChange:function(e){return u(e.target.value)}})})})}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:Object(ge.jsx)(A.a,{span:20,style:{marginBottom:12,marginTop:24},children:Object(ge.jsx)(rc.a.Item,{label:i("Comment"),name:"comment",required:!0,children:Object(ge.jsx)(la.a.TextArea,{onChange:function(e){return U(e.target.value)}})})})}),Object(ge.jsxs)(w.a,{style:{width:"100%"},children:[Object(ge.jsx)(A.a,{style:{marginBottom:4},children:Object(ge.jsx)(rc.a.Item,{label:i("Select Action"),name:"action",required:!0,children:Object(ge.jsx)(da.a,{dropdownMatchSelectWidth:!1,style:{width:"150px"},onChange:y,children:Ic.map((function(e){return Object(ge.jsx)(Tc,{value:e,children:i(e)},e)}))})})}),Object(ge.jsx)(A.a,{style:{marginBottom:8},children:Object(ge.jsx)(rc.a.Item,{children:Object(ge.jsx)(pe.a,{type:"primary",htmlType:"submit",onClick:function(){return G(D(),i)},children:i("Confirm")})})})]})]})})},wc=a(228),Ac=Oe.a.Text,Uc=p.resourceServer,Dc=function(e){var t=e.logs,a=e.total,n=e.currentPage,r=e.pageSize,c=e.onPageChange,i=Object(b.d)().authState,s=Object(k.a)().t,o=Object(ge.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(ge.jsx)(Ac,{children:"/"})}),l=[{label:s("Asset ID"),key:"assetId"},{label:s("Submitted Time"),key:"submittedUtc"},{label:s("WhitelistUpdateResult(nonticket action)"),key:"updateWhitelistStatus"},{label:s("ModeratorTicketActionType"),key:"moderatorActionType"},{label:s("ticektId"),key:"ticketId"},{label:s("Action Date"),key:"actionUtc"},{label:s("Comment"),key:"ticketComment"},{label:s("Moderator Email"),key:"moderatorEmail"}],d=function(e){if(null==e)return null;var t=e.exportDataList;if(null==t||0==t.length)return null;var a=[];return t.map((function(t){a.push({assetId:t.assetId?t.assetId:null,moderatorActionType:t.moderatorActionType?t.moderatorActionType:null,updateWhitelistStatus:t.updateWhitelistStatus?t.updateWhitelistStatus:null,actionUtc:t.actionUtc&&"0001-01-01T00:00:00"!=t.actionUtc?t.actionUtc:null,submittedUtc:e.createdUtc?e.createdUtc:null,ticketId:t.ticketId?t.ticketId:null,ticketComment:t.moderatorComment?t.moderatorComment:null,moderatorEmail:t.moderatorEmail?t.moderatorEmail:null})})),a},u=function(e,t,a){return Object(ge.jsxs)("div",{children:[e&&Object(ge.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:e}),t&&Object(ge.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:t}),a&&Object(ge.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:a})]})},j=[{title:"\u9996\u6b21\u63d0\u4ea4\u65f6\u95f4",key:"createdUtc",dataIndex:"createdUtc",width:"10%",render:function(e){return u(Object(ge.jsx)(Ac,{children:new Date(e).toLocaleDateString()}),Object(ge.jsx)(Ac,{children:new Date(e).toLocaleTimeString()}))}},{title:"\u63d0\u4ea4\u6570\u91cf",key:"submittedCount",dataIndex:"submittedCount",width:"10%",render:function(e,t){return u(Object(ge.jsx)(Ac,{children:s(t.action)}),Object(ge.jsx)(Ac,{children:e+" x "+s(t.assetType)}))}},{title:"\u64cd\u4f5c\u5458",key:"operator",dataIndex:"operatorEmail",width:"10%",render:function(e){return e||o}},{title:"\u5907\u6ce8",key:"comment",dataIndex:"comment",width:"10%",render:function(e){return s(e)}},{title:"\u751f\u6210\u5de5\u5355\u7ed3\u679c",key:"createTicketResult",dataIndex:["createdTicketCount"],width:"10%",render:function(e,t){var a=t.totalTicketsCount-e;return e?u(Object(ge.jsx)(Ac,{children:s("success")+": "+e}),Object(ge.jsx)(Ac,{type:0!=a?"danger":"default",children:s("failure")+": "+a})):o}},{title:"\u5de5\u5355\u5ba1\u6838\u7ed3\u679c",key:"ticketModerateCount",dataIndex:"totalTicketsCount",width:"10%",render:function(e,t){return e?u(Object(ge.jsx)(Ac,{children:s("pass")+": "+t.successTicketCount}),Object(ge.jsx)(Ac,{children:s("negative")+": "+t.rejectTicketCount}),Object(ge.jsx)(Ac,{children:s("Ignore Asset Update")+": "+t.ignoreTicketCount})):o}},{title:"\u767d\u540d\u5355\u5904\u7406\u7ed3\u679c",key:"updateSuccessCount",dataIndex:"updateSuccessCount",width:"10%",render:function(e,t){return"CreateTickets"!==t.action&&e>=0?u(Object(ge.jsx)(Ac,{children:s("success")+": "+e}),Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Ac,{type:t.updateFailureCount>0?"danger":"default",children:s("failure")+": "+t.updateFailureCount}),Object(ge.jsx)(pe.a,{disabled:m(t),type:"link",onClick:function(){return p(t)},children:s("resubmit")})]})):o}},{title:s("Export Result"),key:"Export Result",dataIndex:"outputResult",width:"10%",render:function(e,t){var a=function(e){if(null!=e)return{filename:"AssetUpdateHistory.csv",headers:l,data:d(e)}}(t);return a.data&&u(Object(ge.jsx)(pe.a,{size:"small",children:Object(ge.jsx)(wc.CSVLink,Object(x.a)(Object(x.a)({},a),{},{children:s("Export Result")}))}))}}],m=function(e){return 0==e.exportDataList.filter((function(e){return"Fail"===e.updateWhitelistStatus})).length},h=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.accessToken.value,(n={}).Type=t.assetType,n.PolicyLabel=t.policyLabel,n.Action=t.action,n.Ids=t.exportDataList.filter((function(e){return"Fail"==e.updateWhitelistStatus})).map((function(e){return e.assetId})),""!=n.Type&&""!=n.PolicyLabel&&""!=n.Comment&&""!=n.Action&&0!=n.Ids.length){e.next=9;break}return N.b.warn(s("Cannot resubmit with invalid request")),e.abrupt("return");case 9:return r=Uc.AssetsAllowlist,e.next=12,je(r,n,a);case 12:if(!(200!==(c=e.sent).status||c.data&&c.data.error)){e.next=16;break}return N.b.error(s("Handle Asset Status failed")+": "+s(c.data.error.description)),e.abrupt("return");case 16:N.b.info(s("Successfully Update Asset Status")+": "+c.data.data.updateStatusSuccessCount+"/"+c.data.data.total);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return G(h(e),s)};return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(yc.a,{title:"\u63d0\u4ea4\u8bb0\u5f55"}),Object(ge.jsx)(kc.a,{}),Object(ge.jsx)(De.a,{dataSource:t,columns:j,size:"small",pagination:{total:a,current:n,position:["bottomRight"],pageSize:r,onChange:c,hideOnSinglePage:!0,showSizeChanger:!1},scroll:{y:700}},"AssetsAllowlistLogTable")]})},Nc=p.resourceServer,Ec=function(){var e=Object(b.d)().authState,t=Object(n.useState)([]),a=Object(I.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),s=Object(I.a)(i,2),o=s[0],l=s[1],d=Object(n.useState)(1),u=Object(I.a)(d,2),j=u[0],m=u[1],h=function(){var t=Object(v.a)(f.a.mark((function t(){var a,n,r,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.accessToken.value,n=Nc.AllowlistUpdateHistory,r={pageNum:j,pageSize:10},t.next=5,me(n,r,a);case 5:if(200!=(i=t.sent).status){t.next=14;break}if(!i.data.error){t.next=10;break}return N.b.error(i.data.error.description),t.abrupt("return");case 10:c(i.data.data.items),l(i.data.data.total),t.next=15;break;case 14:N.b.error("Request Failed");case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h()}),[j]),Object(ge.jsxs)("div",{style:{padding:24},children:[Object(ge.jsx)(fe.a,{children:Object(ge.jsx)(Cc,{refresh:h})}),Object(ge.jsx)(fe.a,{children:Object(ge.jsx)(Dc,{logs:r,total:o,pageSize:10,currentPage:j,onPageChange:p})})]})},Rc=p.resourceServer,Gc=function(){var e=Object(b.d)().authState,t=Object(k.a)().t,a=Object(n.useState)(""),r=Object(I.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)([]),o=Object(I.a)(s,2),l=o[0],d=o[1],u=c.split(/[,|\n|\s]/).filter((function(e){return e})),j=u.filter((function(e){return-1==l.indexOf(e)})),m=function(){var t=Object(v.a)(f.a.mark((function t(){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],t.prev=1,n=0;case 3:if(!(n<u.length)){t.next=13;break}return t.next=6,be()({method:"POST",url:Rc.ApproveGame,data:u[n],headers:{Authorization:"Bearer ".concat(e.accessToken.value),"Content-Type":"Application/json"}});case 6:if(200!=!(r=t.sent).status&&r.data){t.next=9;break}return t.abrupt("break",13);case 9:a.push(u[n]);case 10:n++,t.next=3;break;case 13:d(a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),d(a);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(v.a)(f.a.mark((function t(){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],t.prev=1,n=0;case 3:if(!(n<u.length)){t.next=13;break}return t.next=6,be()({method:"POST",url:Rc.RejectGame,data:u[n],headers:{Authorization:"Bearer ".concat(e.accessToken.value),"Content-Type":"Application/json"}});case 6:if(200!=!(r=t.sent).status&&r.data){t.next=9;break}return t.abrupt("break",13);case 9:a.push(u[n]);case 10:n++,t.next=3;break;case 13:d(a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),d(a);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(){return t.apply(this,arguments)}}();return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(rc.a,{layout:"inline",children:[Object(ge.jsx)(yc.a,{title:t("MASS SET POLICY LABEL")}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:t("This page is for setting a policy label on multiple ids")}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:Object(ge.jsx)(A.a,{span:20,style:{marginBottom:12,marginTop:24},children:Object(ge.jsx)(rc.a.Item,{label:t("Universe IDs"),name:"ids",required:!0,children:Object(ge.jsx)(la.a.TextArea,{rows:10,onChange:function(e){return i(e.target.value)}})})})}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:t("Note Please enter IDs separated by spaces, commas, or new lines")}),Object(ge.jsxs)(w.a,{style:{width:"100%"},children:[Object(ge.jsx)(pe.a,{style:{marginTop:12,marginRight:20},type:"primary",htmlType:"submit",onClick:function(){return G(m(),t)},children:t("Add these games into whitelist")}),Object(ge.jsx)(pe.a,{style:{marginTop:12},type:"primary",danger:!0,htmlType:"submit",onClick:function(){return G(h(),t)},children:t("Remove these games from whitelist")})]})]}),Object(ge.jsx)("div",{style:{marginTop:20},children:t("Submitted GameIds")}),Object(ge.jsx)("div",{children:Object(g.a)(new Set(l)).map((function(e){return Object(ge.jsxs)("span",{children:[Object(ge.jsx)(Oe.a.Text,{code:!0,children:e}),","]},e)}))}),Object(ge.jsx)("div",{style:{marginTop:20},children:t("Failed or Skipped GameIds")}),Object(ge.jsx)("div",{children:Object(g.a)(new Set(j)).map((function(e){return Object(ge.jsxs)("span",{children:[Object(ge.jsx)(Oe.a.Text,{code:!0,children:e}),","]},e)}))})]})},Pc=function(){return Object(ge.jsx)("div",{style:{padding:24},children:Object(ge.jsx)(Gc,{})})},Bc=a(388),Lc=function(e){if(e)return[{action:"CreateTickets",modalTitle:e("Submit to moderate"),modalDescription:e("If submit current asset to moderate, it will be added to whitelist after approval. Do you want to continue?")},{action:"Rejected",modalTitle:e("Reject Asset Update"),modalDescription:e("If removing this asset from whitelist, no moderation requires. Do you want to continue?")},{action:"Approved",modalTitle:e("Approve Asset Update"),modalDescription:e("If adding this asset into whitelist, no moderation requires. Do you want to continue?")}]},zc=Oe.a.Text,Fc=function(e,t,a){if(e){var n=Lc(e),r=function(e){var t=e.id;return e.isBundle&&e.bundleItems.forEach((function(e){t+=","+e.itemTargetId})),t};return[{title:"".concat(e("Asset")," / ").concat(e("Bundle ID")),dataIndex:"id",key:"id",render:function(e,t){return Object(ge.jsx)("a",{href:t.assetUrl,target:"_blank",rel:"noreferrer",children:e})}},{title:e("Asset Type"),dataIndex:"assetType",key:"assetType",render:function(t,a){return Object(ge.jsx)("div",{children:a.isBundle?Object(ge.jsx)(zc,{children:e("Bundle")}):Object(ge.jsx)(zc,{children:e(t)})})}},{title:e("name"),dataIndex:"name",key:"name"},{title:e("Creator"),dataIndex:"creator",key:"creator"},{title:e("Comment"),dataIndex:"moderatorComment",key:"moderatorComment",render:function(t,a){return Object(ge.jsxs)("div",{children:[t&&Object(ge.jsxs)("div",{children:[Object(ge.jsx)(zc,{type:"secondary",children:e("Moderation Comment")})," ",Object(ge.jsx)(zc,{children:t})]}),!a.isInWhitelist&&a.violationType&&"None"!=a.violationType&&Object(ge.jsx)("div",{children:Object(ge.jsx)(Bc.a,{status:"error",size:"small",text:e(a.violationType)})})]})}},{title:e("Whitelist Status"),dataIndex:"isInWhitelist",key:"isInWhitelist",render:function(t,a){return Object(ge.jsxs)("div",{children:[null!==t&&Object(ge.jsx)(zc,{children:e(t?"inWhitelist":"notInWhitelist")}),a.isInReview&&Object(ge.jsx)("div",{children:Object(ge.jsx)(zc,{children:"("+e("inReview")+")"})})]})}},{title:e("Status Management"),key:"Status Management",render:function(c){return Object(ge.jsxs)("div",{children:[Object(ge.jsx)("div",{children:Object(ge.jsxs)("div",{style:{display:"flex"},children:[Object(ge.jsx)(pe.a,{type:"link",block:!0,disabled:c.isInReview,onClick:function(){return t(c,n[0])},children:e("Submit to moderate")}),Object(ge.jsx)(pe.a,{type:"link",danger:!0,block:!0,disabled:c.isInReview||!c.isInWhitelist,onClick:function(){return t(c,n[1])},children:e("Reject Asset Update")})]})}),Object(ge.jsx)("div",{children:Object(ge.jsxs)("div",{style:{display:"flex"},children:[Object(ge.jsx)(pe.a,{type:"link",block:!0,disabled:c.isInReview||c.isInWhitelist,onClick:function(){return t(c,n[2])},children:e("Approve Asset Update")}),Object(ge.jsx)(pe.a,{type:"link",block:!0,ref:a.current[c.index],"data-clipboard-text":r(c),children:e("CopyIDs")})]})})]})}},{title:e("Whitelist Record"),key:"Whitelist Record",render:function(t){var a="/asset-whitelist-history?"+(t.isBundle?"Bundle":"Asset")+"="+t.id;return Object(ge.jsx)("div",{children:Object(ge.jsx)(ct,{href:a,children:Object(ge.jsx)(pe.a,{children:e("Action History")})})})}}]}},Mc=function(e){if(e)return[{value:"1",type:"Asset",name:e("Asset ID"),placeholder:e("Enter Asset ID")},{value:"2",type:"Bundle",name:e("Bundle ID"),placeholder:e("Enter Bundle ID")}]},_c=Rn.a.Content,Wc=Oe.a.Title,Vc=la.a.Search,Hc=la.a.Group,qc=da.a.Option,Kc=p.resourceServer,Jc=function(){var e=Object(k.a)().t,t=Object(b.d)().authState,a=Mc(e),r=Object(n.useState)(""),c=Object(I.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(a[0].type),l=Object(I.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)([]),m=Object(I.a)(j,2),h=m[0],p=m[1],O=Object(n.useState)([]),g=Object(I.a)(O,2),S=g[0],T=g[1],C=Object(n.useState)(""),D=Object(I.a)(C,2),R=D[0],G=D[1],P=Object(n.useState)(""),B=Object(I.a)(P,2),L=B[0],z=B[1],F=Object(n.useState)(""),M=Object(I.a)(F,2),_=M[0],W=M[1],V=Object(n.useState)(""),H=Object(I.a)(V,2),q=H[0],K=H[1],J=Object(n.useState)(!1),Y=Object(I.a)(J,2),Q=Y[0],Z=Y[1],X=Object(n.useState)({}),$=Object(I.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useRef)([]);Object(n.useEffect)((function(){var t=ae.current.map((function(t){var a;if(t.current)return(a=new ba.a(t.current)).on("success",(function(){N.b.success(e("ID are copied to clipboard"))})),a}));return function(){t.forEach((function(e){e.destroy()}))}}),[ae.current]);var ne=function(){var a=Object(v.a)(f.a.mark((function a(){var n,r,c,i,s,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.accessToken.value,(r={Ids:S,Type:R,PolicyLabel:"ChinaWhitelist",Action:L}).Type&&r.PolicyLabel&&r&&r.Action&&r.Ids.length>0){a.next=7;break}return N.b.warn(e("Please fill in the required items")),Z(!1),a.abrupt("return");case 7:return a.prev=7,c=Kc.AssetsAllowlist,a.next=11,je(c,r,n);case 11:if(!(200!==(i=a.sent).status||i.data&&i.data.error)){a.next=16;break}return N.b.error(e("Handle Asset Status failed")+": "+e(i.data.error.description)),Z(!1),a.abrupt("return");case 16:s=i.data.data,o="CreateTickets"===r.Action?"".concat(e("Successfully Created Asset Tickets"),": ").concat(s.createTicketSuccessCount,"/").concat(s.total):"".concat(e("Successfully Update Asset Status"),": ").concat(s.updateStatusSuccessCount,"/").concat(s.total),Z(!1),N.b.info(o),a.next=26;break;case 22:a.prev=22,a.t0=a.catch(7),Z(!1),N.b.error(e("Handle Asset Status failed")+": "+a.t0);case 26:case"end":return a.stop()}}),a,null,[[7,22]])})));return function(){return a.apply(this,arguments)}}(),re=Fc(e,(function(e,t){z(t.action),T([e.id]),G(e.isBundle?a[1].type:e.assetType),W(t.modalTitle),K(t.modalDescription),Z(!0)}),ae),ce=function(){var r=Object(v.a)(f.a.mark((function r(c){var s,o,l,u,b;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c){r.next=2;break}return r.abrupt("return");case 2:if(!((s=i.split(/[,|\n|\s]/).filter((function(e){return e}))).length>5)){r.next=6;break}return N.b.warn(e("Search Input exceed limitation")),r.abrupt("return");case 6:if(p([]),o=t.accessToken.value,l=Kc.GetAssetDashboard,u={ids:s,inputType:d},b=d==a[1].type,u.inputType&&u.ids&&0!=u.ids.length){r.next=15;break}return N.b.warn(e("Please fill in the required items")),r.abrupt("return");case 15:E(je(l,u,o).then((function(t){if(200==t.status&&t.data){if(t.data.error)return void N.b.error(e(t.data.error.description));var a=t.data.data.assetDashboardModelList.map((function(e,t){return Object(x.a)({index:t,isBundle:b,assetUrl:b?"https://www.roblox.com/bundles/".concat(e.id):"https://www.roblox.com/catalog/".concat(e.id)},e)}));ae.current=a.map((function(e){return ae.current[e.index]=Object(n.createRef)()})),p(a)}else N.b.error(e("Request Failed"))})));case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),ie=function(){var n=Object(v.a)(f.a.mark((function n(r,c){var i,s,o,l;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return");case 2:i=Kc.GetAssetDashboard,s=c.bundleItems.filter((function(e){return 0==e.itemType})).map((function(e){return e.itemTargetId})),o={ids:s,inputType:a[0].type},l=t.accessToken.value,E(je(i,o,l).then((function(t){if(200==t.status&&t.data){if(t.data.error)return void N.b.error(t.data.error.description);var a=t.data.data.assetDashboardModelList.map((function(e){return Object(x.a)({assetUrl:"https://www.roblox.com/catalog/".concat(e.id)},e)}));te(Object(x.a)(Object(y.a)({},c.id,a),ee))}else N.b.error(e("Request Failed"))})));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(ge.jsx)(Rn.a,{children:Object(ge.jsxs)(_c,{style:{padding:24,margin:0,minHeight:280},children:[Object(ge.jsx)(U.a,{title:e(_),visible:Q,onOk:function(){return ne()},onCancel:function(){return Z(!1),W(""),void K("")},children:Object(ge.jsx)("p",{children:e(q)})}),Object(ge.jsxs)(fe.a,{bordered:!1,children:[Object(ge.jsx)(Wc,{level:4,children:e("Search Asset Status")}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:12,children:Object(ge.jsxs)(Hc,{children:[Object(ge.jsx)(da.a,{size:"large",defaultValue:a[0].type,onSelect:function(e){e&&(s(""),u(e))},children:a.map((function(e){return Object(ge.jsx)(qc,{value:e.type,children:e.name},e.value)}))}),Object(ge.jsx)(Vc,{style:{width:"50%"},placeholder:a.find((function(e){return e.type===d})).placeholder,value:i,allowClear:!0,enterButton:Object(ge.jsx)("span",{children:e("Search")}),size:"large",onSearch:ce,onChange:function(e){var t=e.target.value;s(t)}})]})})})]}),h&&Object(ge.jsx)(fe.a,{bordered:!1,children:Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:24,children:Object(ge.jsx)(De.a,{dataSource:h,columns:re,rowExpandable:function(e){return e.isBundle},onExpand:function(e,t){return ie(e,t)},expandable:{expandedRowRender:function(e){var t=re;return Object(ge.jsx)(De.a,{columns:t,dataSource:ee[e.id],pagination:!1,rowKey:function(e){return e.id}})}},pagination:!1,rowKey:function(e){return e.id},bordered:!0})})})})]})})},Yc=function(){return Object(ge.jsx)("div",{style:{padding:24},children:Object(ge.jsx)(Jc,{})})},Qc=a(229),Zc=a.n(Qc),Xc=a(159);var $c=function(e){var t=e.labels,a=e.datas,c=r.a.createRef();return Object(n.useEffect)((function(){var e=Xc.a(c.current);return e.setOption(function(e,t){if(!e||!t)return{};var a=t.map((function(e){return{data:e.data,name:e.name,type:"bar",label:{show:!0,position:"top",formatter:"{c}",rotate:"54"}}}));return{xAxis:{type:"category",data:e,boundaryGap:["5%","5%"],splitLine:{show:!0},axisLabel:{show:!0}},yAxis:{type:"value",splitLine:{show:!0}},series:a}}(t,a)),function(){return e.dispose()}}),[t,a]),Object(ge.jsx)("div",{ref:c,style:{width:"100%",height:"300px"}})},ei=function(e){var t=e.data,a=e.hideHeader,n=Object(k.a)().t,r=[];return Object.keys(t).forEach((function(e){r.push({title:n(e),key:e,dataIndex:e})})),Object(ge.jsx)(De.a,{dataSource:[t],rowKey:Object.keys(t)[0],columns:r,pagination:!1,bordered:!0,showHeader:!a})},ti=function(){var e=Object(k.a)().t,t=Object(b.d)().authState,a=Object(n.useState)(null),r=Object(I.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){var e=t.accessToken.value;E(be()({method:"GET",url:p.resourceServer.GetLuobuGameStatusMetrics,headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){200==e.status&&i(e.data.data)})))}),[]),c?Object(ge.jsxs)("div",{className:Zc.a.dashboard,children:[Object(ge.jsx)(yc.a,{title:e("Game Status Dashboard")}),Object(ge.jsxs)(Ve.b,{direction:"vertical",size:24,style:{width:"100%"},children:[Object(ge.jsx)("div",{style:{width:"100%",margin:"0 auto"},children:Object(ge.jsx)($c,{labels:["Approved","InReview","Rejected"],datas:[{data:[c.nowApproved,c.nowInReview,c.nowRejected],name:e("Sort")}]})}),Object(ge.jsx)(ei,{data:c})]})]}):null},ai={Unknown:{desc:["true","false"]},InReview:{desc:["true","false"]},Approved:{desc:["true","false"]},Rejected:{desc:["true","false"]},AddedToWhiteList:{desc:["true","false"]},RemovedFromWhiteList:{desc:["true","false"]},RemovedFromWhiteListByPlaceUpdate:{desc:["true","false"]}},ni=da.a.Option,ri=Object.keys(ai),ci=function(e){var t=e.onChange,a=Object(k.a)().t,r=Object(n.useState)({status:ri[0],desc:"false"}),c=Object(I.a)(r,2),i=c[0],s=c[1],o=ai[i.status],l=Object(n.useCallback)((function(e){s(Object.assign({},e)),t(e)}),[s]);return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(rc.a,{initialValues:i,onFinish:l,layout:"inline",children:Object(ge.jsxs)(w.a,{gutter:6,style:{width:"100%"},children:[Object(ge.jsx)(A.a,{style:{marginBottom:12},children:Object(ge.jsx)(rc.a.Item,{label:a("gameStatus"),name:"status",required:!0,children:Object(ge.jsx)(da.a,{dropdownMatchSelectWidth:!1,children:ri.map((function(e){return Object(ge.jsx)(ni,{value:e,children:a(e+"GameIdList")},e)}))})})}),o&&Object.keys(o).map((function(e){if(o[e]instanceof Array)return Object(ge.jsx)(A.a,{span:6,style:{marginBottom:12},children:Object(ge.jsx)(rc.a.Item,{label:a(e),name:e,children:Object(ge.jsx)(da.a,{dropdownMatchSelectWidth:!1,children:o[e].map((function(t){return Object(ge.jsx)(ni,{value:t,children:a(e+t)},t)}))})})},e)})),Object(ge.jsx)(pe.a,{type:"primary",htmlType:"submit",children:a("Search")})]})})})},ii=function(e){var t=e.dataList,a=e.total,n=e.currentPage,r=e.onPageChange,c=Object(k.a)().t,i=[{title:c("Game ID"),dataIndex:"gameId"},{title:c("Updated Time"),render:function(e){return st(Ue.a.utc(e.updatedUtc).toDate())}}];return Object(ge.jsx)(De.a,{dataSource:t,columns:i,bordered:!0,rowKey:function(e){return e.gameId+e.createdUtc},size:"small",style:{marginTop:24},pagination:{total:a,current:n,pageSize:10,onChange:r,hideOnSinglePage:!0,showSizeChanger:!1}})},si=p.resourceServer;function oi(e,t){return{pageNum:e,pageSize:10,desc:t.desc,status:t.status}}var li=function(){var e=Object(b.d)().authState,t=Object(n.useState)(null),a=Object(I.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(null),s=Object(I.a)(i,2),o=s[0],l=s[1],d=Object(n.useState)(1),u=Object(I.a)(d,2),j=u[0],m=u[1],h=Object(n.useState)(null),p=Object(I.a)(h,2),O=p[0],f=p[1],v=si.GetGameIdList;function x(e){if(200==e.status){if(e.data.error)return void N.b.error(e.data.error);c(e.data.data.itemList),l(e.data.data.total)}else N.b.error("Request Failed")}return Object(ge.jsxs)("div",{style:{padding:24},children:[Object(ge.jsx)(ci,{onChange:function(t){f(t),m(1);var a=e.accessToken.value;E(me(v,oi(j,t),a).then(x))}}),r&&Object(ge.jsx)(ii,{dataList:r,total:o,currentPage:j,onPageChange:function(t){m(t);var a=e.accessToken.value;E(me(v,oi(t,O),a).then(x))}})]})},di=function(){return Object(ge.jsxs)("div",{style:{padding:24},children:[Object(ge.jsx)(ti,{}),Object(ge.jsx)(li,{})]})},ui=a(376),bi=a(183),ji=a.n(bi),mi=a(56),hi=function(e){return e?[{title:e("gameId"),dataIndex:"universeId",key:"universeId"},{title:e("name"),dataIndex:"name",key:"name"},{title:e("description"),dataIndex:"description",key:"description",ellipsis:{showTitle:!1},render:function(e){return Object(ge.jsx)(mi.a,{placement:"topLeft",title:e,children:e})}}]:[]},pi=la.a.Group,Oi=Oe.a.Title,fi=function(){var e=Object(k.a)().t,t=hi(e).concat({title:e("operation"),dataIndex:"operation",render:function(e,t){return Object(ge.jsx)(ui.a,{title:'"Sure to delete? '.concat(t.name),onConfirm:function(){return Z(t.key)},children:Object(ge.jsx)("a",{children:"Delete"})})}}),a=Object(b.d)().authState,r=Object(n.useState)(""),c=Object(I.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)([]),l=Object(I.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(null),m=Object(I.a)(j,2),h=m[0],O=m[1],g=Object(n.useState)(!1),y=Object(I.a)(g,2),S=y[0],T=y[1],C=Object(n.useState)(null),U=Object(I.a)(C,2),D=U[0],E=U[1],R=Object(n.useState)(!1),G=Object(I.a)(R,2),P=G[0],B=G[1],L=Object(n.useState)(null),z=Object(I.a)(L,2),F=z[0],M=z[1];function _(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e)}function W(e,t){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",be()({method:"post",url:p.resourceServer.UpdateLuobuGameSortInfo,data:{sortId:t,universeIds:n},headers:{Authorization:"Bearer ".concat(a.accessToken.value),"Content-Type":"Application/json"}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(v.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(p.resourceServer.GetLuobuGameSortInfo,{sortId:t,exclusiveStartId:n,sortOrderStr:"Asc"},a.accessToken.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u([]),O(t),e.next=4,Y(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function K(e,t){return J.apply(this,arguments)}function J(){return(J=Object(v.a)(f.a.mark((function e(t,a){var n,r,c,i,s,o,l,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,a);case 2:if(n=e.sent,(r=n&&n.data&&n.data.data&&n.data.data.curatedGameSortEntries)&&0!==r.length){e.next=6;break}return e.abrupt("return");case 6:return c=r.map((function(e){return e.universeId})).join(),e.next=9,_(c);case 9:for(i=e.sent,s=[],o=function(e){s.push(Object(x.a)(Object(x.a)({},i.data.data.find((function(t){return t.id===r[e].universeId}))),r[e]))},l=0;l<r.length;l++)o(l);if(!((d=s.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{key:e.universeId})}))).length>=100)){e.next=20;break}return e.t0=d,e.next=18,K(t,d.slice(-1)[0].id);case 18:e.t1=e.sent,d=e.t0.concat.call(e.t0,e.t1);case 20:return e.abrupt("return",d);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=N.b.loading("loading...",0),e.next=3,K(t,1);case 3:if(d=e.sent,a(),d&&0!==d.length){e.next=7;break}return e.abrupt("return");case 7:n=d.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{key:e.universeId})})),T(!0),u(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=new RegExp(/^(\s*|\d+)$/),Z=function(e){d=d.filter((function(t){return t.key!==e})),u(d)},X=function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N.b.loading("loading...",0),i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_(i);case 5:a=e.sent,t(),a&&a.data&&a.data.data&&a.data.data[0]&&(M("GameId: ".concat(a.data.data[0].id," GameName: ").concat(a.data.data[0].name,' Add game to this sort"')),E(Object(x.a)(Object(x.a)({},a.data.data[0]),{},{universeId:a.data.data[0].id,key:a.data.data[0].id}))),B(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N.b.loading(""),d&&0!==d.length){e.next=3;break}return e.abrupt("return");case 3:return a=d.map((function(e){return e.universeId})),e.next=6,W(h,a);case 6:return n=e.sent,t(),200===n.status&&n.data&&n.data.data?N.b.info("successes update the sort"):console.log(n.data),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ge.jsxs)("div",{className:ji.a.tableWrapper,children:[Object(ge.jsx)(Oi,{level:4,children:e("Game Sort Dashboard")}),Object(ge.jsx)(fe.a,{bordered:!1,children:Object(ge.jsxs)(w.a,{children:[Object(ge.jsx)(A.a,{span:8,children:Object(ge.jsx)(pi,{children:Object(ge.jsx)(da.a,{showSearch:!0,style:{width:"50%"},placeholder:e("Select a sort type"),optionFilterProp:"label",size:"large",onChange:q,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},options:Array.from(p.resourceServer.LuobuGameSortIdList)})})}),Object(ge.jsx)(A.a,{span:8,children:Object(ge.jsxs)(pi,{children:[Object(ge.jsx)(la.a,{size:"large",style:{width:180},disabled:!S,onChange:function(e){Q.test(e.target.value)&&s(e.target.value)}}),Object(ge.jsx)(ui.a,{title:F,visible:P,onConfirm:function(){d.some((function(e){return e.universeId===D.universeId}))?N.b.info(e("game already in the sort no need to add: ")+D.id):(d=d.concat(Object(x.a)(Object(x.a)({},D),{},{universeId:D.id,key:D.universeId})),u(d),N.b.info(e("game add in to sort: ")+D.id)),E(null),M(null),B(!1),s(null)},onCancel:function(){B(!1)},children:Object(ge.jsx)(pe.a,{type:"primary",size:"large",disabled:!S,icon:Object(ge.jsx)(xe.a,{}),onClick:X,children:e("Add to Game Sort")})})]})}),Object(ge.jsx)(A.a,{span:8,children:Object(ge.jsx)(pe.a,{type:"primary",size:"large",style:{float:"right"},disabled:!S,onClick:$,danger:!0,children:e("Upload Sort")})})]})}),d&&Object(ge.jsx)(De.a,{className:ji.a.table,bordered:!0,columns:t,dataSource:d,pagination:!1})]})},vi=function(){return Object(ge.jsx)("div",{style:{padding:24},children:Object(ge.jsx)(fi,{})})},xi=cc.a.RangePicker;function gi(e){var t,a=e.onChange,n=e.stripHour,r=e.defaultValue,c=Object(k.a)().t;function i(e){return e&&n&&e.some((function(e){return 0!=e.minutes()||0!=e.seconds()}))&&(N.b.warn(c("The smallest unit is hour, will strip the values of minutes and seconds")),e[0]=e[0].startOf("hour"),e[1]=e[1].startOf("hour")),a(null===e||void 0===e?void 0:e.map((function(e){return e.toISOString()})))}return Object(ge.jsx)(xi,{ranges:(t={},Object(y.a)(t,c("Today"),[Ue()().startOf("day"),Ue()()]),Object(y.a)(t,c("This Week"),[Ue()().startOf("week"),Ue()()]),Object(y.a)(t,c("This Month"),[Ue()().startOf("month"),Ue()()]),Object(y.a)(t,c("Past 12 hours"),[Ue()().subtract(12,"hours"),Ue()()]),Object(y.a)(t,c("Past 24 hours"),[Ue()().subtract(24,"hours"),Ue()()]),Object(y.a)(t,c("Past 3 days"),[Ue()().subtract(3,"days"),Ue()()]),Object(y.a)(t,c("Past 1 week"),[Ue()().subtract(1,"weeks"),Ue()()]),Object(y.a)(t,c("Past 1 month"),[Ue()().subtract(1,"months"),Ue()()]),t),showTime:!0,defaultValue:null===r||void 0===r?void 0:r.map((function(e){return Ue.a.parseZone(e)})),format:"YYYY/MM/DD HH:mm:ss",onChange:function(e){return i(e)}})}var Ii=function(e){var t=e.gameStatusList,a=Object(k.a)().t,c=r.a.createRef();return Object(n.useEffect)((function(){var e=Xc.a(c.current);return e.setOption(function(e,t){if(!e)return{};var a=e.map((function(e){return[[Ue()(e.createdUtc).subtract(5,"minutes").toISOString(),t(e.previousWhiteListStatus)],[Ue()(e.createdUtc).toISOString(),t(e.whiteListStatus)]]})).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return Ue()(e[0])-Ue()(t[0])}));return console.log(a),{visualMap:{show:!1,type:"piecewise",pieces:[{lte:0,color:"black"},{lte:1,color:"#cc0000"},{lte:2,color:"#ff9933"},{lte:3,color:"#33cc33"}]},xAxis:{type:"time",boundaryGap:["5%","5%"],splitLine:{show:!0}},yAxis:{type:"category",data:[t("Approved"),t("InReview"),t("Rejected"),t("Unknown")].reverse(),splitLine:{show:!0},axisTick:{alignWithLabel:!0}},series:[{data:a,type:"line",symbolSize:10,label:{show:!0,formatter:"{b}"}}]}}(t,a)),function(){return e.dispose()}}),[t]),Object(ge.jsx)("div",{ref:c,style:{width:"100%",height:"300px"}})},yi=function(e){var t=e.dataList,a=e.total,n=e.currentPage,r=e.onPageChange,c=Object(k.a)().t,i=[{title:c("Game ID"),dataIndex:"gameId"},{title:c("Old Whitelist Status"),dataIndex:"previousWhiteListStatus"},{title:c("New Whitelist Status"),dataIndex:"whiteListStatus"},{title:c("Created Time"),render:function(e){return Ue.a.utc(e.createdUtc).toDate().toLocaleString()}}];return Object(ge.jsx)(De.a,{dataSource:t,columns:i,bordered:!0,rowKey:function(e){return e.gameId+e.createdUtc},size:"small",style:{marginTop:24},pagination:{total:a,current:n,pageSize:100,onChange:r,hideOnSinglePage:!0,showSizeChanger:!1}})},ki=p.resourceServer;function Si(e,t,a,n){var r={pageNum:t,pageSize:100,startUtc:a?a[0]:null,endUtc:a?a[1]:null},c=n?ki.GetLuobuGameStatusHistoryByGameId(n):ki.GetLuobuGamesStatusHistories;return be()({method:"get",url:c,params:r,headers:{Authorization:"Bearer ".concat(e)}})}var Ti=function(){var e=Object(k.a)().t,t=Object(b.d)().authState,a=Object(n.useContext)(D),r=Object(n.useState)(null),c=Object(I.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(),l=Object(I.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(null),m=Object(I.a)(j,2),h=m[0],p=m[1],O=Object(n.useState)(1),f=Object(I.a)(O,2),v=f[0],x=f[1],g=Object(n.useState)(null),y=Object(I.a)(g,2),S=y[0],T=y[1],C=Object(n.useState)(!1),w=Object(I.a)(C,2),A=w[0],U=w[1];if(!a)return null;function R(e){if(200==e.status){if(e.data.error)return void N.b.error(e.data.error);u(e.data.data.itemList),p(e.data.data.total)}else N.b.error("Request Failed")}return Object(ge.jsxs)("div",{style:{padding:24},children:[Object(ge.jsxs)(Ve.b,{children:[Object(ge.jsxs)("label",{children:[e("Time Range")," : "]}),Object(ge.jsx)(gi,{onChange:function(e){s(e)}}),Object(ge.jsxs)("label",{children:[e("Game ID")," : "]}),Object(ge.jsx)(la.a,{value:S,onChange:function(e){return function(e){T(e)}(e.target.value)}}),Object(ge.jsx)(pe.a,{type:"primary",onClick:function(){E(Si(t.accessToken.value,1,i,S).then(R).then((function(){U(!!S)})))},children:e("Search")})]}),A&&Object(ge.jsx)(Ii,{gameStatusList:d}),Object(ge.jsx)(yi,{dataList:d,total:h,currentPage:v,onPageChange:function(e){x(e),E(Si(t.accessToken.value,e,i,S).then(R).then((function(){U(!!S)})))}})]})},Ci=a(230),wi=a.n(Ci),Ai=a(234),Ui=function(e){if(e)return[{title:e("User ID"),dataIndex:"id",key:"id"},{title:e("User Name"),dataIndex:"name",key:"name"},{title:e("User Display Name"),dataIndex:"displayName",key:"displayName"},{title:e("Action Type"),dataIndex:"actionType",key:"actionType"},{title:e("Action Date"),dataIndex:"createdUtc",key:"createdUtc"},{title:e("Moderator Email"),dataIndex:"moderatorEmail",key:"moderatorEmail"},{title:e("Period From"),dataIndex:"periodFrom",key:"periodFrom"},{title:e("Period To"),dataIndex:"periodTo",key:"periodTo"},{title:e("Internal Comment"),dataIndex:"internalComment",key:"internalComment"}]},Di=function(e){if(e)return[{title:e("User ID"),dataIndex:"id",key:"id"},{title:e("User Open ID"),dataIndex:"openIds",key:"openIds"},{title:e("User Name"),dataIndex:"name",key:"name"},{title:e("Display Name"),dataIndex:"displayName",key:"displayName"},{title:e("last Online Time"),dataIndex:"lastOnlineTime",key:"lastOnlineTime"}]},Ni=function(e){if(e)return[{value:"1",type:"name",name:e("User Name"),placeholder:"e.g. Robloxianq1l8m4s8m"},{value:_,type:"id",name:e("User ID"),placeholder:"e.g. 2411491917"},{value:"3",type:"openId",name:e("User Open ID"),placeholder:"e.g. A8AE646FFD13D31EAE830A30EA1EC655"}]},Ei=function(e){if(e)return[{value:0,name:""},{value:1,name:e("1 day")},{value:3,name:e("3 days")},{value:7,name:e("7 days")},{value:14,name:e("14 days")},{value:30,name:e("30 days")},{value:365,name:e("One year")},{value:"custom",name:e("Custom")}]},Ri={UserNameViolation:["BadDisplayName"],UserMessageViolation:["Spam","Bullying","Harassment","PersonalAttacks","Swearing","RealLifeThreats","HateSpeech","DiscriminatoryContent","PersonalInfo","InappropriateTalk","BadImage","Dispute"],UserActionViolation:["Bullying","Harassment","PersonalAttacks","Swearing","RealLifeThreats","HateSpeech","DiscriminatoryContent","PersonalInfo","InappropriateTalk","BadImage","Dispute","Dating","Grooming","SexGames","Link","AccountTheft","Refund","SellingAssetsforUSD","BuyingAssetsforUSD","Scam","KnownFraud","BotAccount","Exploiting","AltSpamAccounts","GeneralAbuse","Other"]},Gi=["UserNameViolation","UserMessageViolation","UserActionViolation"],Pi=function(e){if(e)return[{title:e("Punished User Id"),dataIndex:"punishedUserId",key:"punishedUserId"},{title:e("Message To User"),dataIndex:"messageToUser",key:"messageToUser"},{title:e("Punishment Type Description"),dataIndex:"punishmentTypeDescription",key:"punishmentTypeDescription"},{title:e("Punishment Id"),dataIndex:"punishmentId",key:"punishmentId"},{title:e("Period From"),dataIndex:"beginDate",key:"beginDate"},{title:e("Period To"),dataIndex:"endDate",key:"endDate"}]},Bi=Rn.a.Content,Li=Oe.a.Title,zi=Oe.a.Text,Fi=la.a.Search,Mi=la.a.Group,_i=da.a.Option,Wi=Ri,Vi=Gi;Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},Date.prototype.addSeconds=function(e){var t=new Date(this.valueOf());return t.setSeconds(t.getSeconds()+e),t};var Hi=function(){var e=Object(k.a)().t,t=Ei(e),a=Wi,r=Object(n.useState)("1"),c=Object(I.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)([]),l=Object(I.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)({id:null}),m=Object(I.a)(j,2),h=m[0],O=m[1],g=Object(n.useState)(""),y=Object(I.a)(g,2),S=y[0],T=y[1],C=Object(n.useState)("GeneralAbuse"),U=Object(I.a)(C,2),E=U[0],R=U[1],G=Object(n.useState)(""),P=Object(I.a)(G,2),B=P[0],L=P[1],z=Object(n.useState)({periodFrom:null,periodTo:null,days:0,banLengthInSeconds:0}),F=Object(I.a)(z,2),M=F[0],_=F[1],W=Object(n.useState)([]),V=Object(I.a)(W,2),H=V[0],q=V[1],K=Object(n.useState)([]),J=Object(I.a)(K,2),Y=J[0],Q=J[1],Z=Object(n.useState)(),X=Object(I.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(),ae=Object(I.a)(te,2),ne=ae[0],re=ae[1],ce=Object(b.d)().authState;if(!Object(n.useContext)(D))return Object(ge.jsx)(Ai.a,{active:!0});var ie=Ni(e),se=Di(e),oe=Ui(e),le=Pi(e),de=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,c,s,o,l,d,b,j;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return u([]),Q([]),a=ie.find((function(e){return e.value===i})),n=a&&a.type,r=Object(x.a)(Object(x.a)(Object(x.a)({idType:i},"name"===n&&{name:t}),"id"===n&&{id:t}),"openId"===n&&{openId:t}),c=N.b.loading("loading...",0),e.next=10,je(p.resourceServer.GetUserInfo,r,ce.accessToken.value);case 10:if(s=e.sent,c(),!s.data||!s.data.error){e.next=15;break}return N.b.error(s.data.error.description),e.abrupt("return");case 15:if(o=s&&s.data,l=o.data,d=Object(x.a)(Object(x.a)({},l),{},{key:l.id}),!l.id){e.next=26;break}return e.next=20,xe(d.id);case 20:return b=e.sent,e.next=23,Ie(d.id);case 23:j=e.sent,b&&Q([b]),j&&(d.lastOnlineTime=j);case 26:u([d]),O(d);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var t=Object(v.a)(f.a.mark((function t(){var a,n,r,c,i,s,o,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==M.days&&B){t.next=2;break}return t.abrupt("return");case 2:if(a=new Date,n=a.addDays(M.days),(r={id:h&&h.id,periodFrom:M.periodFrom,periodTo:M.periodTo,banLength:$?parseInt($):(n-a)/1e3,noteToUser:e(B),banReason:E,actionType:"Ban",internalComment:ne}).id){t.next=7;break}return t.abrupt("return");case 7:return c=N.b.loading("loading...",0),t.next=10,je(p.resourceServer.BanUser,r,ce.accessToken.value);case 10:if(i=t.sent,c(),s=i&&i.data,o=s.error,l=s.data,!o){t.next=17;break}return N.b.error(e("Ban user failed")+o.description),t.abrupt("return");case 17:if(!l||!l.head||0===l.head.result){t.next=20;break}return N.b.error(e("Ban user failed")+l.head.retErrMsg),t.abrupt("return");case 20:N.b.success(e("Ban user successful"));case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function be(){var e=Object(x.a)(Object(x.a)({},d[0]),{},{key:d[0].id});u([e]),O(e)}var he=function(){var t=Object(v.a)(f.a.mark((function t(){var a,n,r,c,i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a={UserId:h&&h.id,CurrentDisplayName:h.displayName,NewDisplayName:h.name,RecordHistory:!0}).UserId){t.next=3;break}return t.abrupt("return");case 3:if(a.CurrentDisplayName!==a.NewDisplayName){t.next=6;break}return N.b.error(e("user display name already set as user name:")+a.CurrentDisplayName),t.abrupt("return");case 6:return n=N.b.loading("loading...",0),t.next=9,je(p.resourceServer.UpdateUserDisplayName,a,ce.accessToken.value);case 9:if(r=t.sent,n(),c=r&&r.data,i=c.error,s=c.data,!i){t.next=16;break}return N.b.error(e("Change user display name failed")+i.description),t.abrupt("return");case 16:if(!s||!s.head||0===s.head.result){t.next=19;break}return N.b.error(e("Change user display name failed")+s.head.retErrMsg),t.abrupt("return");case 19:N.b.success(e("Change user display name successful")),d[0].displayName=h.name,be();case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Oe=function(){var t=Object(v.a)(f.a.mark((function t(){var a,n,r,c,i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a={id:h&&h.id,actionType:"Unban"}).id){t.next=3;break}return t.abrupt("return");case 3:return n=N.b.loading("loading...",0),t.next=6,je(p.resourceServer.UnbanUser,a,ce.accessToken.value);case 6:if(r=t.sent,n(),c=r&&r.data,i=c.error,s=c.data,!i){t.next=13;break}return N.b.error(e("Unban user failed")+i.description),t.abrupt("return");case 13:if(!s||!s.head||0===s.head.result){t.next=16;break}return N.b.error(e("Unban user failed")+s.head.retErrMsg),t.abrupt("return");case 16:N.b.success(e("Unban user successful"));case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ve=function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.id){e.next=2;break}return e.abrupt("return");case 2:return t=N.b.loading("loading...",0),e.next=5,me(p.resourceServer.GetActionHistoryByUserId,{id:h.id},ce.accessToken.value);case 5:a=e.sent,t(),n=a&&a.data&&a.data.data&&a.data.data.items,r=n.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{key:e.guId})})),q(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,me(p.resourceServer.GetRecentBanStatusByUserId,{userId:t},ce.accessToken.value);case 4:if(a=e.sent,!(n=a&&a.data&&a.data.data)||!n.punishmentId){e.next=13;break}return r=Object(x.a)(Object(x.a)({},n),{},{key:n.punishmentId}),c=new Date(r.endDate),r.endDate=c.toLocaleString(),i=new Date(r.beginDate),r.beginDate=i.toLocaleString(),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,me(p.resourceServer.GetUserPresenceByIds,{userIdsStr:t},ce.accessToken.value);case 4:if(a=e.sent,!((n=a&&a.data&&a.data.data)&&n[0]&&n[0].userId)){e.next=10;break}return r=Object(x.a)(Object(x.a)({},n[0]),{},{key:n[0].userId}),c=new Date(r.lastOnline),e.abrupt("return",c.toLocaleString());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ge.jsx)(Rn.a,{children:Object(ge.jsxs)(Bi,{className:wi.a.siteLayoutContent,style:{padding:24,margin:0,minHeight:280},children:[Object(ge.jsxs)(fe.a,{bordered:!1,children:[Object(ge.jsx)(Li,{level:4,children:e("Search user")}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:12,children:Object(ge.jsxs)(Mi,{children:[Object(ge.jsx)(da.a,{size:"large",defaultValue:ie[0].value,onSelect:function(e){e&&(T(""),s(e))},children:ie.map((function(e){return Object(ge.jsx)(_i,{value:e.value,children:e.name},e.value)}))}),Object(ge.jsx)(Fi,{style:{width:"50%"},placeholder:ie.find((function(e){return e.value===i})).placeholder,value:S,allowClear:!0,enterButton:Object(ge.jsx)("span",{children:e("Search")}),size:"large",onSearch:de,onChange:function(e){var t=e.target.value;T(t)}})]})})})]}),Object(ge.jsxs)(fe.a,{bordered:!1,children:[Object(ge.jsx)(Li,{level:4,children:e("Search Result")}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:24,children:Object(ge.jsx)(De.a,{dataSource:d,columns:se,pagination:!1,bordered:!0})})})]}),h.id&&Object(ge.jsxs)(fe.a,{bordered:!1,children:[Object(ge.jsx)(Li,{level:4,children:"".concat(e("Get recent ban status for user"))}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:24,children:Object(ge.jsx)(De.a,{dataSource:Y,columns:le,pagination:!1,bordered:!0})})})]}),Object(ge.jsxs)(fe.a,{bordered:!1,children:[Object(ge.jsx)(Li,{level:4,children:e("Change User Display Name")}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:12,children:Object(ge.jsx)(ui.a,{placement:"top",title:"".concat(e("You are going to change user display name"),": ").concat(h&&h.displayName,"  ->  ").concat(h.name),onConfirm:he,okText:e("Confirm"),cancelText:e("Cancel"),children:Object(ge.jsx)(pe.a,{type:"primary",children:e("Change User Display Name")})})})})]}),Object(ge.jsxs)(fe.a,{bordered:!1,children:[Object(ge.jsx)(Li,{level:4,children:e("Ban User")}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:12,children:Object(ge.jsxs)(w.a,{gutter:[10,10],children:[Object(ge.jsx)(A.a,{children:"custom"===M.days?Object(ge.jsx)(la.a,{placeholder:e("Enter custom ban period"),value:$,onChange:function(e){var t=e.target.value,a=new Date;/^\d*$/.test(t)&&(ee(t),_(Object(x.a)(Object(x.a)({},M),{},{periodFrom:a.toISOString(),periodTo:a.addSeconds(parseInt(t)).toISOString(),banLengthInSeconds:t})))},suffix:e("seconds")}):Object(ge.jsx)(da.a,{style:{width:90},defaultValue:t.find((function(e){return 0===e.value})).value,onChange:function(e){var t=new Date;if("custom"!==e){var a=t.addDays(e);_({periodFrom:t.toISOString(),periodTo:a.toISOString(),days:e,banLengthInSeconds:(a-t)/1e3})}else _(Object(x.a)(Object(x.a)({},M),{},{days:"custom"}))},children:t.map((function(e,t){return Object(ge.jsx)(_i,{value:e.value,children:e.name},t)}))})}),Object(ge.jsx)(A.a,{children:Object(ge.jsx)(da.a,{style:{width:200},defaultValue:E,onChange:function(e){R(e)},children:Object.keys(a).map((function(t){return Object(ge.jsx)(da.a.OptGroup,{label:e(t),children:a[t].map((function(t){return Object(ge.jsx)(_i,{value:t,children:e(t)},t)}))},t)}))})}),Object(ge.jsxs)(A.a,{children:[e("Note to user")+" : ",Object(ge.jsx)(da.a,{style:{width:200},defaultValue:B,onChange:L,children:Vi.map((function(t){return Object(ge.jsx)(_i,{value:t,children:e(t)},t)}))})]}),Object(ge.jsx)(A.a,{children:Object(ge.jsx)(la.a,{placeholder:e("Enter Internal Comment"),value:ne,onChange:function(e){var t=e.target.value;re(t)}})}),Object(ge.jsx)(A.a,{children:Object(ge.jsx)(ui.a,{placement:"top",title:"".concat(e("You are going to ban user")," ").concat(h&&h.name),onConfirm:ue,okText:e("Confirm"),cancelText:e("Cancel"),children:Object(ge.jsx)(pe.a,{type:"primary",danger:!0,children:e("Ban User")})})})]})})}),h&&!h.isBanned&&0!==M.days&&M.periodFrom&&M.periodTo&&Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(w.a,{children:Object(ge.jsx)(zi,{children:"".concat(e("User Name"),": ").concat(h.name)})}),Object(ge.jsx)(w.a,{children:Object(ge.jsxs)(zi,{children:[Object(ge.jsx)(zi,{children:"".concat(e("Ban period"),": ")}),Object(ge.jsx)(zi,{mark:!0,children:M.periodFrom})," -"," ",Object(ge.jsx)(zi,{mark:!0,children:M.periodTo})]})})]})]}),Object(ge.jsxs)(fe.a,{bordered:!1,children:[Object(ge.jsx)(Li,{level:4,children:e("Unban User")}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:12,children:Object(ge.jsx)(ui.a,{placement:"top",title:"".concat(e("You are going to unban user"),": ").concat(h&&h.name),onConfirm:Oe,okText:e("Confirm"),cancelText:e("Cancel"),children:Object(ge.jsx)(pe.a,{type:"primary",children:e("Unban User")})})})})]}),h.id&&Object(ge.jsxs)(fe.a,{bordered:!1,children:[Object(ge.jsx)(Li,{level:4,children:"".concat(e("Ban/Unban action history for user"),": ").concat(h.name)}),Object(ge.jsx)(w.a,{style:{marginBottom:"15px"},children:Object(ge.jsx)(pe.a,{type:"primary",onClick:ve,children:e("Get history")})}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:24,children:Object(ge.jsx)(De.a,{dataSource:H,columns:oe,pagination:!1,bordered:!0,scroll:{y:240}})})})]})]})})},qi=function(){return Object(ge.jsx)("div",{style:{padding:24},children:Object(ge.jsx)(Hi,{})})},Ki=function(e){return e?[{value:"userManagement",label:e("User Management"),children:[{value:"id",label:e("User ID"),example:"e.g. 2328636299",element:"input"},{value:"name",label:e("User Name"),example:"e.g. Robloxianf8h4n2e5d",element:"input"},{value:"moderatorEmail",label:e("Moderator Email"),example:"e.g. rwang@cn.roblox.com",element:"input"},{value:"actionType",label:e("Action Type"),example:e("Select Ban/Unban"),element:"select",options:[{value:"Ban",label:e("Ban User"),default:!0},{value:"Unban",label:e("Unban User")}]}]}]:[]},Ji=function(e){return e?[{title:e("User ID"),dataIndex:"id",key:"id"},{title:e("User Name"),dataIndex:"name",key:"name"},{title:e("Moderator Email"),dataIndex:"moderatorEmail",key:"moderatorEmail"},{title:e("Action Type"),dataIndex:"actionType",key:"actionType"},{title:e("Display Name"),dataIndex:"displayName",key:"displayName"},{title:e("Note to User"),dataIndex:"noteToUser",key:"noteToUser"},{title:e("Period From"),dataIndex:"periodFrom",key:"periodFrom"},{title:e("Period To"),dataIndex:"periodTo",key:"periodTo"},{title:e("Internal Comment"),dataIndex:"internalComment",key:"internalComment"}]:[]},Yi=da.a.Option,Qi=function(e){var t=e.t,a=e.search,r=e.handleSearchParamsChange,c=Ki(t),i=Object(n.useState)(c[0]),s=Object(I.a)(i,2),o=s[0],l=s[1],d=Object(n.useState)([]),u=Object(I.a)(d,2),b=u[0],j=u[1],m=Object(n.useState)({}),h=Object(I.a)(m,2),p=h[0],O=h[1],f=function(e,t){var a=t&&t.target?t.target.value:t,n=Object(x.a)(Object(x.a)({},p),{},Object(y.a)({},e,a));r&&r(n),O(n)};return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(w.a,{gutter:[10,10],children:[Object(ge.jsx)(A.a,{span:6,children:Object(ge.jsx)(da.a,{style:{width:"100%"},defaultValue:"userManagement",onChange:function(e){j([]),l(c.find((function(t){return t.value===e})))},children:c.map((function(e,t){return Object(ge.jsx)(Yi,{value:e.value,children:e.label},t)}))})}),Object(ge.jsx)(A.a,{span:18,children:Object(ge.jsx)(da.a,{mode:"tags",style:{width:"100%"},onChange:function(e){var t=b.filter((function(t){return-1===e.indexOf(t)}));t&&t[0]&&p[t[0]]&&delete p[t[0]],j(e)},placeholder:t("Select search criteria"),autoClearSearchValue:!0,value:b,children:o.children.map((function(e,t){return Object(ge.jsx)(Yi,{value:e.value,children:e.label},t)}))})})]}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(la.a.Group,{children:Object(ge.jsx)(w.a,{gutter:8,children:b.map((function(e,t){var a=o.children.find((function(t){return t.value==e})),n=a&&a.label,r=a&&a.example,c=a&&a.element;return Object(ge.jsxs)(A.a,{span:6,children:[c&&"input"===c&&Object(ge.jsx)(la.a,{addonBefore:n,onChange:function(t){return f(e,t)},value:p[e],placeholder:r}),c&&"select"===c&&Object(ge.jsx)(da.a,{style:{width:"100%"},placeholder:r,onChange:function(t){return f(e,t)},children:a.options.map((function(e,t){return Object(ge.jsx)(Yi,{value:e.value,children:e.label},t)}))})]},t)}))})})}),Object(ge.jsx)(w.a,{style:{marginTop:"10px"},children:Object(ge.jsx)(pe.a,{type:"primary",onClick:function(){a(p)},children:t("Search")})})]})},Zi=Rn.a.Content,Xi=Oe.a.Title,$i=function(){var e=Object(k.a)().t,t=Object(n.useContext)(D),a=Object(b.d)().authState,r=Object(n.useState)([]),c=Object(I.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)({current:1,pageSize:10}),l=Object(I.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)({}),m=Object(I.a)(j,2),h=m[0],O=m[1],g=Ji(e);if(!t)return Object(ge.jsx)(Ai.a,{active:!0});var y=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(Object(x.a)({},t)),e.next=3,T(t,d);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(h,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(v.a)(f.a.mark((function e(t,n){var r,c,i,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=N.b.loading("loading...",0),e.next=3,me(p.resourceServer.GetUserManagementActionHistory,Object(x.a)(Object(x.a)({},t),{},{pageNum:n.current,pageSize:n.pageSize}),a.accessToken.value);case 3:c=e.sent,r(),(i=c.data)&&!i.error&&(o=i&&i.data&&i.data.items,l=i&&i.data&&i.data.total,s(o),u(Object(x.a)(Object(x.a)({},n),{},{total:l})));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(ge.jsx)(Rn.a,{children:Object(ge.jsx)(Zi,{style:{margin:0,minHeight:"280px",padding:"24px",background:"#fff"},children:Object(ge.jsxs)(fe.a,{bordered:!1,children:[Object(ge.jsx)(Xi,{level:4,children:e("Action History")}),Object(ge.jsx)(Qi,{t:e,search:y,handleSearchParamsChange:function(){u({current:1,pageSize:10})}}),i&&i.length>0&&Object(ge.jsxs)(w.a,{children:[Object(ge.jsx)(kc.a,{}),Object(ge.jsx)(De.a,{rowKey:function(e){return e.guId},columns:g,dataSource:i,pagination:d,onChange:S})]})]})})})},es=function(e){var t=e.handleBanUser,a=Object(k.a)().t;return[{title:a("Ticket ID"),dataIndex:"ticketId",width:"10%",render:function(e){return Object(ge.jsx)(l.b,{to:"/ticket?ticketId=".concat(e),children:e})}},{title:a("User ID"),dataIndex:"userId",width:"10%",render:function(e){return Object(ge.jsx)("a",{href:"https://www.roblox.com/users/".concat(e,"/profile"),target:"_blank",rel:"noreferrer",children:e})}},{title:a("Current Display Name"),dataIndex:"currentDN"},{title:a("Violation words"),dataIndex:"violatingWords"},{title:a("Rescan type"),dataIndex:"filterType"},{title:a("Ban User"),dataIndex:"userId",render:function(e){return Object(ge.jsx)(Pr,{handleBanUser:t,userId:e,size:"small"})}}]},ts=Oe.a.Text,as=function(e){var t=e.handleBanUser,a=Object(k.a)().t;return[{title:a("Ticket ID"),dataIndex:"ticketId",width:"10%",render:function(e){return Object(ge.jsx)(l.b,{to:"/ticket?ticketId=".concat(e),children:e})}},{title:a("User ID"),dataIndex:"userId",width:"10%",render:function(e){return Object(ge.jsx)("a",{href:"https://www.roblox.com/users/".concat(e,"/profile"),target:"_blank",rel:"noreferrer",children:e})}},{title:a("Is Ticket Outdated"),dataIndex:"isOutdated",filters:[{text:a("Normal"),value:!1},{text:a("Outdated"),value:!0}],width:"10%",render:function(e){return e?Object(ge.jsx)(ts,{type:"danger",children:a("Outdated")}):Object(ge.jsx)(ts,{type:"success",children:a("Normal")})},onFilter:function(e,t){return e===t.isOutdated}},{title:a("Display Name Pending Review"),dataIndex:"pendingReviewDN"},{title:a("Current Display Name"),dataIndex:"currentDN"},{title:a("Ban User"),dataIndex:"userId",render:function(e){return Object(ge.jsx)(Pr,{handleBanUser:t,userId:e,size:"small"})}}]},ns=Oe.a.Text,rs=function(e){var t=e.tickets,a=e.handlePickTickets,r=e.eventType,c=Object(k.a)().t,i=Object(b.d)().authState,s=Object(d.f)(),o=Object(n.useState)(t),l=Object(I.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)([]),h=Object(I.a)(m,2),O=h[0],g=h[1];Object(n.useEffect)((function(){(function(){var e=Object(v.a)(f.a.mark((function e(){var a,n,r,c,s,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=2;break}return e.abrupt("return");case 2:if(a=Date.now(),n=t.map((function(e){var t=e.dynamicEvent&&e.dynamicEvent.dataString&&JSON.parse(e.dynamicEvent.dataString),n=new Date(e.createdUtc),r=Math.abs(n-a),c=Math.ceil(r/864e5);return{ticketId:e.ticketId,userId:t.UserId,newDisplayName:t.NewDisplayName,displayName:t.DisplayName,diffDays:c,violatingWords:t.ViolatingWords,filterType:t.FilterType,isSensitive:t.IsSensitive}})),r=n.filter((function(e){return e.diffDays>7})),c=[],!(r.length>0)){e.next=13;break}return s=N.b.loading("",10),e.next=10,je(p.resourceServer.MultiGetByUserId,{userIds:r.map((function(e){return e.userId})),excludeBannedUsers:!1},i.accessToken.value);case 10:o=e.sent,s(),200===o.status&&o.data&&o.data.data&&(c=o.data.data.data);case 13:l=n.map((function(e){var t=c.length>0&&c.find((function(t){return t.id===e.userId})),a=t&&t.displayName?t&&t.displayName:e.newDisplayName||e.displayName;return{key:e.ticketId,ticketId:e.ticketId,isSensitive:e.isSensitive,userId:e.userId,pendingReviewDN:e.newDisplayName,currentDN:a,isOutdated:e.newDisplayName!==a,displayNameFoundInRescan:e.displayName,violatingWords:e.violatingWords,filterType:e.filterType}})),j(l);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var y,S=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.banLength,n=t.userId,!(r=u.find((function(e){return e.userId===n})))){e.next=12;break}return o=N.b.loading("",10),e.next=6,je(p.resourceServer.SubmitTicketResult,{ticketId:r.ticketId,result:V,comment:"",actionLength:a},i.accessToken.value);case 6:if(l=e.sent,o(),!(200!==l.status||l.data&&l.data.error)){e.next=11;break}return N.b.error(c("Ban user failed")),e.abrupt("return");case 11:s.go(0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N.b.loading("",10),t!==q){e.next=11;break}return e.next=4,he(p.resourceServer.BatchUpdateTicketsStatus,{ticketIds:O,status:"Closed"},i.accessToken.value);case 4:if(n=e.sent,a(),!(200!==n.status||n.data&&n.data.error)){e.next=9;break}return N.b.error(c("Failed to close tickets")),e.abrupt("return");case 9:return s.go(0),e.abrupt("return");case 11:if(t!==K&&t!==H){e.next=20;break}return e.next=14,je(p.resourceServer.BatchSubmitTickets,{ticketIds:O,result:t},i.accessToken.value);case 14:if(r=e.sent,a(),!(200!==r.status||r.data&&r.data.error)){e.next=19;break}return N.b.error(c("Failed to submit tickets")),e.abrupt("return");case 19:s.go(0);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r===$.name?y=as(S):r===te.name&&(y=es(S));var C={onChange:function(e){g(e)}};return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Ve.b,{style:{marginBottom:16},children:t&&0===t.length?Object(ge.jsx)(pe.a,{type:"primary",onClick:function(){return a($)},children:c("Pick Tickets")}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(pe.a,{type:"primary",onClick:function(){return T(K)},children:c("Batch set default user name")}),Object(ge.jsx)(pe.a,{onClick:function(){return T(H)},children:c("Batch re-open tickets")}),Object(ge.jsx)(pe.a,{danger:!0,onClick:function(){return T(q)},children:c("Batch close tickets")}),Object(ge.jsx)(ns,{mark:!0,children:"".concat(O.length," ").concat(c("tickets selected"))})]})}),Object(ge.jsx)(De.a,{dataSource:u,columns:y,size:"small",pagination:!1,scroll:{y:700},rowSelection:Object(x.a)({type:"checkbox"},C)})]})};rs.displayName="DisplayNameChangeTicketsTable";var cs=rs,is=Oe.a.Text,ss=function(e){var t=e.handleBanUser,a=Object(k.a)().t;return[{title:a("Ticket ID"),dataIndex:"ticketId",width:"10%",render:function(e){return Object(ge.jsx)(l.b,{to:"/ticket?ticketId=".concat(e),children:e})}},{title:a("User ID"),dataIndex:"userId",width:"10%",render:function(e){return Object(ge.jsx)("a",{href:"https://www.roblox.com/users/".concat(e,"/profile"),target:"_blank",rel:"noreferrer",children:e})}},{title:a("Is Ticket Outdated"),dataIndex:"isOutdated",filters:[{text:a("Normal"),value:!1},{text:a("Outdated"),value:!0}],width:"10%",render:function(e){return e?Object(ge.jsx)(is,{type:"danger",children:a("Outdated")}):Object(ge.jsx)(is,{type:"success",children:a("Normal")})},onFilter:function(e,t){return e===t.isOutdated}},{title:a("Current Display Name"),dataIndex:"currentDN"},{title:a("Violation words"),dataIndex:"violatingWords"},{title:a("Rescan type"),dataIndex:"filterType"},{title:a("Ban User"),dataIndex:"userId",render:function(e){return Object(ge.jsx)(Pr,{handleBanUser:t,userId:e,size:"small"})}}]},os=Oe.a.Text,ls=function(e){var t=e.tickets,a=e.handlePickTickets,r=Object(k.a)().t,c=Object(b.d)().authState,i=Object(d.f)(),s=Object(n.useContext)(D),o=Object(n.useState)(t),l=Object(I.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)([]),h=Object(I.a)(m,2),O=h[0],g=h[1];Object(n.useEffect)((function(){(function(){var e=Object(v.a)(f.a.mark((function e(){var a,n,r,i,s,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=2;break}return e.abrupt("return");case 2:if(a=Date.now(),n=t.map((function(e){var t=e.dynamicEvent&&e.dynamicEvent.dataString&&JSON.parse(e.dynamicEvent.dataString),n=new Date(e.createdUtc),r=Math.abs(n-a),c=Math.ceil(r/864e5);return{ticketId:e.ticketId,userId:t.UserId,displayName:t.DisplayName,diffDays:c,violatingWords:t.ViolatingWords,filterType:t.FilterType,textEvilType:t.TextEvilType}})),r=n.filter((function(e){return e.diffDays>7})),i=[],!(r.length>0)){e.next=13;break}return s=N.b.loading("",10),e.next=10,je(p.resourceServer.MultiGetByUserId,{userIds:r.map((function(e){return e.userId})),excludeBannedUsers:!1},c.accessToken.value);case 10:o=e.sent,s(),200===o.status&&o.data&&o.data.data&&(i=o.data.data.data);case 13:l=n.map((function(e){var t=i.length>0&&i.find((function(t){return t.id===e.userId})),a=t&&t.displayName?t&&t.displayName:e.displayName;return{key:e.ticketId,ticketId:e.ticketId,isSensitive:e.isSensitive,userId:e.userId,currentDN:a,isOutdated:e.displayName!==a,displayNameFoundInRescan:e.displayName,violatingWords:e.violatingWords.join(", "),filterType:e.filterType}})),j(l);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var y=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,o,l,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.banLength,n=t.userId,!(o=u.find((function(e){return e.userId===n})))){e.next=12;break}return l=N.b.loading("",10),e.next=6,je(p.resourceServer.SubmitTicketResult,{ticketId:o.ticketId,moderatorId:s.ModID,result:V,comment:"",actionLength:a},c.accessToken.value);case 6:if(d=e.sent,l(),!(200!==d.status||d.data&&d.data.error)){e.next=11;break}return N.b.error(r("Ban user failed")),e.abrupt("return");case 11:i.go(0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N.b.loading("",10),t!==q){e.next=11;break}return e.next=4,he(p.resourceServer.BatchUpdateTicketsStatus,{ticketIds:O,moderatorId:s.ModID,status:"Closed"},c.accessToken.value);case 4:if(n=e.sent,a(),!(200!==n.status||n.data&&n.data.error)){e.next=9;break}return N.b.error(r("Failed to close tickets")),e.abrupt("return");case 9:return i.go(0),e.abrupt("return");case 11:if(t!==K&&t!==H){e.next=20;break}return e.next=14,je(p.resourceServer.BatchSubmitTickets,{ticketIds:O,moderatorId:s.ModID,result:t},c.accessToken.value);case 14:if(o=e.sent,a(),!(200!==o.status||o.data&&o.data.error)){e.next=19;break}return N.b.error(r("Failed to submit tickets")),e.abrupt("return");case 19:i.go(0);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T={onChange:function(e){g(e)}},C=ss({handleBanUser:y});return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Ve.b,{style:{marginBottom:16},children:t&&0===t.length?Object(ge.jsx)(pe.a,{type:"primary",onClick:function(){return a($)},children:r("Pick Tickets")}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(pe.a,{type:"primary",onClick:function(){return S(K)},children:r("Batch set default user name")}),Object(ge.jsx)(pe.a,{onClick:function(){return S(H)},children:r("Batch re-open tickets")}),Object(ge.jsx)(pe.a,{danger:!0,onClick:function(){return S(q)},children:r("Batch close tickets")}),Object(ge.jsx)(os,{mark:!0,children:"".concat(O.length," ").concat(r("tickets selected"))})]})}),Object(ge.jsx)(De.a,{dataSource:u,columns:C,size:"small",pagination:!1,scroll:{y:700},rowSelection:Object(x.a)({type:"checkbox"},T)})]})};ls.displayName="DisplayNameOnlineRescanTicketsTable";var ds=ls,us=da.a.Option,bs=function(e){var t=e.handleAssetStatus,a=e.ticketId,r=e.row,c=Object(k.a)().t,i=Object(n.useState)(),s=Object(I.a)(i,2),o=s[0],l=s[1],d=Object(n.useState)(),u=Object(I.a)(d,2),b=u[0],j=u[1],m=function(e,n){t({ticketId:a,assetId:n,result:e,violationType:b,comment:o})};return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:24,children:Object(ge.jsx)(Ve.b,{children:Object(ge.jsxs)(tt.b,{title:"",children:[Object(ge.jsx)(tt.b.Item,{label:c("Asset ID"),children:Object(ge.jsx)("a",{href:r.assetUrl,target:"_blank",rel:"noreferrer",children:r.assetId})}),Object(ge.jsx)(tt.b.Item,{label:c("Asset Type"),children:c(r.assetType)}),Object(ge.jsx)(tt.b.Item,{label:c("Comment"),children:r.comment})]})})})}),Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:24,children:Object(ge.jsxs)(Ve.b,{children:[c("Handle Whitelist Comment"),"\uff1a",Object(ge.jsx)(la.a,{placeholder:c("comment placeholder"),onChange:function(e){return l(e.target.value)},style:{width:"300px"}})]})})}),Object(ge.jsx)(w.a,{gutter:16,children:Object(ge.jsx)(A.a,{span:24,children:Object(ge.jsxs)(Ve.b,{children:[Object(ge.jsx)(pe.a,{onClick:function(){return m(J,r.assetId)},type:"primary",size:"small",children:c("Approve Asset Update")}),Object(ge.jsxs)("span",{children:[Object(ge.jsx)(pe.a,{onClick:function(){return m(Y,r.assetId)},danger:!0,size:"small",children:c("Reject Asset Update")}),Object(ge.jsx)(da.a,{placeholder:c("set violationType placeholder"),dropdownMatchSelectWidth:!0,onChange:j,children:Wr.map((function(e){return Object(ge.jsx)(us,{value:e,children:c(e)},e)}))})]}),Object(ge.jsx)(pe.a,{onClick:function(){return m(W,r.assetId)},type:"normal",size:"small",children:c("Ignore Asset Update")})]})})})]})},js=function(e){var t=Object(k.a)().t;return[{title:t("Ticket ID"),dataIndex:"ticketId",width:"10%"},{title:t("Handle Asset Status"),dataIndex:"ticketId",width:"300px",render:function(t,a){return Object(ge.jsx)(bs,{handleAssetStatus:e,ticketId:t,row:a})}}]},ms=Oe.a.Text,hs=function(e){var t=e.tickets,a=e.handlePickTickets,r=e.eventType,c=Object(k.a)().t,i=Object(b.d)().authState,s=Object(d.f)(),o=Object(n.useContext)(D),l=Object(n.useState)(t),u=Object(I.a)(l,2),j=u[0],m=u[1],h=Object(n.useState)([]),O=Object(I.a)(h,2),g=O[0],y=O[1];Object(n.useEffect)((function(){(function(){var e=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=2;break}return e.abrupt("return");case 2:a=t.map((function(e){var t=e.dynamicEvent&&e.dynamicEvent.dataString&&JSON.parse(e.dynamicEvent.dataString);return{key:e.ticketId,ticketId:e.ticketId,assetId:t.AssetId,assetType:t.AssetType,assetUrl:"Bundle"==t.AssetType?"https://www.roblox.com/bundles/".concat(t.AssetId):"https://www.roblox.com/catalog/".concat(t.AssetId),policyLabel:t.PolicyLabel,comment:t.Comment}})),m(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var S,T=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,l,d,u,b,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.ticketId,n=t.assetId,r=t.result,l=t.violationType,d=t.comment,!(u=j.find((function(e){return e.ticketId===a})))){e.next=19;break}if(r!=J&&r!=W){e.next=7;break}l="",e.next=10;break;case 7:if(r!=Y||void 0!=l&&""!=l){e.next=10;break}return N.b.error(c(c("reject asset update must select the violationtype"))),e.abrupt("return");case 10:return b=N.b.loading("",10),e.next=13,je(p.resourceServer.SubmitTicketResult,{ticketId:u.ticketId,moderatorId:o.ModID,actionTargetId:n,result:r,violationType:l,comment:d},i.accessToken.value);case 13:if(m=e.sent,b(),!(200!==m.status||m.data&&m.data.errors)){e.next=18;break}return N.b.error(c("Handle Asset Status failed")),e.abrupt("return");case 18:s.go(0);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N.b.loading("",10),t!==q){e.next=11;break}return e.next=4,he(p.resourceServer.BatchUpdateTicketsStatus,{ticketIds:g,moderatorId:o.ModID,status:"Closed"},i.accessToken.value);case 4:if(n=e.sent,a(),!(200!==n.status||n.data&&n.data.error)){e.next=9;break}return N.b.error(c("Failed to close tickets")),e.abrupt("return");case 9:return s.go(0),e.abrupt("return");case 11:if(t!==H){e.next=20;break}return e.next=14,je(p.resourceServer.BatchSubmitTickets,{ticketIds:g,moderatorId:o.ModID,result:t},i.accessToken.value);case 14:if(r=e.sent,a(),!(200!==r.status||r.data&&r.data.error)){e.next=19;break}return N.b.error(c("Failed to submit tickets")),e.abrupt("return");case 19:s.go(0);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(r===oe.name||r===le.name)&&(S=js(T));var w={onChange:function(e){y(e)}};return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Ve.b,{style:{marginBottom:16},children:t&&0===t.length?Object(ge.jsx)(pe.a,{type:"primary",onClick:function(){return a(oe)},children:c("Pick Tickets")}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(pe.a,{onClick:function(){return C(H)},children:c("Batch re-open tickets")}),Object(ge.jsx)(pe.a,{danger:!0,onClick:function(){return C(q)},children:c("Batch close tickets")}),Object(ge.jsx)(ms,{mark:!0,children:"".concat(g.length," ").concat(c("tickets selected"))})]})}),Object(ge.jsx)(De.a,{dataSource:j,columns:S,size:"small",pagination:!1,scroll:{y:700},rowSelection:Object(x.a)({type:"checkbox"},w)})]})};hs.displayName="AssetStatusUpdateTicketsTable";var ps=hs,Os=function(){var e=Object(k.a)().t,t=Object(d.g)().search,a=Object(b.d)().authState,r=tc(t),c=r.moderatorId,i=r.templateType,s=Object(n.useState)([]),o=Object(I.a)(s,2),l=o[0],u=o[1];Object(n.useEffect)((function(){(function(){var t=Object(v.a)(f.a.mark((function t(){var n,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=N.b.loading("",10),t.next=3,me(p.resourceServer.GetBatchLockedTickets,{templateType:i},a.accessToken.value);case 3:if(r=t.sent,n(),!(200!==r.status||r.data&&r.data.error)){t.next=8;break}return N.b.error(e("Load tickets failed")),t.abrupt("return");case 8:if(0!==(c=r.data&&r.data.data&&r.data.data.ticketList).length){t.next=12;break}return N.b.error(e("No tickets")),t.abrupt("return");case 12:u(c);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[i,c]);var j=function(){var t=Object(v.a)(f.a.mark((function t(n){var r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=N.b.loading("",10),t.next=3,je(p.resourceServer.BatchLockTickets,{ticketPoolId:n.value},a.accessToken.value);case 3:if(c=t.sent,r(),!(200!==c.status||c.data&&c.data.error)){t.next=8;break}return N.b.error(e("Load tickets failed")),t.abrupt("return");case 8:history.go(0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ge.jsxs)("div",{style:{padding:24},children:[Object(ge.jsx)(Rn.a.Content,{style:{background:"#fff",padding:"10px 28px",marginBottom:12},children:Object(ge.jsx)(ec.a,{children:Object(ge.jsx)(ec.a.Item,{children:e("Batch update tickets")})})}),function(e){switch(e){case oe.name:case le.name:return Object(ge.jsx)(ps,{tickets:l,handlePickTickets:j,eventType:e});case $.name:case te.name:return Object(ge.jsx)(cs,{tickets:l,handlePickTickets:j,eventType:e});case ce.name:return Object(ge.jsx)(ds,{tickets:l,handlePickTickets:j,eventType:e});default:return null}}(r.templateType)]})},fs=function(e){var t=e.dataList,a=e.total,n=e.currentPage,r=e.onPageChange,c=e.startTime,i=e.endTime,s=e.pageSize,o=Object(k.a)().t,d=[{title:o("Moderator ID"),dataIndex:"moderatorId",key:"moderatorId",sorter:function(e,t){return e.moderatorId-t.moderatorId}},{title:o("Moderator Email"),dataIndex:"moderatorEmail",key:"moderatorEmail"},{title:o("Locked Ticket Number"),dataIndex:"lockedTicketNumber",key:"lockedTicketNumber",sorter:function(e,t){return e.lockedTicketNumber-t.lockedTicketNumber}},{title:o("Finished Ticket Number"),key:"finishedTicketNumber",sorter:function(e,t){return e.finishedTicketNumber-t.finishedTicketNumber},render:function(e){var t="?moderatorId=".concat(e.moderatorId,"&pageSize=").concat(s);return c&&(t+="&startTime=".concat(c)),i&&(t+="&endTime=".concat(i)),Object(ge.jsx)(l.b,{to:{pathname:"/moderator-finished-ticket-review",search:t},target:"_blank",children:Object(ge.jsx)(pe.a,{type:"link",children:e.finishedTicketNumber})})}},{title:o("Reopened Ticket Number"),key:"reopenedTicketNumber",sorter:function(e,t){return e.reopenedTicketNumber-t.reopenedTicketNumber},render:function(e){var t="?moderatorId=".concat(e.moderatorId,"&pageSize=").concat(s);return c&&(t+="&startTime=".concat(c)),i&&(t+="&endTime=".concat(i)),Object(ge.jsx)(l.b,{to:{pathname:"/moderator-reopened-ticket-review",search:t},target:"_blank",children:Object(ge.jsx)(pe.a,{type:"link",children:e.reopenedTicketNumber})})}},{title:o("Average Game Review Time(sec)"),dataIndex:"averageGameRevTimeInSec",key:"averageGameRevTimeInSec",sorter:function(e,t){return e.averageGameRevTimeInSec-t.averageGameRevTimeInSec}},{title:o("Average User Review Time(sec)"),dataIndex:"averageUserRevTimeInSec",key:"averageUserRevTimeInSec",sorter:function(e,t){return e.averageUserRevTimeInSec-t.averageUserRevTimeInSec}},{title:o("Average Name Review Time(sec)"),dataIndex:"averageNameRevTimeInSec",key:"averageNameRevTimeInSec",sorter:function(e,t){return e.averageNameRevTimeInSec-t.averageNameRevTimeInSec}},{title:o("Average GameInfo Review Time(sec)"),dataIndex:"averageGameInfoRevTimeInSec",key:"averageGameInfoRevTimeInSec",sorter:function(e,t){return e.averageGameInfoRevTimeInSec-t.averageGameInfoRevTimeInSec}},{title:o("Average Asset Review Time(sec)"),dataIndex:"averageAssetRevTimeInSec",key:"averageAssetRevTimeInSec",sorter:function(e,t){return e.averageAssetRevTimeInSec-t.averageAssetRevTimeInSec}}];return Object(ge.jsx)(De.a,{dataSource:t,columns:d,bordered:!0,size:"small",style:{marginTop:24},rowKey:function(e){return e.moderatorId},pagination:{total:a,current:n,pageSize:s,onChange:r,hideOnSinglePage:!1,showSizeChanger:!1}})},vs=a(231),xs=a.n(vs),gs=function(e){if(e)return[{value:"1",type:"ModeratorIds",name:e("Moderator ID"),placeholder:"e.g. 123"},{value:"2",type:"ModeratorEmails",name:e("Moderator Email"),placeholder:"e.g. xxx@xxx.com"}]},Is=Rn.a.Content,ys=la.a.Search,ks=la.a.Group,Ss=da.a.Option,Ts=p.resourceServer;function Cs(e,t,a,n,r,c){var i={ModeratorIds:t,ModeratorEmails:a,PageNum:r,PageSize:c},s=Ts.GetModeratorTicketReviewData;return n&&(i.startTime=n[0],i.endTime=n[1]),be()({method:"post",url:s,data:i,headers:{Authorization:"Bearer ".concat(e)}})}var ws=function(){var e=Object(b.d)().authState,t=Object(k.a)().t,a=Object(n.useContext)(D),r=Object(n.useState)(null),c=Object(I.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(null),l=Object(I.a)(o,2),d=l[0],u=l[1],j=Ue()().subtract(1,"hours").subtract(1,"days").startOf("hour").toISOString(),m=Ue()().subtract(1,"hours").startOf("hour").toISOString(),h=Object(n.useState)([j,m]),p=Object(I.a)(h,2),O=p[0],f=p[1],v=Object(n.useState)([]),x=Object(I.a)(v,2),g=x[0],y=x[1],S=Object(n.useState)(null),T=Object(I.a)(S,2),C=T[0],U=T[1],R=Object(n.useState)(1),G=Object(I.a)(R,2),P=G[0],B=G[1],L=Object(n.useState)(""),z=Object(I.a)(L,2),F=z[0],M=z[1],_=gs(t),W=Object(n.useState)(_[0].value),V=Object(I.a)(W,2),H=V[0],q=V[1];if(!a)return null;function K(e){if(200==e.status){if(e.data.error)return void N.b.error(e.data.error.description);y(e.data.data.items),U(e.data.data.total)}else N.b.error("Request Failed")}return Object(ge.jsx)(Rn.a,{children:Object(ge.jsxs)(Is,{className:xs.a.siteLayoutContent,style:{padding:24,margin:0,minHeight:280},children:[Object(ge.jsx)(fe.a,{bordered:!1,children:Object(ge.jsxs)(w.a,{children:[Object(ge.jsx)(A.a,{span:12,children:Object(ge.jsxs)(ks,{children:[Object(ge.jsxs)("label",{children:[t("Time Range (The smallest unit is hour)")," : "]}),Object(ge.jsx)(gi,{onChange:function(e){f(e)},stripHour:!0,defaultValue:O})]})}),Object(ge.jsx)(A.a,{span:12,children:Object(ge.jsxs)(ks,{children:[Object(ge.jsx)(da.a,{size:"large",defaultValue:_[0].value,onSelect:function(e){e&&(q(e),u(null),s(null),M(""))},children:_.map((function(e){return Object(ge.jsx)(Ss,{value:e.value,children:e.name},e.value)}))}),Object(ge.jsx)(ys,{style:{width:"50%"},placeholder:_.find((function(e){return e.value===H})).placeholder,value:F,allowClear:!0,enterButton:Object(ge.jsx)("span",{children:t("Search")}),size:"large",onSearch:function(){var t=e.accessToken.value;B(1),E(Cs(t,i,d,O,P,20).then(K))},onChange:function(e){var t=e.target.value;t=(t=(t=t.replace(/\s/g,"")).replace(/\t/g,""))?[t]:null,H&&H==_[0].value&&(u(null),s(t)),H&&H==_[1].value&&(s(null),u(t)),M(t)}})]})})]})}),Object(ge.jsx)(fs,{dataList:g,total:C,currentPage:P,onPageChange:function(t){B(t),E(Cs(e.accessToken.value,i,d,O,t,20).then(K))},startTime:O?O[0]:null,endTime:O?O[1]:null,pageSize:20})]})})},As=function(){return Object(ge.jsx)(ws,{})};var Us=function(e){return Ue.a.utc(e).local().format("YYYY-MM-DD HH:mm:ss")},Ds=function(e){var t=e.dataList,a=e.total,n=e.currentPage,r=e.onPageChange,c=e.pageSize,i=Object(k.a)().t,s=[{title:i("Moderator ID"),dataIndex:"moderatorId",key:"moderatorId",sorter:function(e,t){return e.moderatorId-t.moderatorId}},{title:i("Moderator Email"),dataIndex:"moderatorEmail",key:"moderatorEmail"},{title:i("Ticket ID"),dataIndex:"ticketId",key:"ticketId",sorter:function(e,t){return e.ticketId-t.ticketId},render:function(e,t){return"0001-01-01T00:00:00"===t.lockedTime?e+" "+i("Missing Value"):e}},{title:i("Ticket Pool Name"),dataIndex:"ticketPoolName",key:"ticketPoolName",render:function(e){return i(e)}},{title:i("Locked Time"),dataIndex:"lockedTime",key:"lockedTime",sorter:function(e,t){return Ue()(e.lockedTime).unix()-Ue()(t.lockedTime).unix()},render:function(e){if("0001-01-01T00:00:00"!==e)return Us(e)}},{title:i("Submitted Time"),dataIndex:"submittedTime",key:"submittedTime",sorter:function(e,t){return Ue()(e.submittedTime).unix()-Ue()(t.submittedTime).unix()},render:function(e){return Us(e)}},{title:i("Review Time"),dataIndex:"reviewTime",key:"reviewTime",sorter:function(e,t){return e.reviewTime.totalSeconds-t.reviewTime.totalSeconds},render:function(e,t){if("0001-01-01T00:00:00"!==t.lockedTime)return e.days+i("Days")+e.hours+i("Hours")+e.minutes+i("Minutes")+e.seconds+i("Seconds")}}];return Object(ge.jsx)(De.a,{dataSource:t,columns:s,bordered:!0,size:"small",style:{marginTop:24},rowKey:function(e){return e.ticketId},pagination:{total:a,current:n,pageSize:c,onChange:r,hideOnSinglePage:!1,showSizeChanger:!1}})},Ns=p.resourceServer;function Es(e,t,a,n,r,c){var i={moderatorId:t,ticketId:r,pageNum:n,pageSize:c};a&&a[0]&&a[1]&&(i.startTime=a[0],i.endTime=a[1]);var s=Ns.GetModeratorSubmittedTicketData;return be()({method:"get",url:s,params:i,headers:{Authorization:"Bearer ".concat(e)}})}var Rs=function(){var e=Object(b.d)().authState,t=Object(k.a)().t,a=Object(d.g)().search,r=tc(a),c=r.moderatorId,i=r.pageSize,s=r.startTime,o=r.endTime,l=Object(n.useState)([s,o]),u=Object(I.a)(l,2),j=u[0],m=u[1],h=Object(n.useState)(null),p=Object(I.a)(h,2),O=p[0],f=p[1],v=Object(n.useState)([]),x=Object(I.a)(v,2),g=x[0],y=x[1],S=Object(n.useState)(null),T=Object(I.a)(S,2),C=T[0],w=T[1],A=Object(n.useState)(1),U=Object(I.a)(A,2),D=U[0],R=U[1];function G(e){if(200==e.status){if(e.data.error)return void N.b.error(e.data.error.description);y(e.data.data.items),w(e.data.data.total)}else N.b.error("Request Failed")}Object(n.useEffect)((function(){c&&E(Es(e.accessToken.value,c,j,D,O,i).then(G))}),[c]);return c?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(yc.a,{className:"site-page-header",title:t("Moderator")+"  (".concat(c,")  ")+t("Submitted Tickets")}),Object(ge.jsxs)(Ve.b,{children:[Object(ge.jsxs)("label",{children:[t("Time Range (The smallest unit is hour)")," : "]}),Object(ge.jsx)(gi,{onChange:function(e){m(e)},defaultValue:j}),Object(ge.jsxs)("label",{children:[t("Ticket ID")," : "]}),Object(ge.jsx)(la.a,{value:O,onChange:function(e){return function(e){var t=e;t=(t=t.replace(/\s/g,"")).replace(/\t/g,""),f(t=t||null)}(e.target.value)}}),Object(ge.jsx)(pe.a,{type:"primary",onClick:function(){R(1),E(Es(e.accessToken.value,c,j,D,O,i).then(G))},children:t("Search")})]}),Object(ge.jsx)(Ds,{dataList:g,total:C,currentPage:D,onPageChange:function(t){R(t),E(Es(e.accessToken.value,c,j,t,O,i).then(G))},pageSize:i})]}):"Error : No Moderator"},Gs=function(){return Object(ge.jsx)(Rs,{})},Ps=function(e){var t=e.dataList,a=e.total,n=e.currentPage,r=e.onPageChange,c=e.pageSize,i=Object(k.a)().t,s=[{title:i("Moderator ID"),dataIndex:"moderatorId",key:"moderatorId",sorter:function(e,t){return e.moderatorId-t.moderatorId}},{title:i("Moderator Email"),dataIndex:"moderatorEmail",key:"moderatorEmail"},{title:i("Ticket ID"),dataIndex:"ticketId",key:"ticketId",sorter:function(e,t){return e.ticketId-t.ticketId},render:function(e,t){return"0001-01-01T00:00:00"===t.lockedTime?e+" "+i("Missing Value"):e}},{title:i("Ticket Pool Name"),dataIndex:"ticketPoolName",key:"ticketPoolName",render:function(e){return i(e)}},{title:i("Locked Time"),dataIndex:"lockedTime",key:"lockedTime",sorter:function(e,t){return Ue()(e.lockedTime).unix()-Ue()(t.lockedTime).unix()},render:function(e){if("0001-01-01T00:00:00"!==e)return Us(e)}},{title:i("Reopened Time"),dataIndex:"openedTime",key:"openedTime",sorter:function(e,t){return Ue()(e.openedTime).unix()-Ue()(t.openedTime).unix()},render:function(e){return Us(e)}},{title:i("Review Time"),dataIndex:"reviewTime",key:"reviewTime",sorter:function(e,t){return e.reviewTime.totalSeconds-t.reviewTime.totalSeconds},render:function(e,t){if("0001-01-01T00:00:00"!==t.lockedTime)return e.days+i("Days")+e.hours+i("Hours")+e.minutes+i("Minutes")+e.seconds+i("Seconds")}}];return Object(ge.jsx)(De.a,{dataSource:t,columns:s,bordered:!0,size:"small",style:{marginTop:24},rowKey:function(e){return e.ticketId+e.openedTime},pagination:{total:a,current:n,pageSize:c,onChange:r,hideOnSinglePage:!1,showSizeChanger:!1}})},Bs=p.resourceServer;function Ls(e,t,a,n,r,c){var i={moderatorId:t,ticketId:r,pageNum:n,pageSize:c};a&&a[0]&&a[1]&&(i.startTime=a[0],i.endTime=a[1]);var s=Bs.GetModeratorReopenedTicketData;return be()({method:"get",url:s,params:i,headers:{Authorization:"Bearer ".concat(e)}})}var zs=function(){var e=Object(b.d)().authState,t=Object(k.a)().t,a=Object(d.g)().search,r=tc(a),c=r.moderatorId,i=r.pageSize,s=r.startTime,o=r.endTime,l=Object(n.useState)([s,o]),u=Object(I.a)(l,2),j=u[0],m=u[1],h=Object(n.useState)(null),p=Object(I.a)(h,2),O=p[0],f=p[1],v=Object(n.useState)([]),x=Object(I.a)(v,2),g=x[0],y=x[1],S=Object(n.useState)(null),T=Object(I.a)(S,2),C=T[0],w=T[1],A=Object(n.useState)(1),U=Object(I.a)(A,2),D=U[0],R=U[1];function G(e){if(200==e.status){if(e.data.error)return void N.b.error(e.data.error.description);y(e.data.data.items),w(e.data.data.total)}else N.b.error("Request Failed")}Object(n.useEffect)((function(){c&&E(Ls(e.accessToken.value,c,j,D,O,i).then(G))}),[c]);return Object(ge.jsxs)(Rn.a,{children:[Object(ge.jsx)(yc.a,{className:"site-page-header",title:t("Moderator")+"  (".concat(c,")  ")+t("Reopened Tickets")}),Object(ge.jsxs)(Ve.b,{children:[Object(ge.jsxs)("label",{children:[t("Time Range (The smallest unit is hour)")," : "]}),Object(ge.jsx)(gi,{onChange:function(e){m(e)},defaultValue:j}),Object(ge.jsxs)("label",{children:[t("Ticket ID")," : "]}),Object(ge.jsx)(la.a,{value:O,onChange:function(e){return function(e){var t=e;t=(t=t.replace(/\s/g,"")).replace(/\t/g,""),f(t=t||null)}(e.target.value)}}),Object(ge.jsx)(pe.a,{type:"primary",onClick:function(){var t=e.accessToken.value;R(1),E(Ls(t,c,j,D,O,i).then(G))},children:t("Search")})]}),Object(ge.jsx)(Ps,{dataList:g,total:C,currentPage:D,onPageChange:function(t){R(t),E(Ls(e.accessToken.value,c,j,t,O,i).then(G))},pageSize:i})]})},Fs=function(){return Object(ge.jsx)(zs,{})},Ms=p.resourceServer;function _s(e){return be.a.get(p.resourceServer.GetRobloxGameInfoWithGameID+e).then((function(e){if(200==e.status)return e.data.data[0]}))}function Ws(e){var t=e.name,a=e.value;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("span",{style:{color:"#8C8C8C"},children:[t,": "]}),Object(ge.jsx)("span",{style:{marginRight:16},children:a})]})}var Vs=function(){var e=Object(b.d)().authState,t=Object(k.a)().t,a=Object(n.useState)(""),r=Object(I.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)([]),o=Object(I.a)(s,2),l=o[0],d=o[1],u=c.split(/[,|\n|\s]/).filter((function(e){return e})),j=function(){var t=Object(v.a)(f.a.mark((function t(){var a,n,r,c,i,s,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],n=0;case 2:if(!(n<u.length)){t.next=24;break}return t.next=5,l=u[n],b=e.accessToken.value,be()({method:"get",url:p.resourceServer.GetPlacesUnderGameId,params:{gameId:l},headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){if(200==e.status&&e.data&&e.data.data)return e.data.data}));case 5:return r=t.sent,t.next=8,_s(u[n]);case 8:c=t.sent,i={gameId:u[n],places:r,gameInfo:c},a.push(i),s=0;case 12:if(!(s<r.length)){t.next=20;break}return t.next=15,be()({method:"GET",url:Ms.GetPlaceVersionPolicyLabels,params:{placeId:r[s].id,policyLabel:"ChinaWhitelist",status:"Approved",pageSize:10},headers:{Authorization:"Bearer ".concat(e.accessToken.value)}});case 15:200==(o=t.sent).status&&o.data&&o.data.data&&(r[s].approvedVersionNumbers=o.data.data.body.versionNumbers);case 17:s++,t.next=12;break;case 20:d(a.map((function(e){return e})));case 21:n++,t.next=2;break;case 24:case"end":return t.stop()}var l,b}),t)})));return function(){return t.apply(this,arguments)}}();return Object(ge.jsxs)("div",{style:{padding:24},children:[Object(ge.jsxs)(rc.a,{layout:"inline",children:[Object(ge.jsx)(yc.a,{title:t("MASS QUERY PLACE VERSION DATA")}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:Object(ge.jsx)(A.a,{span:20,style:{marginBottom:12,marginTop:24},children:Object(ge.jsx)(rc.a.Item,{label:t("Universe IDs"),name:"ids",required:!0,children:Object(ge.jsx)(la.a.TextArea,{rows:10,onChange:function(e){return i(e.target.value)}})})})}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:t("Note Please enter IDs separated by spaces, commas, or new lines")}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:Object(ge.jsx)(pe.a,{style:{marginTop:12,marginRight:20},type:"primary",htmlType:"submit",onClick:function(){return G(j(),t)},children:t("Query")})})]}),Object(ge.jsx)("div",{children:l.map((function(e){var a;return Object(ge.jsxs)("div",{style:{marginTop:24,padding:12,backgroundColor:"#fff",fontSize:12,lineHeight:"2"},children:[Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Ws,{name:t("Game Name"),value:null===(a=e.gameInfo)||void 0===a?void 0:a.name}),Object(ge.jsx)(Ws,{name:t("Game ID"),value:e.gameId})]}),e.places&&e.places.map((function(e){return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Ws,{name:t("placeId"),value:e.id}),Object(ge.jsx)(Ws,{name:t("Place Name"),value:e.name}),Object(ge.jsx)(Ws,{name:t("Latest Published Version"),value:e.versionNumber}),Object(ge.jsx)(Ws,{name:t("Approved Versions"),value:e.approvedVersionNumbers.map((function(e){return Object(ge.jsxs)("span",{children:[Object(ge.jsx)(Oe.a.Text,{code:!0,children:e}),","]},e)}))})]},e.id)}))]},e.gameId)}))})]})},Hs=Rn.a.Content,qs=p.resourceServer,Ks=function(){var e=Object(b.d)().authState,t=Object(n.useState)([]),a=Object(I.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),s=Object(I.a)(i,2),o=s[0],l=s[1],u=Object(n.useState)(1),j=Object(I.a)(u,2),m=j[0],h=j[1],p=Object(k.a)().t,O=Object(d.g)().search,x=tc(O),g=x.Asset,y=x.Bundle,S=g?["Asset",g]:["Bundle",y],T=Object(I.a)(S,2),C=T[0],U=T[1],D=p(C)+":"+U+" "+p("Whitelist Record"),E=function(){var t=Object(v.a)(f.a.mark((function t(){var a,n,r,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.accessToken.value,n=qs.AllowlistUpdateHistory,r={assetId:U,pageNum:m,pageSize:10},t.next=5,me(n,r,a);case 5:if(200!=(i=t.sent).status){t.next=14;break}if(!i.data.error){t.next=10;break}return N.b.error(i.data.error.description),t.abrupt("return");case 10:c(i.data.data.items),l(i.data.data.total),t.next=15;break;case 14:N.b.error(p("Search Fail"));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=[{title:p("ActionTime"),dataIndex:"createdUtc",key:"createdUtc",width:"10%",render:function(e){return st(Ue.a.utc(e).toDate())}},{title:p("Operator"),dataIndex:"operatorEmail",key:"operatorEmail",width:"10%"},{title:p("ActionContent"),dataIndex:"action",key:"action",PageHeader:yc.a,width:"10%",render:p}];return Object(n.useEffect)((function(){E()}),[m]),Object(ge.jsx)(Rn.a,{children:Object(ge.jsxs)(Hs,{style:{padding:24,margin:0,minHeight:280},children:[Object(ge.jsx)(yc.a,{title:D}),Object(ge.jsx)(kc.a,{}),r&&Object(ge.jsx)(fe.a,{bordered:!1,children:Object(ge.jsx)(w.a,{children:Object(ge.jsx)(A.a,{span:24,children:Object(ge.jsx)(De.a,{dataSource:r,columns:R,size:"small",bordered:!0,rowKey:function(e){return e.createdUtc},pagination:{total:o,current:m,position:["bottomRight"],pageSize:10,onChange:function(e){h(e)},hideOnSinglePage:!0,showSizeChanger:!1}},"AssetsAllowlistLogTable")})})})]})})},Js=p.resourceServer,Ys=function(){var e=Object(b.d)().authState,t=Object(k.a)().t,a=Object(n.useState)(""),r=Object(I.a)(a,2),c=r[0],i=r[1],s=function(){var a=Object(v.a)(f.a.mark((function a(){var n;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,be()({method:"POST",url:Js.CloseGame,data:c.replace(/[\n|\s]/g,""),headers:{Authorization:"Bearer ".concat(e.accessToken.value),"Content-Type":"Application/json"}});case 2:200!=!(n=a.sent).status&&n.data?N.b.info(t("Succeeded to close this place's game servers")):N.b.error(t("Failed to close this place's game servers"));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(ge.jsx)("div",{style:{padding:24},children:Object(ge.jsxs)(rc.a,{layout:"inline",children:[Object(ge.jsx)(yc.a,{title:t("Close One Place's Game Servers In Luobu")}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:Object(ge.jsx)(A.a,{span:20,style:{marginBottom:12,marginTop:24},children:Object(ge.jsx)(rc.a.Item,{label:t("PlaceID"),name:"id",required:!0,children:Object(ge.jsx)(la.a,{onChange:function(e){return i(e.target.value)},style:{width:300}})})})}),Object(ge.jsx)(w.a,{style:{width:"100%"},children:Object(ge.jsx)(ui.a,{title:t("Are you sure to close this place's servers?"),onConfirm:function(){return G(s(),t)},okText:t("Yes"),cancelText:t("No"),children:Object(ge.jsx)(pe.a,{style:{marginTop:12,marginRight:20},type:"primary",danger:!0,htmlType:"submit",children:t("Close Game")})})})]})})};a(366);function Qs(){var e=Object(b.d)().oktaAuth,t=Object(k.a)().t,a=function(){var t=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.signInWithRedirect();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(ge.jsxs)("div",{className:"un-auth",children:[Object(ge.jsx)("p",{children:t("No Access")}),Object(ge.jsx)("p",{children:t("Please Sign In")}),Object(ge.jsx)("p",{children:Object(ge.jsx)(pe.a,{type:"primary",onClick:a,children:t("Login")})})]})}var Zs=a(158),Xs=a(65),$s=a(232),eo=a.n($s);function to(e){var t=e.loadText,a=Object(n.useState)(!1),r=Object(I.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){i(!0)}),3e3);return function(){clearTimeout(e)}})),Object(ge.jsxs)("div",{className:eo.a.spin,children:[Object(ge.jsx)(Zs.a,{indicator:Object(ge.jsx)(Xs.a,{}),size:"large"}),c?Object(ge.jsx)("div",{children:t}):null]})}var ao=a(184),no=a.n(ao),ro=a(395),co=a(396),io=a(397),so=a(398),oo=a(399),lo=a(91),uo=a(400),bo=[{name:"Ticket Management",icon:Object(ge.jsx)(ro.a,{}),children:[{name:"Ticket Dashboard",link:"/",icon:Object(ge.jsx)(co.a,{})},{name:"Ticket Query",link:"/ticketquery",icon:Object(ge.jsx)(xe.a,{})},{name:"My Tickets",link:"/mytickets",icon:Object(ge.jsx)(xe.a,{})},{name:"My Locked Tickets",link:"/mylockedtickets",icon:Object(ge.jsx)(io.a,{})}]},{name:"Allowlist Management",icon:Object(ge.jsx)(so.a,{}),children:[{name:"Toolbox Assets Allowlist",link:"/assetsallowlist",icon:Object(ge.jsx)(ro.a,{})},{name:"Game Allowlist",link:"/gameallowlist",icon:Object(ge.jsx)(ro.a,{})},{name:"Asset Management Panel",link:"/asset-management-panel",icon:Object(ge.jsx)(xe.a,{})}]},{name:"User Management",icon:Object(ge.jsx)(oo.a,{}),children:[{name:"Ban User",link:"/banuser",icon:Object(ge.jsx)(lo.a,{})}]},{name:"Game Dashboard",icon:Object(ge.jsx)(ro.a,{}),children:[{name:"Overview",link:"/gamestatusmetrics",icon:Object(ge.jsx)(co.a,{})},{name:"Game Allowlist History",link:"/gamestatushistory",icon:Object(ge.jsx)(xe.a,{})},{name:"Game Sort Info",link:"/gamesortinfo",icon:Object(ge.jsx)(xe.a,{})},{name:"Place Version Allowlist Query",link:"/gamewhitelistquery",icon:Object(ge.jsx)(xe.a,{})},{name:"Close Game",link:"/close-game",icon:Object(ge.jsx)(uo.a,{})}]},{name:"Action History",icon:Object(ge.jsx)(xe.a,{}),children:[{name:"Search",link:"/actionhistory",icon:Object(ge.jsx)(xe.a,{})}]},{name:"Data Dashboard",icon:Object(ge.jsx)(xe.a,{}),children:[{name:"Moderator",link:"/moderator-ticket-review",icon:Object(ge.jsx)(oo.a,{})}]}],jo=[{name:"Ticket Management",icon:Object(ge.jsx)(ro.a,{}),children:[{name:"Ticket Dashboard",link:"/",icon:Object(ge.jsx)(co.a,{})},{name:"Ticket Query",link:"/ticketquery",icon:Object(ge.jsx)(xe.a,{})},{name:"My Tickets",link:"/mytickets",icon:Object(ge.jsx)(xe.a,{})},{name:"My Locked Tickets",link:"/mylockedtickets",icon:Object(ge.jsx)(io.a,{})}]},{name:"Game Dashboard",icon:Object(ge.jsx)(ro.a,{}),children:[{name:"Overview",link:"/gamestatusmetrics",icon:Object(ge.jsx)(co.a,{})},{name:"Game Allowlist History",link:"/gamestatushistory",icon:Object(ge.jsx)(xe.a,{})}]}],mo=Rn.a.Sider,ho=nr.a.SubMenu,po=function(e){var t=e.currentPage,a=Object(k.a)().t,r=Object(n.useContext)(D);if(!r)return null;var c=jo;return r.groups&&r.groups.find((function(e){return"LuobuModerationManager"===e}))&&(c=bo),Object(ge.jsx)(mo,{width:250,className:no.a.site_layout_background,children:Object(ge.jsx)(nr.a,{className:no.a.menu,mode:"inline",defaultSelectedKeys:[t],defaultOpenKeys:c.filter((function(e){return e.children})).map((function(e){return e.name})),children:c.map((function(e){return e.children?Object(ge.jsx)(ho,{title:a(e.name),icon:e.icon,children:e.children.map((function(e){return Object(ge.jsx)(nr.a.Item,{icon:e.icon,children:Object(ge.jsx)(l.b,{to:e.link,children:a(e.name)})},e.link)}))},e.name):Object(ge.jsx)(nr.a.Item,{icon:e.icon,children:Object(ge.jsx)(l.b,{to:e.link,children:Object(ge.jsx)("a",{children:a(e.name)})})},e.link)}))})})},Oo=a(169),fo=a.n(Oo),vo=da.a.Option,xo=["en","zh"],go={en:"English",zh:"\u4e2d\u6587"},Io=function(){var e=Object(k.a)().i18n,t=Object(n.useState)(e.language),a=Object(I.a)(t,2),r=a[0],c=a[1];return Object(ge.jsx)(da.a,{value:r,onChange:function(t){c(t),e.changeLanguage(t)},dropdownMatchSelectWidth:!1,children:xo.map((function(e){return Object(ge.jsx)(vo,{value:e,children:go[e]},e)}))})},yo=Oe.a.Text,ko=Rn.a.Header,So=function(){var e=Object(k.a)().t,t=Object(b.d)(),a=t.authState,r=t.oktaAuth,c=Object(n.useContext)(D),i=a.isAuthenticated?Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return r.signOut()},children:e("logout")}):Object(ge.jsx)(pe.a,{type:"link",onClick:function(){return r.signIn()},children:e("login")});return Object(ge.jsxs)(ko,{className:fo.a.header,children:[Object(ge.jsx)("div",{className:fo.a.logo,children:e("logo")}),Object(ge.jsx)("div",{className:fo.a.header_nav,children:Object(ge.jsxs)(Ve.b,{size:20,children:[Object(ge.jsx)(Io,{}),c&&Object(ge.jsx)(yo,{type:"warning",children:c.name}),Object(ge.jsx)("div",{children:i})]})})]})},To=Rn.a.Content,Co=function(e){var t,a=e.children,r=Object(k.a)().t,c=Object(d.g)().pathname,i=Object(b.d)(),s=i.authState,o=i.oktaAuth,l=Object(n.useState)(null),u=Object(I.a)(l,2),j=u[0],m=u[1];return t=s.isAuthenticated?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(po,{currentPage:c}),Object(ge.jsx)(Rn.a,{style:{height:"100%",overflow:"auto"},children:Object(ge.jsx)(To,{children:a})})]}):Object(ge.jsx)(Qs,{}),s.isPending&&!s.isAuthenticated&&(t=Object(ge.jsx)(to,{loadText:r("If page is loading forever, check with your IT manager to see if you have access to this Okta application first.")})),Object(n.useEffect)((function(){s.isAuthenticated&&o.getUser().then((function(e){m(e)}))}),[s,o]),Object(ge.jsxs)(D.Provider,{value:j,children:[Object(ge.jsx)(So,{}),Object(ge.jsx)(Rn.a,{className:"page-frame",children:Object(ge.jsx)(Rn.a,{children:t})})]})},wo=a(186),Ao=a(132),Uo=a(233);wo.a.use(Uo.a).use(Ao.e).init({resources:{en:{translations:{ticket:"Ticket",login:"Login",logo:"Moderation System",logout:"Logout",ticektId:"Ticekt ID",eventType:"Event Type",createdUtc:"Created Time",gameId:"Game ID",placeId:"Place ID",creatorId:"Creator ID",versionNumber:"Version Number",status:"Status",dashboard:"Ticket Pools",submitterUserId:"Submitter User ID",accusedUserId:"Accused User ID",startUtc:"Start at (Time)",endUtc:"End at (Time)",Locked:"Locked",Finished:"Finished",Closed:"Closed",desctrue:"Newest First",descfalse:"Oldest First",desc:"Order",ticketId:"Ticket ID",moderatorId:"Moderator ID",category:"Category",comment:"Comment",chat:"Chat History",UserInGameAbuseReport:"User Reported from Game",UserInAppAbuseReport:"User Reported from APP",PlaceInGameAbuseReport:"Game Reported from Game",PlaceUpdated:"Place Update",PlaceInAppAbuseReport:"Game Reported from APP",AssetLabelAsset:"Asset",AssetLabelUniverse:"Universe",AssetLabelBundle:"Bundle",AssetLabelAssetHash:"AssetHash",PolicyLabelNone:"None",PolicyLabelGlobal:"Global",PolicyLabelCommercialChina:"CommercialChina",PolicyLabelLicenseBuildChina:"LicenseBuildChina",PolicyLabelXbox:"Xbox",PolicyLabelKidsGlobal:"KidsGlobal",gameStatus:"Game Status",nowUnknown:"Current Number of Unknown games",nowInReview:"Current Number of InReview games",nowApproved:"Current Number of Approved games",nowRejected:"Current Number of Rejected games",changeIn15MinsAddedToWhiteList:"Games added to Whitelist in 15min",changeIn15MinsRemovedFromWhiteList:"Games removed from Whitelist in 15min",changeIn15MinsNumOfDeclinesPlaceUpdated:"Games removed from Whitelist by Place Update in 15min","Asset ID":"Asset ID","Asset IdType":"Asset IdType","Asset PolicyLabel":"Asset PolicyLabel","Asset Current Status":"Asset Current Status","Asset Pending Status":"Asset Pending Status","Handle Asset Status":"Handle Asset Status","Approve Asset Update":"Approve","Reject Asset Update":"Reject","Ignore Asset Update":"Ignore","Handle Asset Status failed":"Handle Asset Status failed","Auth Remark":"Auth Remark"}},zh:{translations:{ticket:"\u5de5\u5355",login:"\u767b\u5f55",logo:"\u5ba1\u6838\u7cfb\u7edf",logout:"\u767b\u51fa","Ticket Management":"\u5de5\u5355\u7ba1\u7406","Ticket Dashboard":"\u5de5\u5355\u6c60","Ticket Query":"\u5de5\u5355\u67e5\u8be2","Moderator Management":"\u5ba1\u6838\u5458\u7ba1\u7406","Moderator List":"\u5ba1\u6838\u5458\u5217\u8868","Ticket Information":"\u5de5\u5355\u4fe1\u606f",ticektId:"\u5de5\u5355ID",moderatorId:"\u5ba1\u6838\u5458ID",eventType:"\u5de5\u5355\u7c7b\u578b",createdUtc:"\u521b\u5efa\u65f6\u95f4",operation:"\u64cd\u4f5c",operator:"\u64cd\u4f5c\u5458",gameId:"\u6e38\u620fID",placeId:"\u573a\u666fID(Place ID)",creatorId:"\u521b\u4f5c\u8005ID",versionNumber:"\u7248\u672c\u53f7",status:"\u72b6\u6001","Ticket Result":"\u5de5\u5355\u7ed3\u679c","Add some comment":"\u6dfb\u52a0\u8bc4\u8bba","Ban User For":"\u5c01\u7981\u7528\u6237","1 day":"1\u5929","3 days":"3\u5929","7 days":"7\u5929","14 days":"14\u5929","30 days":"30\u5929",seconds:"\u79d2","One year":"\u4e00\u5e74","Don't Ban User":"\u4e0d\u5c01\u7981\u7528\u6237","Repoen This Ticket With Comment":"\u91cd\u65b0\u6253\u5f00\u5de5\u5355(\u9644\u5e26\u8bc4\u8bba)","Repoen This Ticket":"\u91cd\u65b0\u6253\u5f00\u5de5\u5355","Ticket Result List":"\u5de5\u5355\u7ed3\u679c\u5217\u8868","with comment":"\u9644\u5e26\u8bc4\u8bba","Ticket Detail":"\u5de5\u5355\u8be6\u60c5",dashboard:"\u5de5\u5355\u6c60",submitterUserId:"\u4e3e\u62a5\u8005ID",accusedUserId:"\u88ab\u4e3e\u62a5\u8005ID",startUtc:"\u4ee5\u6b64\u65f6\u95f4\u5f00\u59cb",endUtc:"\u4ee5\u6b64\u65f6\u95f4\u7ed3\u675f","Closed Ticket Count":"\u5df2\u5173\u95ed\u7684\u5de5\u5355\u6570\u91cf","Pick a Ticket":"\u9886\u53d6\u5de5\u5355","Finished Ticket Count":"\u5df2\u5904\u7406\u7684\u5de5\u5355\u6570\u91cf","Opened Ticket Count":"\u5f85\u5904\u7406\u7684\u5de5\u5355\u6570\u91cf","Locked Ticket Count":"\u5df2\u9501\u5b9a\u7684\u5de5\u5355\u6570\u91cf",UserInGameAbuseReport:"\u6e38\u620f\u5185\u4e3e\u62a5\u7528\u6237",UserInAppAbuseReport:"APP\u5185\u4e3e\u62a5\u7528\u6237",Open:"\u5f85\u5904\u7406",PlaceInGameAbuseReport:"\u6e38\u620f\u5185\u4e3e\u62a5\u6e38\u620f",PlaceUpdated:"\u6e38\u620f\u573a\u666f(Place)\u66f4\u65b0",PlaceInAppAbuseReport:"APP\u5185\u4e3e\u62a5\u6e38\u620f",Locked:"\u5df2\u9501\u5b9a",Finished:"\u5df2\u5904\u7406",Closed:"\u5df2\u5173\u95ed",desctrue:"\u7531\u65b0\u5230\u65e7",descfalse:"\u7531\u65e7\u5230\u65b0",desc:"\u6392\u5217\u987a\u5e8f",Submit:"\u63d0\u4ea4","Ticket ID":"\u5de5\u5355ID",Status:"\u72b6\u6001","Created Time":"\u521b\u5efa\u65f6\u95f4","Updated Time":"\u66f4\u65b0\u65f6\u95f4",Actions:"\u64cd\u4f5c",View:"\u67e5\u770b",ticketId:"\u5de5\u5355ID","Remove Game From Whitelist":"\u5c06\u6e38\u620f\u4ece\u767d\u540d\u5355\u79fb\u9664","Add Game to Whitelist":"\u5c06\u6e38\u620f\u52a0\u5165\u767d\u540d\u5355",category:"\u7c7b\u522b",comment:"\u4e3e\u62a5\u7406\u7531",chat:"\u804a\u5929\u8bb0\u5f55","Show Ticket History":"\u663e\u793a\u5de5\u5355\u64cd\u4f5c\u5386\u53f2","Submitter Information":"\u53d1\u8d77\u4e3e\u62a5\u7684\u7528\u6237\u4fe1\u606f","Account Create Date":"\u8d26\u53f7\u521b\u5efa\u65f6\u95f4","User Name":"\u7528\u6237\u8d26\u53f7","Ban Status":"\u5c01\u7981\u72b6\u6001",name:"\u540d\u79f0","Accused User Information":"\u88ab\u4e3e\u62a5\u7684\u7528\u6237\u4fe1\u606f","Game Information":"\u6e38\u620f\u4fe1\u606f","Game ID":"\u6e38\u620fID(Game ID/Universe ID)","Creator Type":"\u521b\u4f5c\u8005\u7c7b\u578b","Creator ID":"\u521b\u4f5c\u8005ID","Game Name":"\u6e38\u620f\u540d","Creator Name":"\u521b\u4f5c\u8005\u540d\u79f0","Not Banned":"\u672a\u5c01\u7981",Banned:"\u5df2\u5c01\u7981","My Tickets":"\u6211\u7684\u5de5\u5355","My Locked Tickets":"\u6211\u5df2\u9501\u5b9a\u7684\u5de5\u5355","Hide Ticket History":"\u9690\u85cf\u5de5\u5355\u64cd\u4f5c\u5386\u53f2","Moderator ID":"\u5ba1\u6838\u5458ID","Changed Ticket Status To":"\u5c06\u5de5\u5355\u72b6\u6001\u53d8\u66f4\u4e3a","Close This Ticket":"\u5173\u95ed\u5de5\u5355",Search:"\u641c\u7d22","No Access":"\u65e0\u8bbf\u95ee\u6743\u9650","Please Sign In":"\u8bf7\u767b\u5f55\u8d26\u53f7",Login:"\u767b\u5f55","If page is loading forever, check with your IT manager to see if you have access to this Okta application first.":"\u5982\u679c\u9875\u9762\u4e00\u76f4\u663e\u793a\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u8054\u7cfbIT\u68c0\u67e5\u60a8\u662f\u5426\u6709\u6743\u9650\u8bbf\u95ee\u8fd9\u4e2aOkta\u5e94\u7528\u3002","Submitter User":"\u63d0\u4ea4\u4e3e\u62a5\u8005","Accused User":"\u88ab\u4e3e\u62a5\u8005","MASS SET POLICY LABEL":"\u6279\u91cf\u8bbe\u7f6e\u653f\u7b56\u6807\u7b7e","This page is for setting a policy label on multiple ids":"\u6b64\u9875\u9762\u7528\u4e8e\u8bbe\u7f6e\u591a\u4e2a ID \u7684\u653f\u7b56\u6807\u7b7e","Select ID Type":"\u9009\u62e9 ID \u7c7b\u578b","Select Policy":"\u9009\u62e9\u653f\u7b56","Add Label":"\u6dfb\u52a0\u6807\u7b7e","Note Please enter IDs separated by spaces, commas, or new lines":"\u6ce8 \u8bf7\u8f93\u5165\u9700\u8981\u8bbe\u7f6e\u7684ID\uff0c\u4ee5\u7a7a\u683c\u3001\u9017\u53f7\u6216\u6362\u884c\u7b26\u5206\u9694","Toolbox Assets Allowlist":"\u7d20\u6750\u767d\u540d\u5355","Change submitted":"\u5df2\u6210\u529f\u63d0\u4ea4\u66f4\u6539","Allowlist Management":"\u767d\u540d\u5355\u7ba1\u7406","Game Allowlist":"\u6e38\u620f\u767d\u540d\u5355","Game Dashboard":"\u6e38\u620f\u76d1\u63a7\u5217\u8868","last Online Time":"\u4e0a\u6b21\u5728\u7ebf\u65f6\u95f4",Overview:"\u603b\u89c8","Game Allowlist History":"\u6e38\u620f\u767d\u540d\u5355\u5386\u53f2\u8bb0\u5f55","Game Status Dashboard":"\u6e38\u620f\u72b6\u6001\u76d1\u63a7\u770b\u677f",gameStatus:"\u6e38\u620f\u72b6\u6001",nowUnknown:"\u5f53\u524d\u7684 Unknown \u72b6\u6001\u6570",nowInReview:"\u5f53\u524d\u7684 InReview \u72b6\u6001\u6570",nowApproved:"\u5f53\u524d\u7684 Approved \u72b6\u6001\u6570",nowRejected:"\u5f53\u524d\u7684 Rejected \u72b6\u6001\u6570",changeIn15MinsAddedToWhiteList:"15\u5206\u949f\u5185\u52a0\u5165\u767d\u540d\u5355\u7684\u6e38\u620f\u6570\u91cf",changeIn15MinsRemovedFromWhiteList:"15\u5206\u949f\u5185\u79fb\u9664\u767d\u540d\u5355\u7684\u6e38\u620f\u6570\u91cf",changeIn15MinsNumOfDeclinesPlaceUpdated:"15\u5206\u949f\u5185\u56e0\u6e38\u620f\u573a\u666f\u66f4\u65b0\u79fb\u9664\u767d\u540d\u5355\u7684\u6e38\u620f\u6570\u91cf",UnknownGameIdList:"\u5f53\u524d\u72b6\u6001\u4e3aUnknown\u7684\u6e38\u620f\u5217\u8868",InReviewGameIdList:"\u5f53\u524d\u72b6\u6001\u4e3aInReview\u7684\u6e38\u620f\u5217\u8868",ApprovedGameIdList:"\u5f53\u524d\u72b6\u6001\u4e3aApproved\u7684\u6e38\u620f\u5217\u8868",RejectedGameIdList:"\u5f53\u524d\u72b6\u6001\u4e3aRejected\u7684\u6e38\u620f\u5217\u8868",AddedToWhiteListGameIdList:"15\u5206\u949f\u5185\u52a0\u5165\u767d\u540d\u5355\u7684\u6e38\u620f\u5217\u8868",RemovedFromWhiteListGameIdList:"15\u5206\u949f\u5185\u79fb\u9664\u767d\u540d\u5355\u7684\u6e38\u620f\u5217\u8868",RemovedFromWhiteListByPlaceUpdateGameIdList:"15\u5206\u949f\u5185\u56e0\u6e38\u620f\u573a\u666f\u66f4\u65b0\u79fb\u9664\u767d\u540d\u5355\u7684\u6e38\u620f\u5217\u8868","Time Range (The smallest unit is hour)":"\u65f6\u95f4\u8303\u56f4 (\u6700\u5c0f\u7cbe\u5ea6\u4e3a\u5c0f\u65f6)","Time Range":"\u65f6\u95f4\u8303\u56f4","Old Whitelist Status":"\u65e7\u7684\u767d\u540d\u5355\u72b6\u6001","New Whitelist Status":"\u65b0\u7684\u767d\u540d\u5355\u72b6\u6001","User Management":"\u7528\u6237\u7ba1\u7406","Search user":"\u641c\u7d22\u7528\u6237","User ID":"\u7528\u6237ID","User Open ID":"\u7528\u6237OpenID","Search Result":"\u641c\u7d22\u7ed3\u679c","User Display Name":"\u7528\u6237\u663e\u793a\u540d","Moderation Action":"\u5ba1\u6838\u64cd\u4f5c","Ban User":"\u5c01\u7981\u7528\u6237","Unban User":"\u89e3\u7981\u7528\u6237","Note to user":"\u7528\u6237\u53ef\u89c1\u5c01\u7981\u539f\u56e0","Ban/Unban action history for user":"\u5c01\u7981\u6216\u89e3\u7981\u64cd\u4f5c\u8bb0\u5f55","Action Type":"\u64cd\u4f5c\u7c7b\u578b","Period From":"\u5c01\u7981\u5f00\u59cb\u65e5\u671f","Period To":"\u5c01\u7981\u7ed3\u675f\u65e5\u671f","Action Date":"\u64cd\u4f5c\u65e5\u671f",Normal:"\u6b63\u5e38","Searching for user: ":"\u641c\u7d22\u7528\u6237\uff1a","Ban user failed":"\u5c01\u7981\u7528\u6237\u5931\u8d25\u3002\u9519\u8bef\uff1a","Ban user successful":"\u5c01\u7981\u7528\u6237\u6210\u529f","Unban user failed":"\u89e3\u7981\u7528\u6237\u5931\u8d25\u3002\u9519\u8bef\uff1a","Unban user successful":"\u89e3\u7981\u7528\u6237\u6210\u529f","Enter custom ban period":"\u8bf7\u8f93\u5165\u81ea\u5b9a\u4e49\u5c01\u7981\u5929\u6570","You are going to ban user":"\u662f\u5426\u786e\u8ba4\u8981\u5c01\u7981\u7528\u6237\uff1a","You are going to unban user":"\u662f\u5426\u786e\u8ba4\u8981\u89e3\u7981\u7528\u6237\uff1a",Custom:"\u81ea\u5b9a\u4e49",Confirm:"\u786e\u8ba4",Cancel:"\u53d6\u6d88","Ban period":"\u5c01\u7981\u65f6\u957f","Get history":"\u67e5\u8be2\u8bb0\u5f55","Action History":"\u64cd\u4f5c\u8bb0\u5f55\u67e5\u8be2","Moderator Email":"\u5ba1\u6838\u4eba\u5458\u90ae\u4ef6","Select search criteria":"\u9009\u62e9\u641c\u7d22\u6807\u51c6","Note to User":"\u5c01\u7981\u7528\u6237\u4fe1\u606f","Select Ban/Unban":"\u9009\u62e9\u5c01\u7981\u6216\u89e3\u7981","Get recent ban status":"\u67e5\u8be2\u6700\u8fd1\u5c01\u7981\u72b6\u6001","Punishment Type Description":"\u5c01\u7981\u7c7b\u578b",description:"\u63cf\u8ff0","Punishment Id":"\u5c01\u7981ID","Message To User":"\u7528\u6237\u63a5\u6536\u6d88\u606f\u5185\u5bb9","Punished User Id":"\u5c01\u7981\u7528\u6237ID","Get recent ban status for user":"\u6700\u8fd1\u5c01\u7981\u72b6\u6001","Change display name to default user name":"\u6539\u6210\u9ed8\u8ba4\u7528\u6237\u540d","Current Display Name":"\u5f53\u524d\u7528\u6237\u6635\u79f0","Display Name Pending Review":"\u5f85\u5ba1\u6838\u7528\u6237\u6635\u79f0","Current display name not equal to the pending review version. Please close the ticket.":"\u5f53\u524d\u7528\u6237\u6635\u79f0\u4e0d\u540c\u4e8e\u5f85\u5ba1\u6838\u6635\u79f0\uff0c\u8bf7\u5173\u95ed\u8fd9\u4e2a\u5de5\u5355\u3002","Creator Contact Email":"\u5f00\u53d1\u8005\u8054\u7cfb\u90ae\u7bb1","Change User Display Name":"\u66f4\u6539\u7528\u6237\u540d","Pick Tickets":"\u6279\u91cf\u9886\u53d6\u5de5\u5355","Batch update tickets":"\u6279\u91cf\u5904\u7406\u5de5\u5355",Warning:"\u8b66\u544a","Batch set default user name":"\u6279\u91cf\u8bbe\u7f6e\u9ed8\u8ba4\u7528\u6237\u540d","Batch close tickets":"\u6279\u91cf\u5173\u95ed\u5de5\u5355","Batch re-open tickets":"\u6279\u91cf\u6253\u5f00\u5de5\u5355","Is Ticket Outdated":"\u5de5\u5355\u662f\u5426\u5931\u6548",Outdated:"\u5df2\u5931\u6548","Load tickets failed":"\u52a0\u8f7d\u5de5\u5355\u5931\u8d25","No tickets":"\u6ca1\u6709\u5de5\u5355","Failed to close tickets":"\u6279\u91cf\u5173\u95ed\u5de5\u5355\u5931\u8d25","Successfully closed tickets":"\u6210\u529f\u6279\u91cf\u5173\u95ed\u5de5\u5355","Locked tickets":"\u5df2\u9501\u5b9a\u7684\u5de5\u5355",DisplayNameChangeEvent:"\u7528\u6237\u6635\u79f0\u6539\u52a8\u4e8b\u4ef6",AssetStatusUpdateEvent_Avatar:"\u7d20\u6750\uff08Avatar\uff09\u5ba1\u6838",AssetStatusUpdateEvent_Toolbox:"\u7d20\u6750\uff08Toolbox\uff09\u5ba1\u6838","Game Sort Dashboard":"\u6e38\u620f\u5206\u7c7b\u770b\u677f","Game Sort Info":"\u6e38\u620f\u5206\u7c7b\u4fe1\u606f","Select a sort type":"\u9009\u62e9\u6e38\u620f\u5206\u7c7b\u540d","game add in to sort: ":"\u6e38\u620f\u52a0\u5165\u5206\u7c7b","game already in the sort no need to add: ":"\u6e38\u620f\u5df2\u7ecf\u5728\u5206\u7c7b\u4e2d\uff0c\u4e0d\u7528\u518d\u6b21\u52a0\u5165","Upload Sort":"\u63d0\u4ea4\u66f4\u65b0\u5206\u7c7b","Add to Game Sort":"\u6e38\u620f\u52a0\u5165\u5206\u7c7b","tickets selected":"\u6761\u5de5\u5355\u5df2\u88ab\u9009\u62e9",GameInformationUpdateEvent:"\u6e38\u620f\u4fe1\u606f\u66f4\u65b0","Violation words":"\u8fdd\u89c4\u8bcd\u6c47","Rescan type":"\u56de\u626b\u7c7b\u578b",DisplayNameRescanEvent:"\u6635\u79f0\u56de\u626b",DisplayNameOnlineRescanEvent:"\u6635\u79f0\u7ebf\u4e0a\u56de\u626b","Accuse Count(past week)":"\u88ab\u4e3e\u62a5\u6b21\u6570\uff08\u8fc7\u53bb\u4e00\u5468\uff09","Asset ID":"\u7d20\u6750ID","Asset IdType":"\u7d20\u6750\u7c7b\u578b","Asset PolicyLabel":"\u7d20\u6750\u653f\u7b56","Asset Current Status":"\u7d20\u6750\u5f53\u524d\u72b6\u6001","Asset Pending Status":"\u7d20\u6750\u671f\u671b\u72b6\u6001","Handle Asset Status":"\u5904\u7406\u7d20\u6750\u72b6\u6001","Approve Asset Update":"\u52a0\u5165\u767d\u540d\u5355","Reject Asset Update":"\u79fb\u51fa\u767d\u540d\u5355","Ignore Asset Update":"\u4e0d\u5904\u7406","Handle Asset Status failed":"\u5904\u7406\u7d20\u6750\u72b6\u6001\u5931\u8d25",AssetType:"ID \u7c7b\u578b",Image:"\u56fe\u7247",Accessory:"\u914d\u9970",Bundle:"\u5957\u88c5",Model:"\u6a21\u578b",Decal:"\u8d34\u82b1",Audio:"\u97f3\u9891",Video:"\u89c6\u9891",Mesh:"\u7f51\u683c",Plugin:"\u63d2\u4ef6","Select Action":"\u64cd\u4f5c",Approved:"\u52a0\u5165\u767d\u540d\u5355",Rejected:"\u79fb\u9664\u767d\u540d\u5355",CreateTickets:"\u751f\u6210\u5de5\u5355","Please fill in the required items":"\u8bf7\u586b\u5199\u5fc5\u586b\u9879\u76ee","Politics-related":"\u65f6\u653f\u76f8\u5173","Vulgarity and pornograpy":"\u6deb\u79fd\u8272\u60c5","Religion and Racism":"\u5b97\u6559\u4e0e\u79cd\u65cf",Criminality:"\u8fdd\u6cd5\u72af\u7f6a","Violence and Gore":"\u8840\u8165\u66b4\u529b",Horror:"\u6050\u6016\u60ca\u5413",Gambling:"\u8d4c\u535a","Culture and Ethics":"\u6587\u5316\u4e0e\u9053\u5fb7","IP Infringement":"\u4fb5\u6743","Platform Safety":"\u5e73\u53f0\u5b89\u5168","Social Media":"\u793e\u4ea4\u5a92\u4f53",Translation:"\u7ffb\u8bd1","Unavailable Asset":"\u4e0d\u53ef\u7528\u7d20\u6750","reject asset update must select the violationtype":"\u8bf7\u9700\u8981\u9009\u62e9\u79fb\u9664\u767d\u540d\u5355\u7684\u7406\u7531",AssetID:"\u7d20\u6750ID",IdType:"\u7d20\u6750\u7c7b\u578bID","Asset Type":"\u7d20\u6750\u7c7b\u578b",Comment:"\u5de5\u5355\u5907\u6ce8","Handle Whitelist Comment":"\u5907\u6ce8","comment placeholder":"\u586b\u5199\u5907\u6ce8","set violationType placeholder":"\u9009\u62e9\u7406\u7531",image:"\u56fe\u7247",screenshots:"\u5c4f\u5e55\u622a\u56fe",sound:"\u97f3\u9891",video:"\u89c6\u9891",text:"\u6587\u672c","Sort by completion status":"\u6309\u5b8c\u6210\u72b6\u6001\u6392\u5e8f",Reload:"\u91cd\u65b0\u52a0\u8f7d","Focus Mode":"\u5ba1\u6838\u6a21\u5f0f","Complete and Submit":"\u5b8c\u6210\u5e76\u63d0\u4ea4",top:"\u4e0a\u65b9",bottom:"\u4e0b\u65b9",left:"\u5de6\u4fa7",right:"\u53f3\u4fa7",front:"\u524d\u65b9",back:"\u540e\u65b9","Violating Words":"\u8fdd\u89c4\u8bcd\u6c47","Filter Type":"Filter \u7c7b\u578b",GeneralAbuse:"\u6574\u4f53\u8fdd\u89c4",Other:"\u5176\u5b83",Bullying:"\u6b3a\u51cc",Harassment:"\u9a9a\u6270",InappropriateTalk:"\u4e0d\u5f53\u8a00\u8bba",Link:"\u5916\u7f51\u94fe\u63a5",PersonalAttacks:"\u4eba\u8eab\u653b\u51fb",PersonalInfo:"\u4e2a\u4eba\u4fe1\u606f",Scam:"\u8bc8\u9a97",Spam:"\u5783\u573e\u4fe1\u606f",Swearing:"\u5492\u9a82",Dating:"\u7ebf\u4e0b\u7ea6\u4f1a",BadImage:"\u8fdd\u89c4\u56fe\u7247",BotAccount:"\u673a\u5668\u4eba",DiscriminatoryContent:"\u6b67\u89c6\u6027\u5185\u5bb9",BadDisplayName:"\u8fdd\u89c4\u6635\u79f0",AccountTheft:"\u76d7\u53f7",AltSpamAccounts:"\u5783\u573e\u4fe1\u606f\u8d26\u53f7",Dispute:"\u4e89\u8bae\u5185\u5bb9",BadUsername:"\u8fdd\u89c4\u6635\u79f0",Exploiting:"\u6076\u610f\u4f7f\u7528bug",Grooming:"\u672a\u6210\u5e74\u6027\u8bf1\u62d0",HateSpeech:"\u4ec7\u6068\u8a00\u8bba",KnownFraud:"\u6b3a\u8bc8",RealLifeThreats:"\u4eba\u8eab\u5a01\u80c1",Refund:"\u9000\u6b3e",SexGames:"\u6027\u76f8\u5173\u6e38\u620f",SellingAssetsforUSD:"\u9500\u552e\uff08\u9ed1\u4ea7\uff09",BuyingAssetsforUSD:"\u8d2d\u4e70\uff08\u9ed1\u4ea7\uff09",UserNameViolation:"\u73a9\u5bb6\u6635\u79f0\u6d89\u53ca\u8fdd\u89c4",UserMessageViolation:"\u73a9\u5bb6\u8a00\u8bba\u6d89\u53ca\u8fdd\u89c4",UserActionViolation:"\u73a9\u5bb6\u884c\u4e3a\u6d89\u53ca\u8fdd\u89c4","Enter Internal Comment":"\u8f93\u5165\u5185\u90e8\u5907\u6ce8\u4fe1\u606f","Internal Comment":"\u5185\u90e8\u5907\u6ce8\u4fe1\u606f",success:"\u6210\u529f",failure:"\u5931\u8d25",pass:"\u901a\u8fc7",negative:"\u62d2\u7edd","Export Result":"\u5bfc\u51fa\u7ed3\u679c",Game:"\u6e38\u620f",User:"\u7528\u6237","Display Name":"\u6635\u79f0","Game Info":"\u6e38\u620f\u4fe1\u606f","High Priority":"\u4f18\u5148","Submitted GameIds":"\u5df2\u63d0\u4ea4\u7684\u6e38\u620fID","Failed or Skipped GameIds":"\u5931\u8d25\u6216\u672a\u63d0\u4ea4\u7684\u6e38\u620fID","Add these games into whitelist":"\u5c06\u8fd9\u4e9b\u6e38\u620f\u52a0\u5165\u767d\u540d\u5355","Remove these games from whitelist":"\u5c06\u8fd9\u4e9b\u6e38\u620f\u79fb\u9664\u767d\u540d\u5355","Universe IDs":"\u6e38\u620fID\uff08\u901a\u7528ID\uff09",Asset:"\u7d20\u6750","Exceed asset update limitation":"\u7d20\u6750\u63d0\u4ea4\u6570\u91cf\u8d85\u8fc7\u4e0a\u9650\uff0c\u7d20\u6750\u6700\u9ad8\u63d0\u4ea4\u6570\u91cf100(1000)","Waiting for request to complete, Please don't refresh the page":"\u7b49\u5f85\u8bf7\u6c42\u5b8c\u6210\u4e2d\uff0c\u8bf7\u52ff\u5237\u65b0\u9875\u9762","Locked Ticket Number":"\u9886\u53d6\u5de5\u5355\u6570","Finished Ticket Number":"\u63d0\u4ea4\u5de5\u5355\u6570","Reopened Ticket Number":"\u91cd\u65b0\u6253\u5f00\u5de5\u5355\u6570","Average Game Review Time(sec)":"\u6e38\u620f\u5e73\u5747\u5ba1\u6838\u65f6\u957f(\u79d2)","Average User Review Time(sec)":"\u7528\u6237\u5e73\u5747\u5ba1\u6838\u65f6\u957f(\u79d2)","Average Name Review Time(sec)":"\u6635\u79f0\u5e73\u5747\u5ba1\u6838\u65f6\u957f(\u79d2)","Average GameInfo Review Time(sec)":"\u6e38\u620f\u4fe1\u606f\u5e73\u5747\u5ba1\u6838\u65f6\u957f(\u79d2)","Average Asset Review Time(sec)":"\u7d20\u6750\u5e73\u5747\u5ba1\u6838\u65f6\u957f(\u79d2)","Ticket Pool Name":"\u5de5\u5355\u6c60","Locked Time":"\u9886\u53d6\u65f6\u95f4","Reopened Time":"\u91cd\u65b0\u6253\u5f00\u65f6\u95f4","Submitted Time":"\u63d0\u4ea4\u65f6\u95f4","Review Time":"\u5ba1\u6838\u65f6\u957f","Submitted Tickets":"\u63d0\u4ea4\u5de5\u5355","Reopened Tickets":"\u91cd\u65b0\u6253\u5f00\u5de5\u5355","Update Whitelist Status":"\u767d\u540d\u5355\u5904\u7406\u7ed3\u679c","Successfully Created Asset Tickets":"\u6210\u529f\u521b\u5efa\u7d20\u6750\u5de5\u5355","Successfully Update Asset Status":"\u6210\u529f\u66f4\u65b0\u7d20\u6750\u72b6\u6001",resubmit:"\u91cd\u65b0\u63d0\u4ea4",GameOptIn:"\u65b0\u6e38\u620f\u5ba1\u6838",GameOptInEvent:"\u65b0\u6e38\u620f\u5ba1\u6838\u5de5\u5355",PlaceUpdatedAfterOptInEvent:"\u6e38\u620f\u66f4\u65b0\u5ba1\u6838\u5de5\u5355",Version:"\u7248\u672c\u53f7",Unchanged:"\u672a\u6539\u53d8",PlaceID:"\u573a\u666fID",Revert:"\u64a4\u9500","Copy Link":"\u590d\u5236\u94fe\u63a5",Ticket:"\u5de5\u5355",Creator:"\u521b\u4f5c\u8005","Leave a comment":"\u586b\u5165\u5907\u6ce8","WhitelistUpdateResult(nonticket action)":"\u767d\u540d\u5355\u66f4\u65b0\u7ed3\u679c\uff08\u975e\u5de5\u5355\u64cd\u4f5c\uff09",ModeratorTicketActionType:"\u5ba1\u6838\u4eba\u5458\u5de5\u5355\u64cd\u4f5c\u7c7b\u578b","place(s) has been updated":"\u4e2a\u573a\u666f\u53d1\u751f\u4e86\u66f4\u65b0",Reopen:"\u91cd\u65b0\u6253\u5f00",Pass:"\u901a\u8fc7","Not Pass":"\u4e0d\u901a\u8fc7","Place Name":"\u573a\u666f\u540d\u79f0","Latest Published Version":"\u6700\u65b0\u53d1\u5e03\u7684\u7248\u672c","Approved Versions":"\u5ba1\u6838\u901a\u8fc7\u7684\u7248\u672c","MASS QUERY PLACE VERSION DATA":"\u6279\u91cf\u67e5\u8be2\u573a\u666f\u7248\u672c\u6570\u636e",Query:"\u67e5\u8be2","Place Version Allowlist Query":"\u6e38\u620f\u573a\u666f\u767d\u540d\u5355\u67e5\u8be2","Asset Management Panel":"\u7d20\u6750\u7ba1\u7406\u9762\u677f","Search Asset Status":"\u7d20\u6750\u72b6\u6001\u67e5\u8be2","Bundle ID":"\u5957\u88c5ID","Enter Asset ID":"\u8f93\u5165\u7d20\u6750ID","Enter Bundle ID":"\u8f93\u5165\u5957\u88c5ID","Whitelist Status":"\u767d\u540d\u5355\u72b6\u6001",Expand:"\u5c55\u5f00",fold:"\u6298\u53e0","Moderation Comment":"\u5ba1\u6838\u5907\u6ce8",inWhitelist:"\u5728\u767d\u540d\u5355",notInWhitelist:"\u4e0d\u5728\u767d\u540d\u5355",inReview:"\u5ba1\u6838\u4e2d","Status Management":"\u72b6\u6001\u7ba1\u7406","Whitelist Record":"\u767d\u540d\u5355\u8bb0\u5f55","Violation Type":"\u8fdd\u89c4\u7c7b\u578b","Submit to moderate":"\u63d0\u4ea4\u5ba1\u6838",CopyIDs:"\u590d\u5236\u5168\u90e8ID",ActionTime:"\u64cd\u4f5c\u65f6\u95f4",Operator:"\u64cd\u4f5c\u4eba",ActionContent:"\u64cd\u4f5c\u5185\u5bb9","ID are copied to clipboard":"ID\u5df2\u590d\u5236\u5230\u526a\u5207\u677f","Close Game":"\u5173\u95ed\u6e38\u620f\u670d\u52a1\u5668","Close One Place's Game Servers In Luobu":"\u5173\u95ed\u5355\u4e2a\u573a\u666f\u5728\u7f57\u5e03\u4e50\u601d\u7684\u6e38\u620f\u670d\u52a1\u5668","Are you sure to close this place's servers?":"\u4f60\u786e\u5b9a\u8981\u5173\u95ed\u8fd9\u4e2a\u6e38\u620f\u573a\u666f\u7684\u670d\u52a1\u5668\u5417\uff1f",Yes:"\u662f",No:"\u5426","Search Fail":"\u67e5\u8be2\u5931\u8d25",remark:"\u5907\u6ce8","Data Dashboard":"\u6570\u636e\u8868\u76d8",Moderator:"\u5ba1\u6838\u5458","If submit current asset to moderate, it will be added to whitelist after approval. Do you want to continue?":"\u5c06\u6b64\u7d20\u6750\u63d0\u4ea4\u5ba1\u6838\uff0c\u5ba1\u6838\u540e\u901a\u8fc7\u52a0\u5165\u767d\u540d\u5355\uff0c\u662f\u5426\u786e\u8ba4\u64cd\u4f5c?","If removing this asset from whitelist, no moderation requires. Do you want to continue?":"\u5c06\u6b64\u7d20\u6750\u79fb\u51fa\u767d\u540d\u5355\uff0c\u65e0\u9700\u5ba1\u6838\uff0c\u662f\u5426\u786e\u8ba4\u64cd\u4f5c\uff1f","If adding this asset into whitelist, no moderation requires. Do you want to continue?":"\u5c06\u6b64\u7d20\u6750\u52a0\u5165\u767d\u540d\u5355\uff0c\u65e0\u9700\u5ba1\u6838\uff0c\u662f\u5426\u786e\u8ba4\u64cd\u4f5c\uff1f","Search Input exceed limitation":"\u8f93\u5165\u8d85\u8fc7\u4e0a\u9650",GameTicketPool:"\u6e38\u620f\u7c7b",UserTicketPool:"\u7528\u6237\u7c7b",DisplayNameTicketPool:"\u6635\u79f0\u7c7b",AssetTicketPool:"\u7d20\u6750\u7c7b",GameInfoTicketPool:"\u6e38\u620f\u4fe1\u606f\u7c7b",Days:"\u5929",Hours:"\u5c0f\u65f6",Minutes:"\u5206\u949f",Seconds:"\u79d2","The smallest unit is hour, will strip the values of minutes and seconds":"\u6700\u5c0f\u65f6\u95f4\u5355\u4f4d\u4e3a\u5c0f\u65f6\uff0c\u5c06\u6d88\u9664\u5206\u949f\u548c\u79d2\u949f\u7684\u503c","Missing Value":"\u6570\u636e\u7f3a\u5931","Toolbox Asset":"\u5de5\u5177\u7bb1\u7d20\u6750",Avatar:"\u865a\u62df\u5f62\u8c61","Please Select AssetType":"\u8bf7\u9009\u62e9\u7d20\u6750\u7c7b\u578b"}}},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0},detection:{order:["querystring","cookie","localStorage","sessionStorage"]}});wo.a;var Do=new u.OktaAuth(p.oidc),No=function(){return Object(ge.jsx)(l.a,{children:Object(ge.jsxs)(b.c,{oktaAuth:Do,children:[Object(ge.jsx)(Co,{children:Object(ge.jsxs)(d.c,{children:[Object(ge.jsx)(b.b,{path:"/",exact:!0,component:We}),Object(ge.jsx)(b.b,{path:"/ticket",component:ac}),Object(ge.jsx)(b.b,{path:"/ticketquery",exact:!0,component:hc}),Object(ge.jsx)(b.b,{path:"/gamestatusmetrics",exact:!0,component:di}),Object(ge.jsx)(b.b,{path:"/gamesortinfo",exact:!0,component:vi}),Object(ge.jsx)(b.b,{path:"/gamestatushistory",exact:!0,component:Ti}),Object(ge.jsx)(b.b,{path:"/mytickets",exact:!0,component:fc}),Object(ge.jsx)(b.b,{path:"/mylockedtickets",exact:!0,component:xc}),Object(ge.jsx)(b.b,{path:"/assetsallowlist",exact:!0,component:Ec}),Object(ge.jsx)(b.b,{path:"/gameallowlist",exact:!0,component:Pc}),Object(ge.jsx)(b.b,{path:"/asset-management-panel",exact:!0,component:Yc}),Object(ge.jsx)(b.b,{path:"/gamewhitelistquery",exact:!0,component:Vs}),Object(ge.jsx)(b.b,{path:"/banuser",exact:!0,component:qi}),Object(ge.jsx)(b.b,{path:"/actionhistory",exact:!0,component:$i}),Object(ge.jsx)(b.b,{path:"/batch-update",component:Os}),Object(ge.jsx)(b.b,{path:"/moderator-ticket-review",component:As}),Object(ge.jsx)(b.b,{path:"/moderator-finished-ticket-review",component:Gs}),Object(ge.jsx)(b.b,{path:"/moderator-reopened-ticket-review",component:Fs}),Object(ge.jsx)(b.b,{path:"/asset-whitelist-history",component:Ks}),Object(ge.jsx)(b.b,{path:"/close-game",exact:!0,component:Ys})]})}),Object(ge.jsx)(d.a,{path:"/login/callback",component:b.a})]})})};a(367);i.a.render(Object(ge.jsx)(No,{}),document.getElementById("root"))}},[[368,1,2]]]);
//# sourceMappingURL=main.6e0b3995.chunk.js.map